<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>WebDirectory</title>
    <link rel="stylesheet" href="css/index.css">
    <link href="https://cdn.jsdelivr.net/npm/tom-select@2.3.1/dist/css/tom-select.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="collapse navbar-collapse d-flex justify-content-around">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="btn btn-primary nav-link" id="listeEntrees">Afficher la liste des entrées</a>
            </li>
        </ul>
        <div class="d-flex">
            <label for="searchService">Rechercher par Service</label><input type="text" class="form-control" id="searchService" placeholder="Rechercher par Service">
        </div>
        <div class="d-flex">
            <label for="searchNom">Rechercher par Nom</label><input type="text" class="form-control" id="searchNom" placeholder="Rechercher par Nom">
        </div>
    </div>
</nav>

<div class="container mt-5">
    <div id="template">
        <h1 class="text-center mt-5">Bienvenue sur WebDirectory</h1>
    </div>
</div>


<script id="entreesTemplate" type="text/x-handlebars-template">
    <select id="selectTriNom" class="form-select form-select-lg mb-3" aria-label=".form-select-lg example">
        <option value="nom-asc">Tri par Nom (A-Z)</option>
        <option value="nom-desc">Tri par Nom (Z-A)</option>
        <option value="prenom-asc">Tri par Prénom (A-Z)</option>
        <option value="prenom-desc">Tri par Prénom (Z-A)</option>
        <option value="fonction-asc">Tri par Fonction (A-Z)</option>
        <option value="fonction-desc">Tri par Fonction (Z-A)</option>
        <option value="num_bureau-asc">Tri par Numéro de Bureau (1-9)</option>
        <option value="num_bureau-desc">Tri par Numéro de Bureau (9-1)</option>
        <option value="email-asc">Tri par Email (A-Z)</option>
        <option value="email-desc">Tri par Email (Z-A)</option>
    </select>
    {{#each entrees}}
    <div class="entree" data-url="{{url}}" onmouseover="this.style.cursor='pointer'; this.style.backgroundColor='#f5f5f5';" onmouseout="this.style.backgroundColor='';">
        <div class="card mb-3">
            <div class="card-header">
                <h2 class="card-title">{{nom}} {{prenom}}</h2>
            </div>
            <div class="card-body">
                <h6>Services : </h6>
                <ul>
                    {{#each services}}
                        <li>
                            <div class="service">
                                <p>{{libelle}}</p>
                            </div>
                        </li>
                    {{/each}}
                </ul>
            </div>
        </div>
    </div>
    {{/each}}
</script>

<script id="entreeTemplate" type="text/x-handlebars-template">
    <div class="entree" data-url="{{url}}">
        <div class="card mb-3">
            <div class="card-header">
                <h2 class="card-title">{{nom}} {{prenom}}</h2>
            </div>
            <div class="card-body">
                <h6>Fonction : {{fonction}}</h6>
                <h6>Numéro de bureau : {{num_bureau}}</h6>
                <a href="mailto:{{email}}">{{email}}</a>
                <h6>Photo : </h6>
                {{#if url_image}}
                    <img src="{{url_image}}" alt="photo" class="img-thumbnail">
                {{/if}}
                <h6>Services : </h6>
                <ul>
                    {{#each services}}
                        <li>
                            <div class="service">
                                <p>{{libelle}}</p>
                            </div>
                        </li>
                    {{/each}}
                </ul>
                <h6>Téléphones : </h6>
                <ul>
                    {{#each telephones}}
                        <li>
                            <div class="telephone">
                                <p>{{numero}}</p>
                            </div>
                        </li>
                    {{/each}}
                </ul>
            </div>
        </div>
    </div>
</script>

<script src="lib/index.js"></script>
</body>