{
  "version": 3,
  "sources": ["../node_modules/handlebars/lib/handlebars/utils.js", "../node_modules/handlebars/lib/handlebars/exception.js", "../node_modules/handlebars/lib/handlebars/helpers/block-helper-missing.js", "../node_modules/handlebars/lib/handlebars/helpers/each.js", "../node_modules/handlebars/lib/handlebars/helpers/helper-missing.js", "../node_modules/handlebars/lib/handlebars/helpers/if.js", "../node_modules/handlebars/lib/handlebars/helpers/log.js", "../node_modules/handlebars/lib/handlebars/helpers/lookup.js", "../node_modules/handlebars/lib/handlebars/helpers/with.js", "../node_modules/handlebars/lib/handlebars/helpers.js", "../node_modules/handlebars/lib/handlebars/decorators/inline.js", "../node_modules/handlebars/lib/handlebars/decorators.js", "../node_modules/handlebars/lib/handlebars/logger.js", "../node_modules/handlebars/lib/handlebars/internal/create-new-lookup-object.js", "../node_modules/handlebars/lib/handlebars/internal/proto-access.js", "../node_modules/handlebars/lib/handlebars/base.js", "../node_modules/handlebars/lib/handlebars/safe-string.js", "../node_modules/handlebars/lib/handlebars/internal/wrapHelper.js", "../node_modules/handlebars/lib/handlebars/runtime.js", "../node_modules/handlebars/lib/handlebars/no-conflict.js", "../node_modules/handlebars/lib/handlebars.runtime.js", "../node_modules/handlebars/lib/handlebars/compiler/ast.js", "../node_modules/handlebars/lib/handlebars/compiler/parser.js", "../node_modules/handlebars/lib/handlebars/compiler/visitor.js", "../node_modules/handlebars/lib/handlebars/compiler/whitespace-control.js", "../node_modules/handlebars/lib/handlebars/compiler/helpers.js", "../node_modules/handlebars/lib/handlebars/compiler/base.js", "../node_modules/handlebars/lib/handlebars/compiler/compiler.js", "../node_modules/source-map/lib/base64.js", "../node_modules/source-map/lib/base64-vlq.js", "../node_modules/source-map/lib/util.js", "../node_modules/source-map/lib/array-set.js", "../node_modules/source-map/lib/mapping-list.js", "../node_modules/source-map/lib/source-map-generator.js", "../node_modules/source-map/lib/binary-search.js", "../node_modules/source-map/lib/quick-sort.js", "../node_modules/source-map/lib/source-map-consumer.js", "../node_modules/source-map/lib/source-node.js", "../node_modules/source-map/source-map.js", "../node_modules/handlebars/lib/handlebars/compiler/code-gen.js", "../node_modules/handlebars/lib/handlebars/compiler/javascript-compiler.js", "../node_modules/handlebars/lib/handlebars.js", "../node_modules/tom-select/src/contrib/microevent.ts", "../node_modules/tom-select/src/contrib/microplugin.ts", "../node_modules/tom-select/node_modules/@orchidjs/unicode-variants/dist/esm/regex.js", "../node_modules/tom-select/node_modules/@orchidjs/unicode-variants/dist/esm/strings.js", "../node_modules/tom-select/node_modules/@orchidjs/unicode-variants/dist/esm/index.js", "../node_modules/tom-select/node_modules/@orchidjs/sifter/dist/esm/utils.js", "../node_modules/tom-select/node_modules/@orchidjs/sifter/dist/esm/sifter.js", "../node_modules/tom-select/node_modules/@orchidjs/sifter/lib/utils.ts", "../node_modules/tom-select/src/vanilla.ts", "../node_modules/tom-select/src/contrib/highlight.ts", "../node_modules/tom-select/src/constants.ts", "../node_modules/tom-select/src/defaults.ts", "../node_modules/tom-select/src/utils.ts", "../node_modules/tom-select/src/getSettings.ts", "../node_modules/tom-select/src/tom-select.ts", "../node_modules/tom-select/src/plugins/change_listener/plugin.ts", "../node_modules/tom-select/src/plugins/checkbox_options/plugin.ts", "../node_modules/tom-select/src/plugins/clear_button/plugin.ts", "../node_modules/tom-select/src/plugins/drag_drop/plugin.ts", "../node_modules/tom-select/src/plugins/dropdown_header/plugin.ts", "../node_modules/tom-select/src/plugins/caret_position/plugin.ts", "../node_modules/tom-select/src/plugins/dropdown_input/plugin.ts", "../node_modules/tom-select/src/plugins/input_autogrow/plugin.ts", "../node_modules/tom-select/src/plugins/no_backspace_delete/plugin.ts", "../node_modules/tom-select/src/plugins/no_active_items/plugin.ts", "../node_modules/tom-select/src/plugins/optgroup_columns/plugin.ts", "../node_modules/tom-select/src/plugins/remove_button/plugin.ts", "../node_modules/tom-select/src/plugins/restore_on_backspace/plugin.ts", "../node_modules/tom-select/src/plugins/virtual_scroll/plugin.ts", "../node_modules/tom-select/src/tom-select.complete.ts", "../js/config.js", "../js/loader.js", "../js/entreeLoader.js", "../js/entree_ui.js", "../js/search.js", "../js/index.js", "../js/servicesLoader.js"],
  "sourcesContent": ["const escape = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#x27;',\n  '`': '&#x60;',\n  '=': '&#x3D;'\n};\n\nconst badChars = /[&<>\"'`=]/g,\n  possible = /[&<>\"'`=]/;\n\nfunction escapeChar(chr) {\n  return escape[chr];\n}\n\nexport function extend(obj /* , ...source */) {\n  for (let i = 1; i < arguments.length; i++) {\n    for (let key in arguments[i]) {\n      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {\n        obj[key] = arguments[i][key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nexport let toString = Object.prototype.toString;\n\n// Sourced from lodash\n// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt\n/* eslint-disable func-style */\nlet isFunction = function(value) {\n  return typeof value === 'function';\n};\n// fallback for older versions of Chrome and Safari\n/* istanbul ignore next */\nif (isFunction(/x/)) {\n  isFunction = function(value) {\n    return (\n      typeof value === 'function' &&\n      toString.call(value) === '[object Function]'\n    );\n  };\n}\nexport { isFunction };\n/* eslint-enable func-style */\n\n/* istanbul ignore next */\nexport const isArray =\n  Array.isArray ||\n  function(value) {\n    return value && typeof value === 'object'\n      ? toString.call(value) === '[object Array]'\n      : false;\n  };\n\n// Older IE versions do not directly support indexOf so we must implement our own, sadly.\nexport function indexOf(array, value) {\n  for (let i = 0, len = array.length; i < len; i++) {\n    if (array[i] === value) {\n      return i;\n    }\n  }\n  return -1;\n}\n\nexport function escapeExpression(string) {\n  if (typeof string !== 'string') {\n    // don't escape SafeStrings, since they're already safe\n    if (string && string.toHTML) {\n      return string.toHTML();\n    } else if (string == null) {\n      return '';\n    } else if (!string) {\n      return string + '';\n    }\n\n    // Force a string conversion as this will be done by the append regardless and\n    // the regex test will do this transparently behind the scenes, causing issues if\n    // an object's to string has escaped characters in it.\n    string = '' + string;\n  }\n\n  if (!possible.test(string)) {\n    return string;\n  }\n  return string.replace(badChars, escapeChar);\n}\n\nexport function isEmpty(value) {\n  if (!value && value !== 0) {\n    return true;\n  } else if (isArray(value) && value.length === 0) {\n    return true;\n  } else {\n    return false;\n  }\n}\n\nexport function createFrame(object) {\n  let frame = extend({}, object);\n  frame._parent = object;\n  return frame;\n}\n\nexport function blockParams(params, ids) {\n  params.path = ids;\n  return params;\n}\n\nexport function appendContextPath(contextPath, id) {\n  return (contextPath ? contextPath + '.' : '') + id;\n}\n", "const errorProps = [\n  'description',\n  'fileName',\n  'lineNumber',\n  'endLineNumber',\n  'message',\n  'name',\n  'number',\n  'stack'\n];\n\nfunction Exception(message, node) {\n  let loc = node && node.loc,\n    line,\n    endLineNumber,\n    column,\n    endColumn;\n\n  if (loc) {\n    line = loc.start.line;\n    endLineNumber = loc.end.line;\n    column = loc.start.column;\n    endColumn = loc.end.column;\n\n    message += ' - ' + line + ':' + column;\n  }\n\n  let tmp = Error.prototype.constructor.call(this, message);\n\n  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.\n  for (let idx = 0; idx < errorProps.length; idx++) {\n    this[errorProps[idx]] = tmp[errorProps[idx]];\n  }\n\n  /* istanbul ignore else */\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, Exception);\n  }\n\n  try {\n    if (loc) {\n      this.lineNumber = line;\n      this.endLineNumber = endLineNumber;\n\n      // Work around issue under safari where we can't directly set the column value\n      /* istanbul ignore next */\n      if (Object.defineProperty) {\n        Object.defineProperty(this, 'column', {\n          value: column,\n          enumerable: true\n        });\n        Object.defineProperty(this, 'endColumn', {\n          value: endColumn,\n          enumerable: true\n        });\n      } else {\n        this.column = column;\n        this.endColumn = endColumn;\n      }\n    }\n  } catch (nop) {\n    /* Ignore if the browser is very particular */\n  }\n}\n\nException.prototype = new Error();\n\nexport default Exception;\n", "import { appendContextPath, createFrame, isArray } from '../utils';\n\nexport default function(instance) {\n  instance.registerHelper('blockHelperMissing', function(context, options) {\n    let inverse = options.inverse,\n      fn = options.fn;\n\n    if (context === true) {\n      return fn(this);\n    } else if (context === false || context == null) {\n      return inverse(this);\n    } else if (isArray(context)) {\n      if (context.length > 0) {\n        if (options.ids) {\n          options.ids = [options.name];\n        }\n\n        return instance.helpers.each(context, options);\n      } else {\n        return inverse(this);\n      }\n    } else {\n      if (options.data && options.ids) {\n        let data = createFrame(options.data);\n        data.contextPath = appendContextPath(\n          options.data.contextPath,\n          options.name\n        );\n        options = { data: data };\n      }\n\n      return fn(context, options);\n    }\n  });\n}\n", "import {\n  appendContextPath,\n  blockParams,\n  createFrame,\n  isArray,\n  isFunction\n} from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('each', function(context, options) {\n    if (!options) {\n      throw new Exception('Must pass iterator to #each');\n    }\n\n    let fn = options.fn,\n      inverse = options.inverse,\n      i = 0,\n      ret = '',\n      data,\n      contextPath;\n\n    if (options.data && options.ids) {\n      contextPath =\n        appendContextPath(options.data.contextPath, options.ids[0]) + '.';\n    }\n\n    if (isFunction(context)) {\n      context = context.call(this);\n    }\n\n    if (options.data) {\n      data = createFrame(options.data);\n    }\n\n    function execIteration(field, index, last) {\n      if (data) {\n        data.key = field;\n        data.index = index;\n        data.first = index === 0;\n        data.last = !!last;\n\n        if (contextPath) {\n          data.contextPath = contextPath + field;\n        }\n      }\n\n      ret =\n        ret +\n        fn(context[field], {\n          data: data,\n          blockParams: blockParams(\n            [context[field], field],\n            [contextPath + field, null]\n          )\n        });\n    }\n\n    if (context && typeof context === 'object') {\n      if (isArray(context)) {\n        for (let j = context.length; i < j; i++) {\n          if (i in context) {\n            execIteration(i, i, i === context.length - 1);\n          }\n        }\n      } else if (typeof Symbol === 'function' && context[Symbol.iterator]) {\n        const newContext = [];\n        const iterator = context[Symbol.iterator]();\n        for (let it = iterator.next(); !it.done; it = iterator.next()) {\n          newContext.push(it.value);\n        }\n        context = newContext;\n        for (let j = context.length; i < j; i++) {\n          execIteration(i, i, i === context.length - 1);\n        }\n      } else {\n        let priorKey;\n\n        Object.keys(context).forEach(key => {\n          // We're running the iterations one step out of sync so we can detect\n          // the last iteration without have to scan the object twice and create\n          // an itermediate keys array.\n          if (priorKey !== undefined) {\n            execIteration(priorKey, i - 1);\n          }\n          priorKey = key;\n          i++;\n        });\n        if (priorKey !== undefined) {\n          execIteration(priorKey, i - 1, true);\n        }\n      }\n    }\n\n    if (i === 0) {\n      ret = inverse(this);\n    }\n\n    return ret;\n  });\n}\n", "import Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('helperMissing', function(/* [args, ]options */) {\n    if (arguments.length === 1) {\n      // A missing field in a {{foo}} construct.\n      return undefined;\n    } else {\n      // Someone is actually trying to call something, blow up.\n      throw new Exception(\n        'Missing helper: \"' + arguments[arguments.length - 1].name + '\"'\n      );\n    }\n  });\n}\n", "import { isEmpty, isFunction } from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('if', function(conditional, options) {\n    if (arguments.length != 2) {\n      throw new Exception('#if requires exactly one argument');\n    }\n    if (isFunction(conditional)) {\n      conditional = conditional.call(this);\n    }\n\n    // Default behavior is to render the positive path if the value is truthy and not empty.\n    // The `includeZero` option may be set to treat the condtional as purely not empty based on the\n    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.\n    if ((!options.hash.includeZero && !conditional) || isEmpty(conditional)) {\n      return options.inverse(this);\n    } else {\n      return options.fn(this);\n    }\n  });\n\n  instance.registerHelper('unless', function(conditional, options) {\n    if (arguments.length != 2) {\n      throw new Exception('#unless requires exactly one argument');\n    }\n    return instance.helpers['if'].call(this, conditional, {\n      fn: options.inverse,\n      inverse: options.fn,\n      hash: options.hash\n    });\n  });\n}\n", "export default function(instance) {\n  instance.registerHelper('log', function(/* message, options */) {\n    let args = [undefined],\n      options = arguments[arguments.length - 1];\n    for (let i = 0; i < arguments.length - 1; i++) {\n      args.push(arguments[i]);\n    }\n\n    let level = 1;\n    if (options.hash.level != null) {\n      level = options.hash.level;\n    } else if (options.data && options.data.level != null) {\n      level = options.data.level;\n    }\n    args[0] = level;\n\n    instance.log(...args);\n  });\n}\n", "export default function(instance) {\n  instance.registerHelper('lookup', function(obj, field, options) {\n    if (!obj) {\n      // Note for 5.0: Change to \"obj == null\" in 5.0\n      return obj;\n    }\n    return options.lookupProperty(obj, field);\n  });\n}\n", "import {\n  appendContextPath,\n  blockParams,\n  createFrame,\n  isEmpty,\n  isFunction\n} from '../utils';\nimport Exception from '../exception';\n\nexport default function(instance) {\n  instance.registerHelper('with', function(context, options) {\n    if (arguments.length != 2) {\n      throw new Exception('#with requires exactly one argument');\n    }\n    if (isFunction(context)) {\n      context = context.call(this);\n    }\n\n    let fn = options.fn;\n\n    if (!isEmpty(context)) {\n      let data = options.data;\n      if (options.data && options.ids) {\n        data = createFrame(options.data);\n        data.contextPath = appendContextPath(\n          options.data.contextPath,\n          options.ids[0]\n        );\n      }\n\n      return fn(context, {\n        data: data,\n        blockParams: blockParams([context], [data && data.contextPath])\n      });\n    } else {\n      return options.inverse(this);\n    }\n  });\n}\n", "import registerBlockHelperMissing from './helpers/block-helper-missing';\nimport registerEach from './helpers/each';\nimport registerHelperMissing from './helpers/helper-missing';\nimport registerIf from './helpers/if';\nimport registerLog from './helpers/log';\nimport registerLookup from './helpers/lookup';\nimport registerWith from './helpers/with';\n\nexport function registerDefaultHelpers(instance) {\n  registerBlockHelperMissing(instance);\n  registerEach(instance);\n  registerHelperMissing(instance);\n  registerIf(instance);\n  registerLog(instance);\n  registerLookup(instance);\n  registerWith(instance);\n}\n\nexport function moveHelperToHooks(instance, helperName, keepHelper) {\n  if (instance.helpers[helperName]) {\n    instance.hooks[helperName] = instance.helpers[helperName];\n    if (!keepHelper) {\n      delete instance.helpers[helperName];\n    }\n  }\n}\n", "import { extend } from '../utils';\n\nexport default function(instance) {\n  instance.registerDecorator('inline', function(fn, props, container, options) {\n    let ret = fn;\n    if (!props.partials) {\n      props.partials = {};\n      ret = function(context, options) {\n        // Create a new partials stack frame prior to exec.\n        let original = container.partials;\n        container.partials = extend({}, original, props.partials);\n        let ret = fn(context, options);\n        container.partials = original;\n        return ret;\n      };\n    }\n\n    props.partials[options.args[0]] = options.fn;\n\n    return ret;\n  });\n}\n", "import registerInline from './decorators/inline';\n\nexport function registerDefaultDecorators(instance) {\n  registerInline(instance);\n}\n", "import { indexOf } from './utils';\n\nlet logger = {\n  methodMap: ['debug', 'info', 'warn', 'error'],\n  level: 'info',\n\n  // Maps a given level value to the `methodMap` indexes above.\n  lookupLevel: function(level) {\n    if (typeof level === 'string') {\n      let levelMap = indexOf(logger.methodMap, level.toLowerCase());\n      if (levelMap >= 0) {\n        level = levelMap;\n      } else {\n        level = parseInt(level, 10);\n      }\n    }\n\n    return level;\n  },\n\n  // Can be overridden in the host environment\n  log: function(level, ...message) {\n    level = logger.lookupLevel(level);\n\n    if (\n      typeof console !== 'undefined' &&\n      logger.lookupLevel(logger.level) <= level\n    ) {\n      let method = logger.methodMap[level];\n      // eslint-disable-next-line no-console\n      if (!console[method]) {\n        method = 'log';\n      }\n      console[method](...message); // eslint-disable-line no-console\n    }\n  }\n};\n\nexport default logger;\n", "import { extend } from '../utils';\n\n/**\n * Create a new object with \"null\"-prototype to avoid truthy results on prototype properties.\n * The resulting object can be used with \"object[property]\" to check if a property exists\n * @param {...object} sources a varargs parameter of source objects that will be merged\n * @returns {object}\n */\nexport function createNewLookupObject(...sources) {\n  return extend(Object.create(null), ...sources);\n}\n", "import { createNewLookupObject } from './create-new-lookup-object';\nimport logger from '../logger';\n\nconst loggedProperties = Object.create(null);\n\nexport function createProtoAccessControl(runtimeOptions) {\n  let defaultMethodWhiteList = Object.create(null);\n  defaultMethodWhiteList['constructor'] = false;\n  defaultMethodWhiteList['__defineGetter__'] = false;\n  defaultMethodWhiteList['__defineSetter__'] = false;\n  defaultMethodWhiteList['__lookupGetter__'] = false;\n\n  let defaultPropertyWhiteList = Object.create(null);\n  // eslint-disable-next-line no-proto\n  defaultPropertyWhiteList['__proto__'] = false;\n\n  return {\n    properties: {\n      whitelist: createNewLookupObject(\n        defaultPropertyWhiteList,\n        runtimeOptions.allowedProtoProperties\n      ),\n      defaultValue: runtimeOptions.allowProtoPropertiesByDefault\n    },\n    methods: {\n      whitelist: createNewLookupObject(\n        defaultMethodWhiteList,\n        runtimeOptions.allowedProtoMethods\n      ),\n      defaultValue: runtimeOptions.allowProtoMethodsByDefault\n    }\n  };\n}\n\nexport function resultIsAllowed(result, protoAccessControl, propertyName) {\n  if (typeof result === 'function') {\n    return checkWhiteList(protoAccessControl.methods, propertyName);\n  } else {\n    return checkWhiteList(protoAccessControl.properties, propertyName);\n  }\n}\n\nfunction checkWhiteList(protoAccessControlForType, propertyName) {\n  if (protoAccessControlForType.whitelist[propertyName] !== undefined) {\n    return protoAccessControlForType.whitelist[propertyName] === true;\n  }\n  if (protoAccessControlForType.defaultValue !== undefined) {\n    return protoAccessControlForType.defaultValue;\n  }\n  logUnexpecedPropertyAccessOnce(propertyName);\n  return false;\n}\n\nfunction logUnexpecedPropertyAccessOnce(propertyName) {\n  if (loggedProperties[propertyName] !== true) {\n    loggedProperties[propertyName] = true;\n    logger.log(\n      'error',\n      `Handlebars: Access has been denied to resolve the property \"${propertyName}\" because it is not an \"own property\" of its parent.\\n` +\n        `You can add a runtime option to disable the check or this warning:\\n` +\n        `See https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`\n    );\n  }\n}\n\nexport function resetLoggedProperties() {\n  Object.keys(loggedProperties).forEach(propertyName => {\n    delete loggedProperties[propertyName];\n  });\n}\n", "import { createFrame, extend, toString } from './utils';\nimport Exception from './exception';\nimport { registerDefaultHelpers } from './helpers';\nimport { registerDefaultDecorators } from './decorators';\nimport logger from './logger';\nimport { resetLoggedProperties } from './internal/proto-access';\n\nexport const VERSION = '4.7.8';\nexport const COMPILER_REVISION = 8;\nexport const LAST_COMPATIBLE_COMPILER_REVISION = 7;\n\nexport const REVISION_CHANGES = {\n  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it\n  2: '== 1.0.0-rc.3',\n  3: '== 1.0.0-rc.4',\n  4: '== 1.x.x',\n  5: '== 2.0.0-alpha.x',\n  6: '>= 2.0.0-beta.1',\n  7: '>= 4.0.0 <4.3.0',\n  8: '>= 4.3.0'\n};\n\nconst objectType = '[object Object]';\n\nexport function HandlebarsEnvironment(helpers, partials, decorators) {\n  this.helpers = helpers || {};\n  this.partials = partials || {};\n  this.decorators = decorators || {};\n\n  registerDefaultHelpers(this);\n  registerDefaultDecorators(this);\n}\n\nHandlebarsEnvironment.prototype = {\n  constructor: HandlebarsEnvironment,\n\n  logger: logger,\n  log: logger.log,\n\n  registerHelper: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) {\n        throw new Exception('Arg not supported with multiple helpers');\n      }\n      extend(this.helpers, name);\n    } else {\n      this.helpers[name] = fn;\n    }\n  },\n  unregisterHelper: function(name) {\n    delete this.helpers[name];\n  },\n\n  registerPartial: function(name, partial) {\n    if (toString.call(name) === objectType) {\n      extend(this.partials, name);\n    } else {\n      if (typeof partial === 'undefined') {\n        throw new Exception(\n          `Attempting to register a partial called \"${name}\" as undefined`\n        );\n      }\n      this.partials[name] = partial;\n    }\n  },\n  unregisterPartial: function(name) {\n    delete this.partials[name];\n  },\n\n  registerDecorator: function(name, fn) {\n    if (toString.call(name) === objectType) {\n      if (fn) {\n        throw new Exception('Arg not supported with multiple decorators');\n      }\n      extend(this.decorators, name);\n    } else {\n      this.decorators[name] = fn;\n    }\n  },\n  unregisterDecorator: function(name) {\n    delete this.decorators[name];\n  },\n  /**\n   * Reset the memory of illegal property accesses that have already been logged.\n   * @deprecated should only be used in handlebars test-cases\n   */\n  resetLoggedPropertyAccesses() {\n    resetLoggedProperties();\n  }\n};\n\nexport let log = logger.log;\n\nexport { createFrame, logger };\n", "// Build out our basic SafeString type\nfunction SafeString(string) {\n  this.string = string;\n}\n\nSafeString.prototype.toString = SafeString.prototype.toHTML = function() {\n  return '' + this.string;\n};\n\nexport default SafeString;\n", "export function wrapHelper(helper, transformOptionsFn) {\n  if (typeof helper !== 'function') {\n    // This should not happen, but apparently it does in https://github.com/wycats/handlebars.js/issues/1639\n    // We try to make the wrapper least-invasive by not wrapping it, if the helper is not a function.\n    return helper;\n  }\n  let wrapper = function(/* dynamic arguments */) {\n    const options = arguments[arguments.length - 1];\n    arguments[arguments.length - 1] = transformOptionsFn(options);\n    return helper.apply(this, arguments);\n  };\n  return wrapper;\n}\n", "import * as Utils from './utils';\nimport Exception from './exception';\nimport {\n  COMPILER_REVISION,\n  createFrame,\n  LAST_COMPATIBLE_COMPILER_REVISION,\n  REVISION_CHANGES\n} from './base';\nimport { moveHelperToHooks } from './helpers';\nimport { wrapHelper } from './internal/wrapHelper';\nimport {\n  createProtoAccessControl,\n  resultIsAllowed\n} from './internal/proto-access';\n\nexport function checkRevision(compilerInfo) {\n  const compilerRevision = (compilerInfo && compilerInfo[0]) || 1,\n    currentRevision = COMPILER_REVISION;\n\n  if (\n    compilerRevision >= LAST_COMPATIBLE_COMPILER_REVISION &&\n    compilerRevision <= COMPILER_REVISION\n  ) {\n    return;\n  }\n\n  if (compilerRevision < LAST_COMPATIBLE_COMPILER_REVISION) {\n    const runtimeVersions = REVISION_CHANGES[currentRevision],\n      compilerVersions = REVISION_CHANGES[compilerRevision];\n    throw new Exception(\n      'Template was precompiled with an older version of Handlebars than the current runtime. ' +\n        'Please update your precompiler to a newer version (' +\n        runtimeVersions +\n        ') or downgrade your runtime to an older version (' +\n        compilerVersions +\n        ').'\n    );\n  } else {\n    // Use the embedded version info since the runtime doesn't know about this revision yet\n    throw new Exception(\n      'Template was precompiled with a newer version of Handlebars than the current runtime. ' +\n        'Please update your runtime to a newer version (' +\n        compilerInfo[1] +\n        ').'\n    );\n  }\n}\n\nexport function template(templateSpec, env) {\n  /* istanbul ignore next */\n  if (!env) {\n    throw new Exception('No environment passed to template');\n  }\n  if (!templateSpec || !templateSpec.main) {\n    throw new Exception('Unknown template object: ' + typeof templateSpec);\n  }\n\n  templateSpec.main.decorator = templateSpec.main_d;\n\n  // Note: Using env.VM references rather than local var references throughout this section to allow\n  // for external users to override these as pseudo-supported APIs.\n  env.VM.checkRevision(templateSpec.compiler);\n\n  // backwards compatibility for precompiled templates with compiler-version 7 (<4.3.0)\n  const templateWasPrecompiledWithCompilerV7 =\n    templateSpec.compiler && templateSpec.compiler[0] === 7;\n\n  function invokePartialWrapper(partial, context, options) {\n    if (options.hash) {\n      context = Utils.extend({}, context, options.hash);\n      if (options.ids) {\n        options.ids[0] = true;\n      }\n    }\n    partial = env.VM.resolvePartial.call(this, partial, context, options);\n\n    let extendedOptions = Utils.extend({}, options, {\n      hooks: this.hooks,\n      protoAccessControl: this.protoAccessControl\n    });\n\n    let result = env.VM.invokePartial.call(\n      this,\n      partial,\n      context,\n      extendedOptions\n    );\n\n    if (result == null && env.compile) {\n      options.partials[options.name] = env.compile(\n        partial,\n        templateSpec.compilerOptions,\n        env\n      );\n      result = options.partials[options.name](context, extendedOptions);\n    }\n    if (result != null) {\n      if (options.indent) {\n        let lines = result.split('\\n');\n        for (let i = 0, l = lines.length; i < l; i++) {\n          if (!lines[i] && i + 1 === l) {\n            break;\n          }\n\n          lines[i] = options.indent + lines[i];\n        }\n        result = lines.join('\\n');\n      }\n      return result;\n    } else {\n      throw new Exception(\n        'The partial ' +\n          options.name +\n          ' could not be compiled when running in runtime-only mode'\n      );\n    }\n  }\n\n  // Just add water\n  let container = {\n    strict: function(obj, name, loc) {\n      if (!obj || !(name in obj)) {\n        throw new Exception('\"' + name + '\" not defined in ' + obj, {\n          loc: loc\n        });\n      }\n      return container.lookupProperty(obj, name);\n    },\n    lookupProperty: function(parent, propertyName) {\n      let result = parent[propertyName];\n      if (result == null) {\n        return result;\n      }\n      if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n        return result;\n      }\n\n      if (resultIsAllowed(result, container.protoAccessControl, propertyName)) {\n        return result;\n      }\n      return undefined;\n    },\n    lookup: function(depths, name) {\n      const len = depths.length;\n      for (let i = 0; i < len; i++) {\n        let result = depths[i] && container.lookupProperty(depths[i], name);\n        if (result != null) {\n          return depths[i][name];\n        }\n      }\n    },\n    lambda: function(current, context) {\n      return typeof current === 'function' ? current.call(context) : current;\n    },\n\n    escapeExpression: Utils.escapeExpression,\n    invokePartial: invokePartialWrapper,\n\n    fn: function(i) {\n      let ret = templateSpec[i];\n      ret.decorator = templateSpec[i + '_d'];\n      return ret;\n    },\n\n    programs: [],\n    program: function(i, data, declaredBlockParams, blockParams, depths) {\n      let programWrapper = this.programs[i],\n        fn = this.fn(i);\n      if (data || depths || blockParams || declaredBlockParams) {\n        programWrapper = wrapProgram(\n          this,\n          i,\n          fn,\n          data,\n          declaredBlockParams,\n          blockParams,\n          depths\n        );\n      } else if (!programWrapper) {\n        programWrapper = this.programs[i] = wrapProgram(this, i, fn);\n      }\n      return programWrapper;\n    },\n\n    data: function(value, depth) {\n      while (value && depth--) {\n        value = value._parent;\n      }\n      return value;\n    },\n    mergeIfNeeded: function(param, common) {\n      let obj = param || common;\n\n      if (param && common && param !== common) {\n        obj = Utils.extend({}, common, param);\n      }\n\n      return obj;\n    },\n    // An empty object to use as replacement for null-contexts\n    nullContext: Object.seal({}),\n\n    noop: env.VM.noop,\n    compilerInfo: templateSpec.compiler\n  };\n\n  function ret(context, options = {}) {\n    let data = options.data;\n\n    ret._setup(options);\n    if (!options.partial && templateSpec.useData) {\n      data = initData(context, data);\n    }\n    let depths,\n      blockParams = templateSpec.useBlockParams ? [] : undefined;\n    if (templateSpec.useDepths) {\n      if (options.depths) {\n        depths =\n          context != options.depths[0]\n            ? [context].concat(options.depths)\n            : options.depths;\n      } else {\n        depths = [context];\n      }\n    }\n\n    function main(context /*, options*/) {\n      return (\n        '' +\n        templateSpec.main(\n          container,\n          context,\n          container.helpers,\n          container.partials,\n          data,\n          blockParams,\n          depths\n        )\n      );\n    }\n\n    main = executeDecorators(\n      templateSpec.main,\n      main,\n      container,\n      options.depths || [],\n      data,\n      blockParams\n    );\n    return main(context, options);\n  }\n\n  ret.isTop = true;\n\n  ret._setup = function(options) {\n    if (!options.partial) {\n      let mergedHelpers = Utils.extend({}, env.helpers, options.helpers);\n      wrapHelpersToPassLookupProperty(mergedHelpers, container);\n      container.helpers = mergedHelpers;\n\n      if (templateSpec.usePartial) {\n        // Use mergeIfNeeded here to prevent compiling global partials multiple times\n        container.partials = container.mergeIfNeeded(\n          options.partials,\n          env.partials\n        );\n      }\n      if (templateSpec.usePartial || templateSpec.useDecorators) {\n        container.decorators = Utils.extend(\n          {},\n          env.decorators,\n          options.decorators\n        );\n      }\n\n      container.hooks = {};\n      container.protoAccessControl = createProtoAccessControl(options);\n\n      let keepHelperInHelpers =\n        options.allowCallsToHelperMissing ||\n        templateWasPrecompiledWithCompilerV7;\n      moveHelperToHooks(container, 'helperMissing', keepHelperInHelpers);\n      moveHelperToHooks(container, 'blockHelperMissing', keepHelperInHelpers);\n    } else {\n      container.protoAccessControl = options.protoAccessControl; // internal option\n      container.helpers = options.helpers;\n      container.partials = options.partials;\n      container.decorators = options.decorators;\n      container.hooks = options.hooks;\n    }\n  };\n\n  ret._child = function(i, data, blockParams, depths) {\n    if (templateSpec.useBlockParams && !blockParams) {\n      throw new Exception('must pass block params');\n    }\n    if (templateSpec.useDepths && !depths) {\n      throw new Exception('must pass parent depths');\n    }\n\n    return wrapProgram(\n      container,\n      i,\n      templateSpec[i],\n      data,\n      0,\n      blockParams,\n      depths\n    );\n  };\n  return ret;\n}\n\nexport function wrapProgram(\n  container,\n  i,\n  fn,\n  data,\n  declaredBlockParams,\n  blockParams,\n  depths\n) {\n  function prog(context, options = {}) {\n    let currentDepths = depths;\n    if (\n      depths &&\n      context != depths[0] &&\n      !(context === container.nullContext && depths[0] === null)\n    ) {\n      currentDepths = [context].concat(depths);\n    }\n\n    return fn(\n      container,\n      context,\n      container.helpers,\n      container.partials,\n      options.data || data,\n      blockParams && [options.blockParams].concat(blockParams),\n      currentDepths\n    );\n  }\n\n  prog = executeDecorators(fn, prog, container, depths, data, blockParams);\n\n  prog.program = i;\n  prog.depth = depths ? depths.length : 0;\n  prog.blockParams = declaredBlockParams || 0;\n  return prog;\n}\n\n/**\n * This is currently part of the official API, therefore implementation details should not be changed.\n */\nexport function resolvePartial(partial, context, options) {\n  if (!partial) {\n    if (options.name === '@partial-block') {\n      partial = options.data['partial-block'];\n    } else {\n      partial = options.partials[options.name];\n    }\n  } else if (!partial.call && !options.name) {\n    // This is a dynamic partial that returned a string\n    options.name = partial;\n    partial = options.partials[partial];\n  }\n  return partial;\n}\n\nexport function invokePartial(partial, context, options) {\n  // Use the current closure context to save the partial-block if this partial\n  const currentPartialBlock = options.data && options.data['partial-block'];\n  options.partial = true;\n  if (options.ids) {\n    options.data.contextPath = options.ids[0] || options.data.contextPath;\n  }\n\n  let partialBlock;\n  if (options.fn && options.fn !== noop) {\n    options.data = createFrame(options.data);\n    // Wrapper function to get access to currentPartialBlock from the closure\n    let fn = options.fn;\n    partialBlock = options.data['partial-block'] = function partialBlockWrapper(\n      context,\n      options = {}\n    ) {\n      // Restore the partial-block from the closure for the execution of the block\n      // i.e. the part inside the block of the partial call.\n      options.data = createFrame(options.data);\n      options.data['partial-block'] = currentPartialBlock;\n      return fn(context, options);\n    };\n    if (fn.partials) {\n      options.partials = Utils.extend({}, options.partials, fn.partials);\n    }\n  }\n\n  if (partial === undefined && partialBlock) {\n    partial = partialBlock;\n  }\n\n  if (partial === undefined) {\n    throw new Exception('The partial ' + options.name + ' could not be found');\n  } else if (partial instanceof Function) {\n    return partial(context, options);\n  }\n}\n\nexport function noop() {\n  return '';\n}\n\nfunction initData(context, data) {\n  if (!data || !('root' in data)) {\n    data = data ? createFrame(data) : {};\n    data.root = context;\n  }\n  return data;\n}\n\nfunction executeDecorators(fn, prog, container, depths, data, blockParams) {\n  if (fn.decorator) {\n    let props = {};\n    prog = fn.decorator(\n      prog,\n      props,\n      container,\n      depths && depths[0],\n      data,\n      blockParams,\n      depths\n    );\n    Utils.extend(prog, props);\n  }\n  return prog;\n}\n\nfunction wrapHelpersToPassLookupProperty(mergedHelpers, container) {\n  Object.keys(mergedHelpers).forEach(helperName => {\n    let helper = mergedHelpers[helperName];\n    mergedHelpers[helperName] = passLookupPropertyOption(helper, container);\n  });\n}\n\nfunction passLookupPropertyOption(helper, container) {\n  const lookupProperty = container.lookupProperty;\n  return wrapHelper(helper, options => {\n    return Utils.extend({ lookupProperty }, options);\n  });\n}\n", "/* global globalThis */\nexport default function(Handlebars) {\n  /* istanbul ignore next */\n  // https://mathiasbynens.be/notes/globalthis\n  (function() {\n    if (typeof globalThis === 'object') return;\n    Object.prototype.__defineGetter__('__magic__', function() {\n      return this;\n    });\n    __magic__.globalThis = __magic__; // eslint-disable-line no-undef\n    delete Object.prototype.__magic__;\n  })();\n\n  const $Handlebars = globalThis.Handlebars;\n\n  /* istanbul ignore next */\n  Handlebars.noConflict = function() {\n    if (globalThis.Handlebars === Handlebars) {\n      globalThis.Handlebars = $Handlebars;\n    }\n    return Handlebars;\n  };\n}\n", "import * as base from './handlebars/base';\n\n// Each of these augment the Handlebars object. No need to setup here.\n// (This is done to easily share code between commonjs and browse envs)\nimport SafeString from './handlebars/safe-string';\nimport Exception from './handlebars/exception';\nimport * as Utils from './handlebars/utils';\nimport * as runtime from './handlebars/runtime';\n\nimport noConflict from './handlebars/no-conflict';\n\n// For compatibility and usage outside of module systems, make the Handlebars object a namespace\nfunction create() {\n  let hb = new base.HandlebarsEnvironment();\n\n  Utils.extend(hb, base);\n  hb.SafeString = SafeString;\n  hb.Exception = Exception;\n  hb.Utils = Utils;\n  hb.escapeExpression = Utils.escapeExpression;\n\n  hb.VM = runtime;\n  hb.template = function(spec) {\n    return runtime.template(spec, hb);\n  };\n\n  return hb;\n}\n\nlet inst = create();\ninst.create = create;\n\nnoConflict(inst);\n\ninst['default'] = inst;\n\nexport default inst;\n", "let AST = {\n  // Public API used to evaluate derived attributes regarding AST nodes\n  helpers: {\n    // a mustache is definitely a helper if:\n    // * it is an eligible helper, and\n    // * it has at least one parameter or hash segment\n    helperExpression: function(node) {\n      return (\n        node.type === 'SubExpression' ||\n        ((node.type === 'MustacheStatement' ||\n          node.type === 'BlockStatement') &&\n          !!((node.params && node.params.length) || node.hash))\n      );\n    },\n\n    scopedId: function(path) {\n      return /^\\.|this\\b/.test(path.original);\n    },\n\n    // an ID is simple if it only has one part, and that part is not\n    // `..` or `this`.\n    simpleId: function(path) {\n      return (\n        path.parts.length === 1 && !AST.helpers.scopedId(path) && !path.depth\n      );\n    }\n  }\n};\n\n// Must be exported as an object rather than the root of the module as the jison lexer\n// must modify the object to operate properly.\nexport default AST;\n", "// File ignored in coverage tests via setting in .istanbul.yml\n/* Jison generated parser */\nvar handlebars = (function(){\nvar parser = {trace: function trace () { },\nyy: {},\nsymbols_: {\"error\":2,\"root\":3,\"program\":4,\"EOF\":5,\"program_repetition0\":6,\"statement\":7,\"mustache\":8,\"block\":9,\"rawBlock\":10,\"partial\":11,\"partialBlock\":12,\"content\":13,\"COMMENT\":14,\"CONTENT\":15,\"openRawBlock\":16,\"rawBlock_repetition0\":17,\"END_RAW_BLOCK\":18,\"OPEN_RAW_BLOCK\":19,\"helperName\":20,\"openRawBlock_repetition0\":21,\"openRawBlock_option0\":22,\"CLOSE_RAW_BLOCK\":23,\"openBlock\":24,\"block_option0\":25,\"closeBlock\":26,\"openInverse\":27,\"block_option1\":28,\"OPEN_BLOCK\":29,\"openBlock_repetition0\":30,\"openBlock_option0\":31,\"openBlock_option1\":32,\"CLOSE\":33,\"OPEN_INVERSE\":34,\"openInverse_repetition0\":35,\"openInverse_option0\":36,\"openInverse_option1\":37,\"openInverseChain\":38,\"OPEN_INVERSE_CHAIN\":39,\"openInverseChain_repetition0\":40,\"openInverseChain_option0\":41,\"openInverseChain_option1\":42,\"inverseAndProgram\":43,\"INVERSE\":44,\"inverseChain\":45,\"inverseChain_option0\":46,\"OPEN_ENDBLOCK\":47,\"OPEN\":48,\"mustache_repetition0\":49,\"mustache_option0\":50,\"OPEN_UNESCAPED\":51,\"mustache_repetition1\":52,\"mustache_option1\":53,\"CLOSE_UNESCAPED\":54,\"OPEN_PARTIAL\":55,\"partialName\":56,\"partial_repetition0\":57,\"partial_option0\":58,\"openPartialBlock\":59,\"OPEN_PARTIAL_BLOCK\":60,\"openPartialBlock_repetition0\":61,\"openPartialBlock_option0\":62,\"param\":63,\"sexpr\":64,\"OPEN_SEXPR\":65,\"sexpr_repetition0\":66,\"sexpr_option0\":67,\"CLOSE_SEXPR\":68,\"hash\":69,\"hash_repetition_plus0\":70,\"hashSegment\":71,\"ID\":72,\"EQUALS\":73,\"blockParams\":74,\"OPEN_BLOCK_PARAMS\":75,\"blockParams_repetition_plus0\":76,\"CLOSE_BLOCK_PARAMS\":77,\"path\":78,\"dataName\":79,\"STRING\":80,\"NUMBER\":81,\"BOOLEAN\":82,\"UNDEFINED\":83,\"NULL\":84,\"DATA\":85,\"pathSegments\":86,\"SEP\":87,\"$accept\":0,\"$end\":1},\nterminals_: {2:\"error\",5:\"EOF\",14:\"COMMENT\",15:\"CONTENT\",18:\"END_RAW_BLOCK\",19:\"OPEN_RAW_BLOCK\",23:\"CLOSE_RAW_BLOCK\",29:\"OPEN_BLOCK\",33:\"CLOSE\",34:\"OPEN_INVERSE\",39:\"OPEN_INVERSE_CHAIN\",44:\"INVERSE\",47:\"OPEN_ENDBLOCK\",48:\"OPEN\",51:\"OPEN_UNESCAPED\",54:\"CLOSE_UNESCAPED\",55:\"OPEN_PARTIAL\",60:\"OPEN_PARTIAL_BLOCK\",65:\"OPEN_SEXPR\",68:\"CLOSE_SEXPR\",72:\"ID\",73:\"EQUALS\",75:\"OPEN_BLOCK_PARAMS\",77:\"CLOSE_BLOCK_PARAMS\",80:\"STRING\",81:\"NUMBER\",82:\"BOOLEAN\",83:\"UNDEFINED\",84:\"NULL\",85:\"DATA\",87:\"SEP\"},\nproductions_: [0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],\nperformAction: function anonymous(yytext,yyleng,yylineno,yy,yystate,$$,_$\n) {\n\nvar $0 = $$.length - 1;\nswitch (yystate) {\ncase 1: return $$[$0-1]; \nbreak;\ncase 2:this.$ = yy.prepareProgram($$[$0]);\nbreak;\ncase 3:this.$ = $$[$0];\nbreak;\ncase 4:this.$ = $$[$0];\nbreak;\ncase 5:this.$ = $$[$0];\nbreak;\ncase 6:this.$ = $$[$0];\nbreak;\ncase 7:this.$ = $$[$0];\nbreak;\ncase 8:this.$ = $$[$0];\nbreak;\ncase 9:\n    this.$ = {\n      type: 'CommentStatement',\n      value: yy.stripComment($$[$0]),\n      strip: yy.stripFlags($$[$0], $$[$0]),\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 10:\n    this.$ = {\n      type: 'ContentStatement',\n      original: $$[$0],\n      value: $$[$0],\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 11:this.$ = yy.prepareRawBlock($$[$0-2], $$[$0-1], $$[$0], this._$);\nbreak;\ncase 12:this.$ = { path: $$[$0-3], params: $$[$0-2], hash: $$[$0-1] };\nbreak;\ncase 13:this.$ = yy.prepareBlock($$[$0-3], $$[$0-2], $$[$0-1], $$[$0], false, this._$);\nbreak;\ncase 14:this.$ = yy.prepareBlock($$[$0-3], $$[$0-2], $$[$0-1], $$[$0], true, this._$);\nbreak;\ncase 15:this.$ = { open: $$[$0-5], path: $$[$0-4], params: $$[$0-3], hash: $$[$0-2], blockParams: $$[$0-1], strip: yy.stripFlags($$[$0-5], $$[$0]) };\nbreak;\ncase 16:this.$ = { path: $$[$0-4], params: $$[$0-3], hash: $$[$0-2], blockParams: $$[$0-1], strip: yy.stripFlags($$[$0-5], $$[$0]) };\nbreak;\ncase 17:this.$ = { path: $$[$0-4], params: $$[$0-3], hash: $$[$0-2], blockParams: $$[$0-1], strip: yy.stripFlags($$[$0-5], $$[$0]) };\nbreak;\ncase 18:this.$ = { strip: yy.stripFlags($$[$0-1], $$[$0-1]), program: $$[$0] };\nbreak;\ncase 19:\n    var inverse = yy.prepareBlock($$[$0-2], $$[$0-1], $$[$0], $$[$0], false, this._$),\n        program = yy.prepareProgram([inverse], $$[$0-1].loc);\n    program.chained = true;\n\n    this.$ = { strip: $$[$0-2].strip, program: program, chain: true };\n  \nbreak;\ncase 20:this.$ = $$[$0];\nbreak;\ncase 21:this.$ = {path: $$[$0-1], strip: yy.stripFlags($$[$0-2], $$[$0])};\nbreak;\ncase 22:this.$ = yy.prepareMustache($$[$0-3], $$[$0-2], $$[$0-1], $$[$0-4], yy.stripFlags($$[$0-4], $$[$0]), this._$);\nbreak;\ncase 23:this.$ = yy.prepareMustache($$[$0-3], $$[$0-2], $$[$0-1], $$[$0-4], yy.stripFlags($$[$0-4], $$[$0]), this._$);\nbreak;\ncase 24:\n    this.$ = {\n      type: 'PartialStatement',\n      name: $$[$0-3],\n      params: $$[$0-2],\n      hash: $$[$0-1],\n      indent: '',\n      strip: yy.stripFlags($$[$0-4], $$[$0]),\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 25:this.$ = yy.preparePartialBlock($$[$0-2], $$[$0-1], $$[$0], this._$);\nbreak;\ncase 26:this.$ = { path: $$[$0-3], params: $$[$0-2], hash: $$[$0-1], strip: yy.stripFlags($$[$0-4], $$[$0]) };\nbreak;\ncase 27:this.$ = $$[$0];\nbreak;\ncase 28:this.$ = $$[$0];\nbreak;\ncase 29:\n    this.$ = {\n      type: 'SubExpression',\n      path: $$[$0-3],\n      params: $$[$0-2],\n      hash: $$[$0-1],\n      loc: yy.locInfo(this._$)\n    };\n  \nbreak;\ncase 30:this.$ = {type: 'Hash', pairs: $$[$0], loc: yy.locInfo(this._$)};\nbreak;\ncase 31:this.$ = {type: 'HashPair', key: yy.id($$[$0-2]), value: $$[$0], loc: yy.locInfo(this._$)};\nbreak;\ncase 32:this.$ = yy.id($$[$0-1]);\nbreak;\ncase 33:this.$ = $$[$0];\nbreak;\ncase 34:this.$ = $$[$0];\nbreak;\ncase 35:this.$ = {type: 'StringLiteral', value: $$[$0], original: $$[$0], loc: yy.locInfo(this._$)};\nbreak;\ncase 36:this.$ = {type: 'NumberLiteral', value: Number($$[$0]), original: Number($$[$0]), loc: yy.locInfo(this._$)};\nbreak;\ncase 37:this.$ = {type: 'BooleanLiteral', value: $$[$0] === 'true', original: $$[$0] === 'true', loc: yy.locInfo(this._$)};\nbreak;\ncase 38:this.$ = {type: 'UndefinedLiteral', original: undefined, value: undefined, loc: yy.locInfo(this._$)};\nbreak;\ncase 39:this.$ = {type: 'NullLiteral', original: null, value: null, loc: yy.locInfo(this._$)};\nbreak;\ncase 40:this.$ = $$[$0];\nbreak;\ncase 41:this.$ = $$[$0];\nbreak;\ncase 42:this.$ = yy.preparePath(true, $$[$0], this._$);\nbreak;\ncase 43:this.$ = yy.preparePath(false, $$[$0], this._$);\nbreak;\ncase 44: $$[$0-2].push({part: yy.id($$[$0]), original: $$[$0], separator: $$[$0-1]}); this.$ = $$[$0-2]; \nbreak;\ncase 45:this.$ = [{part: yy.id($$[$0]), original: $$[$0]}];\nbreak;\ncase 46:this.$ = [];\nbreak;\ncase 47:$$[$0-1].push($$[$0]);\nbreak;\ncase 48:this.$ = [];\nbreak;\ncase 49:$$[$0-1].push($$[$0]);\nbreak;\ncase 50:this.$ = [];\nbreak;\ncase 51:$$[$0-1].push($$[$0]);\nbreak;\ncase 58:this.$ = [];\nbreak;\ncase 59:$$[$0-1].push($$[$0]);\nbreak;\ncase 64:this.$ = [];\nbreak;\ncase 65:$$[$0-1].push($$[$0]);\nbreak;\ncase 70:this.$ = [];\nbreak;\ncase 71:$$[$0-1].push($$[$0]);\nbreak;\ncase 78:this.$ = [];\nbreak;\ncase 79:$$[$0-1].push($$[$0]);\nbreak;\ncase 82:this.$ = [];\nbreak;\ncase 83:$$[$0-1].push($$[$0]);\nbreak;\ncase 86:this.$ = [];\nbreak;\ncase 87:$$[$0-1].push($$[$0]);\nbreak;\ncase 90:this.$ = [];\nbreak;\ncase 91:$$[$0-1].push($$[$0]);\nbreak;\ncase 94:this.$ = [];\nbreak;\ncase 95:$$[$0-1].push($$[$0]);\nbreak;\ncase 98:this.$ = [$$[$0]];\nbreak;\ncase 99:$$[$0-1].push($$[$0]);\nbreak;\ncase 100:this.$ = [$$[$0]];\nbreak;\ncase 101:$$[$0-1].push($$[$0]);\nbreak;\n}\n},\ntable: [{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],\ndefaultActions: {4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},\nparseError: function parseError (str, hash) {\n    throw new Error(str);\n},\nparse: function parse(input) {\n    var self = this, stack = [0], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, recovering = 0, TERROR = 2, EOF = 1;\n    this.lexer.setInput(input);\n    this.lexer.yy = this.yy;\n    this.yy.lexer = this.lexer;\n    this.yy.parser = this;\n    if (typeof this.lexer.yylloc == \"undefined\")\n        this.lexer.yylloc = {};\n    var yyloc = this.lexer.yylloc;\n    lstack.push(yyloc);\n    var ranges = this.lexer.options && this.lexer.options.ranges;\n    if (typeof this.yy.parseError === \"function\")\n        this.parseError = this.yy.parseError;\n    function popStack(n) {\n        stack.length = stack.length - 2 * n;\n        vstack.length = vstack.length - n;\n        lstack.length = lstack.length - n;\n    }\n    function lex() {\n        var token;\n        token = self.lexer.lex() || 1;\n        if (typeof token !== \"number\") {\n            token = self.symbols_[token] || token;\n        }\n        return token;\n    }\n    var symbol, preErrorSymbol, state, action, a, r, yyval = {}, p, len, newState, expected;\n    while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n            action = this.defaultActions[state];\n        } else {\n            if (symbol === null || typeof symbol == \"undefined\") {\n                symbol = lex();\n            }\n            action = table[state] && table[state][symbol];\n        }\n        if (typeof action === \"undefined\" || !action.length || !action[0]) {\n            var errStr = \"\";\n            if (!recovering) {\n                expected = [];\n                for (p in table[state])\n                    if (this.terminals_[p] && p > 2) {\n                        expected.push(\"'\" + this.terminals_[p] + \"'\");\n                    }\n                if (this.lexer.showPosition) {\n                    errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + this.lexer.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n                } else {\n                    errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == 1?\"end of input\":\"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n                }\n                this.parseError(errStr, {text: this.lexer.match, token: this.terminals_[symbol] || symbol, line: this.lexer.yylineno, loc: yyloc, expected: expected});\n            }\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n            throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n        }\n        switch (action[0]) {\n        case 1:\n            stack.push(symbol);\n            vstack.push(this.lexer.yytext);\n            lstack.push(this.lexer.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            if (!preErrorSymbol) {\n                yyleng = this.lexer.yyleng;\n                yytext = this.lexer.yytext;\n                yylineno = this.lexer.yylineno;\n                yyloc = this.lexer.yylloc;\n                if (recovering > 0)\n                    recovering--;\n            } else {\n                symbol = preErrorSymbol;\n                preErrorSymbol = null;\n            }\n            break;\n        case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {first_line: lstack[lstack.length - (len || 1)].first_line, last_line: lstack[lstack.length - 1].last_line, first_column: lstack[lstack.length - (len || 1)].first_column, last_column: lstack[lstack.length - 1].last_column};\n            if (ranges) {\n                yyval._$.range = [lstack[lstack.length - (len || 1)].range[0], lstack[lstack.length - 1].range[1]];\n            }\n            r = this.performAction.call(yyval, yytext, yyleng, yylineno, this.yy, action[1], vstack, lstack);\n            if (typeof r !== \"undefined\") {\n                return r;\n            }\n            if (len) {\n                stack = stack.slice(0, -1 * len * 2);\n                vstack = vstack.slice(0, -1 * len);\n                lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n        case 3:\n            return true;\n        }\n    }\n    return true;\n}\n};\n/* Jison generated lexer */\nvar lexer = (function(){\nvar lexer = ({EOF:1,\nparseError:function parseError(str, hash) {\n        if (this.yy.parser) {\n            this.yy.parser.parseError(str, hash);\n        } else {\n            throw new Error(str);\n        }\n    },\nsetInput:function (input) {\n        this._input = input;\n        this._more = this._less = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = '';\n        this.conditionStack = ['INITIAL'];\n        this.yylloc = {first_line:1,first_column:0,last_line:1,last_column:0};\n        if (this.options.ranges) this.yylloc.range = [0,0];\n        this.offset = 0;\n        return this;\n    },\ninput:function () {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n            this.yylineno++;\n            this.yylloc.last_line++;\n        } else {\n            this.yylloc.last_column++;\n        }\n        if (this.options.ranges) this.yylloc.range[1]++;\n\n        this._input = this._input.slice(1);\n        return ch;\n    },\nunput:function (ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length-len-1);\n        //this.yyleng -= len;\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length-1);\n        this.matched = this.matched.substr(0, this.matched.length-1);\n\n        if (lines.length-1) this.yylineno -= lines.length-1;\n        var r = this.yylloc.range;\n\n        this.yylloc = {first_line: this.yylloc.first_line,\n          last_line: this.yylineno+1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ?\n              (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length:\n              this.yylloc.first_column - len\n          };\n\n        if (this.options.ranges) {\n            this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        return this;\n    },\nmore:function () {\n        this._more = true;\n        return this;\n    },\nless:function (n) {\n        this.unput(this.match.slice(n));\n    },\npastInput:function () {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? '...':'') + past.substr(-20).replace(/\\n/g, \"\");\n    },\nupcomingInput:function () {\n        var next = this.match;\n        if (next.length < 20) {\n            next += this._input.substr(0, 20-next.length);\n        }\n        return (next.substr(0,20)+(next.length > 20 ? '...':'')).replace(/\\n/g, \"\");\n    },\nshowPosition:function () {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c+\"^\";\n    },\nnext:function () {\n        if (this.done) {\n            return this.EOF;\n        }\n        if (!this._input) this.done = true;\n\n        var token,\n            match,\n            tempMatch,\n            index,\n            col,\n            lines;\n        if (!this._more) {\n            this.yytext = '';\n            this.match = '';\n        }\n        var rules = this._currentRules();\n        for (var i=0;i < rules.length; i++) {\n            tempMatch = this._input.match(this.rules[rules[i]]);\n            if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n                match = tempMatch;\n                index = i;\n                if (!this.options.flex) break;\n            }\n        }\n        if (match) {\n            lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n            if (lines) this.yylineno += lines.length;\n            this.yylloc = {first_line: this.yylloc.last_line,\n                           last_line: this.yylineno+1,\n                           first_column: this.yylloc.last_column,\n                           last_column: lines ? lines[lines.length-1].length-lines[lines.length-1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length};\n            this.yytext += match[0];\n            this.match += match[0];\n            this.matches = match;\n            this.yyleng = this.yytext.length;\n            if (this.options.ranges) {\n                this.yylloc.range = [this.offset, this.offset += this.yyleng];\n            }\n            this._more = false;\n            this._input = this._input.slice(match[0].length);\n            this.matched += match[0];\n            token = this.performAction.call(this, this.yy, this, rules[index],this.conditionStack[this.conditionStack.length-1]);\n            if (this.done && this._input) this.done = false;\n            if (token) return token;\n            else return;\n        }\n        if (this._input === \"\") {\n            return this.EOF;\n        } else {\n            return this.parseError('Lexical error on line '+(this.yylineno+1)+'. Unrecognized text.\\n'+this.showPosition(),\n                    {text: \"\", token: null, line: this.yylineno});\n        }\n    },\nlex:function lex () {\n        var r = this.next();\n        if (typeof r !== 'undefined') {\n            return r;\n        } else {\n            return this.lex();\n        }\n    },\nbegin:function begin (condition) {\n        this.conditionStack.push(condition);\n    },\npopState:function popState () {\n        return this.conditionStack.pop();\n    },\n_currentRules:function _currentRules () {\n        return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules;\n    },\ntopState:function () {\n        return this.conditionStack[this.conditionStack.length-2];\n    },\npushState:function begin (condition) {\n        this.begin(condition);\n    }});\nlexer.options = {};\nlexer.performAction = function anonymous(yy,yy_,$avoiding_name_collisions,YY_START\n) {\n\n\nfunction strip(start, end) {\n  return yy_.yytext = yy_.yytext.substring(start, yy_.yyleng - end + start);\n}\n\n\nvar YYSTATE=YY_START\nswitch($avoiding_name_collisions) {\ncase 0:\n                                   if(yy_.yytext.slice(-2) === \"\\\\\\\\\") {\n                                     strip(0,1);\n                                     this.begin(\"mu\");\n                                   } else if(yy_.yytext.slice(-1) === \"\\\\\") {\n                                     strip(0,1);\n                                     this.begin(\"emu\");\n                                   } else {\n                                     this.begin(\"mu\");\n                                   }\n                                   if(yy_.yytext) return 15;\n                                 \nbreak;\ncase 1:return 15;\nbreak;\ncase 2:\n                                   this.popState();\n                                   return 15;\n                                 \nbreak;\ncase 3:this.begin('raw'); return 15;\nbreak;\ncase 4:\n                                  this.popState();\n                                  // Should be using `this.topState()` below, but it currently\n                                  // returns the second top instead of the first top. Opened an\n                                  // issue about it at https://github.com/zaach/jison/issues/291\n                                  if (this.conditionStack[this.conditionStack.length-1] === 'raw') {\n                                    return 15;\n                                  } else {\n                                    strip(5, 9);\n                                    return 'END_RAW_BLOCK';\n                                  }\n                                 \nbreak;\ncase 5: return 15; \nbreak;\ncase 6:\n  this.popState();\n  return 14;\n\nbreak;\ncase 7:return 65;\nbreak;\ncase 8:return 68;\nbreak;\ncase 9: return 19; \nbreak;\ncase 10:\n                                  this.popState();\n                                  this.begin('raw');\n                                  return 23;\n                                 \nbreak;\ncase 11:return 55;\nbreak;\ncase 12:return 60;\nbreak;\ncase 13:return 29;\nbreak;\ncase 14:return 47;\nbreak;\ncase 15:this.popState(); return 44;\nbreak;\ncase 16:this.popState(); return 44;\nbreak;\ncase 17:return 34;\nbreak;\ncase 18:return 39;\nbreak;\ncase 19:return 51;\nbreak;\ncase 20:return 48;\nbreak;\ncase 21:\n  this.unput(yy_.yytext);\n  this.popState();\n  this.begin('com');\n\nbreak;\ncase 22:\n  this.popState();\n  return 14;\n\nbreak;\ncase 23:return 48;\nbreak;\ncase 24:return 73;\nbreak;\ncase 25:return 72;\nbreak;\ncase 26:return 72;\nbreak;\ncase 27:return 87;\nbreak;\ncase 28:// ignore whitespace\nbreak;\ncase 29:this.popState(); return 54;\nbreak;\ncase 30:this.popState(); return 33;\nbreak;\ncase 31:yy_.yytext = strip(1,2).replace(/\\\\\"/g,'\"'); return 80;\nbreak;\ncase 32:yy_.yytext = strip(1,2).replace(/\\\\'/g,\"'\"); return 80;\nbreak;\ncase 33:return 85;\nbreak;\ncase 34:return 82;\nbreak;\ncase 35:return 82;\nbreak;\ncase 36:return 83;\nbreak;\ncase 37:return 84;\nbreak;\ncase 38:return 81;\nbreak;\ncase 39:return 75;\nbreak;\ncase 40:return 77;\nbreak;\ncase 41:return 72;\nbreak;\ncase 42:yy_.yytext = yy_.yytext.replace(/\\\\([\\\\\\]])/g,'$1'); return 72;\nbreak;\ncase 43:return 'INVALID';\nbreak;\ncase 44:return 5;\nbreak;\n}\n};\nlexer.rules = [/^(?:[^\\x00]*?(?=(\\{\\{)))/,/^(?:[^\\x00]+)/,/^(?:[^\\x00]{2,}?(?=(\\{\\{|\\\\\\{\\{|\\\\\\\\\\{\\{|$)))/,/^(?:\\{\\{\\{\\{(?=[^/]))/,/^(?:\\{\\{\\{\\{\\/[^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=[=}\\s\\/.])\\}\\}\\}\\})/,/^(?:[^\\x00]+?(?=(\\{\\{\\{\\{)))/,/^(?:[\\s\\S]*?--(~)?\\}\\})/,/^(?:\\()/,/^(?:\\))/,/^(?:\\{\\{\\{\\{)/,/^(?:\\}\\}\\}\\})/,/^(?:\\{\\{(~)?>)/,/^(?:\\{\\{(~)?#>)/,/^(?:\\{\\{(~)?#\\*?)/,/^(?:\\{\\{(~)?\\/)/,/^(?:\\{\\{(~)?\\^\\s*(~)?\\}\\})/,/^(?:\\{\\{(~)?\\s*else\\s*(~)?\\}\\})/,/^(?:\\{\\{(~)?\\^)/,/^(?:\\{\\{(~)?\\s*else\\b)/,/^(?:\\{\\{(~)?\\{)/,/^(?:\\{\\{(~)?&)/,/^(?:\\{\\{(~)?!--)/,/^(?:\\{\\{(~)?![\\s\\S]*?\\}\\})/,/^(?:\\{\\{(~)?\\*?)/,/^(?:=)/,/^(?:\\.\\.)/,/^(?:\\.(?=([=~}\\s\\/.)|])))/,/^(?:[\\/.])/,/^(?:\\s+)/,/^(?:\\}(~)?\\}\\})/,/^(?:(~)?\\}\\})/,/^(?:\"(\\\\[\"]|[^\"])*\")/,/^(?:'(\\\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\\s)])))/,/^(?:false(?=([~}\\s)])))/,/^(?:undefined(?=([~}\\s)])))/,/^(?:null(?=([~}\\s)])))/,/^(?:-?[0-9]+(?:\\.[0-9]+)?(?=([~}\\s)])))/,/^(?:as\\s+\\|)/,/^(?:\\|)/,/^(?:([^\\s!\"#%-,\\.\\/;->@\\[-\\^`\\{-~]+(?=([=~}\\s\\/.)|]))))/,/^(?:\\[(\\\\\\]|[^\\]])*\\])/,/^(?:.)/,/^(?:$)/];\nlexer.conditions = {\"mu\":{\"rules\":[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],\"inclusive\":false},\"emu\":{\"rules\":[2],\"inclusive\":false},\"com\":{\"rules\":[6],\"inclusive\":false},\"raw\":{\"rules\":[3,4,5],\"inclusive\":false},\"INITIAL\":{\"rules\":[0,1,44],\"inclusive\":true}};\nreturn lexer;})()\nparser.lexer = lexer;\nfunction Parser () { this.yy = {}; }Parser.prototype = parser;parser.Parser = Parser;\nreturn new Parser;\n})();export default handlebars;\n", "import Exception from '../exception';\n\nfunction Visitor() {\n  this.parents = [];\n}\n\nVisitor.prototype = {\n  constructor: Visitor,\n  mutating: false,\n\n  // Visits a given value. If mutating, will replace the value if necessary.\n  acceptKey: function(node, name) {\n    let value = this.accept(node[name]);\n    if (this.mutating) {\n      // Hacky sanity check: This may have a few false positives for type for the helper\n      // methods but will generally do the right thing without a lot of overhead.\n      if (value && !Visitor.prototype[value.type]) {\n        throw new Exception(\n          'Unexpected node type \"' +\n            value.type +\n            '\" found when accepting ' +\n            name +\n            ' on ' +\n            node.type\n        );\n      }\n      node[name] = value;\n    }\n  },\n\n  // Performs an accept operation with added sanity check to ensure\n  // required keys are not removed.\n  acceptRequired: function(node, name) {\n    this.acceptKey(node, name);\n\n    if (!node[name]) {\n      throw new Exception(node.type + ' requires ' + name);\n    }\n  },\n\n  // Traverses a given array. If mutating, empty respnses will be removed\n  // for child elements.\n  acceptArray: function(array) {\n    for (let i = 0, l = array.length; i < l; i++) {\n      this.acceptKey(array, i);\n\n      if (!array[i]) {\n        array.splice(i, 1);\n        i--;\n        l--;\n      }\n    }\n  },\n\n  accept: function(object) {\n    if (!object) {\n      return;\n    }\n\n    /* istanbul ignore next: Sanity code */\n    if (!this[object.type]) {\n      throw new Exception('Unknown type: ' + object.type, object);\n    }\n\n    if (this.current) {\n      this.parents.unshift(this.current);\n    }\n    this.current = object;\n\n    let ret = this[object.type](object);\n\n    this.current = this.parents.shift();\n\n    if (!this.mutating || ret) {\n      return ret;\n    } else if (ret !== false) {\n      return object;\n    }\n  },\n\n  Program: function(program) {\n    this.acceptArray(program.body);\n  },\n\n  MustacheStatement: visitSubExpression,\n  Decorator: visitSubExpression,\n\n  BlockStatement: visitBlock,\n  DecoratorBlock: visitBlock,\n\n  PartialStatement: visitPartial,\n  PartialBlockStatement: function(partial) {\n    visitPartial.call(this, partial);\n\n    this.acceptKey(partial, 'program');\n  },\n\n  ContentStatement: function(/* content */) {},\n  CommentStatement: function(/* comment */) {},\n\n  SubExpression: visitSubExpression,\n\n  PathExpression: function(/* path */) {},\n\n  StringLiteral: function(/* string */) {},\n  NumberLiteral: function(/* number */) {},\n  BooleanLiteral: function(/* bool */) {},\n  UndefinedLiteral: function(/* literal */) {},\n  NullLiteral: function(/* literal */) {},\n\n  Hash: function(hash) {\n    this.acceptArray(hash.pairs);\n  },\n  HashPair: function(pair) {\n    this.acceptRequired(pair, 'value');\n  }\n};\n\nfunction visitSubExpression(mustache) {\n  this.acceptRequired(mustache, 'path');\n  this.acceptArray(mustache.params);\n  this.acceptKey(mustache, 'hash');\n}\nfunction visitBlock(block) {\n  visitSubExpression.call(this, block);\n\n  this.acceptKey(block, 'program');\n  this.acceptKey(block, 'inverse');\n}\nfunction visitPartial(partial) {\n  this.acceptRequired(partial, 'name');\n  this.acceptArray(partial.params);\n  this.acceptKey(partial, 'hash');\n}\n\nexport default Visitor;\n", "import Visitor from './visitor';\n\nfunction WhitespaceControl(options = {}) {\n  this.options = options;\n}\nWhitespaceControl.prototype = new Visitor();\n\nWhitespaceControl.prototype.Program = function(program) {\n  const doStandalone = !this.options.ignoreStandalone;\n\n  let isRoot = !this.isRootSeen;\n  this.isRootSeen = true;\n\n  let body = program.body;\n  for (let i = 0, l = body.length; i < l; i++) {\n    let current = body[i],\n      strip = this.accept(current);\n\n    if (!strip) {\n      continue;\n    }\n\n    let _isPrevWhitespace = isPrevWhitespace(body, i, isRoot),\n      _isNextWhitespace = isNextWhitespace(body, i, isRoot),\n      openStandalone = strip.openStandalone && _isPrevWhitespace,\n      closeStandalone = strip.closeStandalone && _isNextWhitespace,\n      inlineStandalone =\n        strip.inlineStandalone && _isPrevWhitespace && _isNextWhitespace;\n\n    if (strip.close) {\n      omitRight(body, i, true);\n    }\n    if (strip.open) {\n      omitLeft(body, i, true);\n    }\n\n    if (doStandalone && inlineStandalone) {\n      omitRight(body, i);\n\n      if (omitLeft(body, i)) {\n        // If we are on a standalone node, save the indent info for partials\n        if (current.type === 'PartialStatement') {\n          // Pull out the whitespace from the final line\n          current.indent = /([ \\t]+$)/.exec(body[i - 1].original)[1];\n        }\n      }\n    }\n    if (doStandalone && openStandalone) {\n      omitRight((current.program || current.inverse).body);\n\n      // Strip out the previous content node if it's whitespace only\n      omitLeft(body, i);\n    }\n    if (doStandalone && closeStandalone) {\n      // Always strip the next node\n      omitRight(body, i);\n\n      omitLeft((current.inverse || current.program).body);\n    }\n  }\n\n  return program;\n};\n\nWhitespaceControl.prototype.BlockStatement = WhitespaceControl.prototype.DecoratorBlock = WhitespaceControl.prototype.PartialBlockStatement = function(\n  block\n) {\n  this.accept(block.program);\n  this.accept(block.inverse);\n\n  // Find the inverse program that is involed with whitespace stripping.\n  let program = block.program || block.inverse,\n    inverse = block.program && block.inverse,\n    firstInverse = inverse,\n    lastInverse = inverse;\n\n  if (inverse && inverse.chained) {\n    firstInverse = inverse.body[0].program;\n\n    // Walk the inverse chain to find the last inverse that is actually in the chain.\n    while (lastInverse.chained) {\n      lastInverse = lastInverse.body[lastInverse.body.length - 1].program;\n    }\n  }\n\n  let strip = {\n    open: block.openStrip.open,\n    close: block.closeStrip.close,\n\n    // Determine the standalone candiacy. Basically flag our content as being possibly standalone\n    // so our parent can determine if we actually are standalone\n    openStandalone: isNextWhitespace(program.body),\n    closeStandalone: isPrevWhitespace((firstInverse || program).body)\n  };\n\n  if (block.openStrip.close) {\n    omitRight(program.body, null, true);\n  }\n\n  if (inverse) {\n    let inverseStrip = block.inverseStrip;\n\n    if (inverseStrip.open) {\n      omitLeft(program.body, null, true);\n    }\n\n    if (inverseStrip.close) {\n      omitRight(firstInverse.body, null, true);\n    }\n    if (block.closeStrip.open) {\n      omitLeft(lastInverse.body, null, true);\n    }\n\n    // Find standalone else statments\n    if (\n      !this.options.ignoreStandalone &&\n      isPrevWhitespace(program.body) &&\n      isNextWhitespace(firstInverse.body)\n    ) {\n      omitLeft(program.body);\n      omitRight(firstInverse.body);\n    }\n  } else if (block.closeStrip.open) {\n    omitLeft(program.body, null, true);\n  }\n\n  return strip;\n};\n\nWhitespaceControl.prototype.Decorator = WhitespaceControl.prototype.MustacheStatement = function(\n  mustache\n) {\n  return mustache.strip;\n};\n\nWhitespaceControl.prototype.PartialStatement = WhitespaceControl.prototype.CommentStatement = function(\n  node\n) {\n  /* istanbul ignore next */\n  let strip = node.strip || {};\n  return {\n    inlineStandalone: true,\n    open: strip.open,\n    close: strip.close\n  };\n};\n\nfunction isPrevWhitespace(body, i, isRoot) {\n  if (i === undefined) {\n    i = body.length;\n  }\n\n  // Nodes that end with newlines are considered whitespace (but are special\n  // cased for strip operations)\n  let prev = body[i - 1],\n    sibling = body[i - 2];\n  if (!prev) {\n    return isRoot;\n  }\n\n  if (prev.type === 'ContentStatement') {\n    return (sibling || !isRoot ? /\\r?\\n\\s*?$/ : /(^|\\r?\\n)\\s*?$/).test(\n      prev.original\n    );\n  }\n}\nfunction isNextWhitespace(body, i, isRoot) {\n  if (i === undefined) {\n    i = -1;\n  }\n\n  let next = body[i + 1],\n    sibling = body[i + 2];\n  if (!next) {\n    return isRoot;\n  }\n\n  if (next.type === 'ContentStatement') {\n    return (sibling || !isRoot ? /^\\s*?\\r?\\n/ : /^\\s*?(\\r?\\n|$)/).test(\n      next.original\n    );\n  }\n}\n\n// Marks the node to the right of the position as omitted.\n// I.e. {{foo}}' ' will mark the ' ' node as omitted.\n//\n// If i is undefined, then the first child will be marked as such.\n//\n// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n// content is met.\nfunction omitRight(body, i, multiple) {\n  let current = body[i == null ? 0 : i + 1];\n  if (\n    !current ||\n    current.type !== 'ContentStatement' ||\n    (!multiple && current.rightStripped)\n  ) {\n    return;\n  }\n\n  let original = current.value;\n  current.value = current.value.replace(\n    multiple ? /^\\s+/ : /^[ \\t]*\\r?\\n?/,\n    ''\n  );\n  current.rightStripped = current.value !== original;\n}\n\n// Marks the node to the left of the position as omitted.\n// I.e. ' '{{foo}} will mark the ' ' node as omitted.\n//\n// If i is undefined then the last child will be marked as such.\n//\n// If mulitple is truthy then all whitespace will be stripped out until non-whitespace\n// content is met.\nfunction omitLeft(body, i, multiple) {\n  let current = body[i == null ? body.length - 1 : i - 1];\n  if (\n    !current ||\n    current.type !== 'ContentStatement' ||\n    (!multiple && current.leftStripped)\n  ) {\n    return;\n  }\n\n  // We omit the last node if it's whitespace only and not preceded by a non-content node.\n  let original = current.value;\n  current.value = current.value.replace(multiple ? /\\s+$/ : /[ \\t]+$/, '');\n  current.leftStripped = current.value !== original;\n  return current.leftStripped;\n}\n\nexport default WhitespaceControl;\n", "import Exception from '../exception';\n\nfunction validateClose(open, close) {\n  close = close.path ? close.path.original : close;\n\n  if (open.path.original !== close) {\n    let errorNode = { loc: open.path.loc };\n\n    throw new Exception(\n      open.path.original + \" doesn't match \" + close,\n      errorNode\n    );\n  }\n}\n\nexport function SourceLocation(source, locInfo) {\n  this.source = source;\n  this.start = {\n    line: locInfo.first_line,\n    column: locInfo.first_column\n  };\n  this.end = {\n    line: locInfo.last_line,\n    column: locInfo.last_column\n  };\n}\n\nexport function id(token) {\n  if (/^\\[.*\\]$/.test(token)) {\n    return token.substring(1, token.length - 1);\n  } else {\n    return token;\n  }\n}\n\nexport function stripFlags(open, close) {\n  return {\n    open: open.charAt(2) === '~',\n    close: close.charAt(close.length - 3) === '~'\n  };\n}\n\nexport function stripComment(comment) {\n  return comment.replace(/^\\{\\{~?!-?-?/, '').replace(/-?-?~?\\}\\}$/, '');\n}\n\nexport function preparePath(data, parts, loc) {\n  loc = this.locInfo(loc);\n\n  let original = data ? '@' : '',\n    dig = [],\n    depth = 0;\n\n  for (let i = 0, l = parts.length; i < l; i++) {\n    let part = parts[i].part,\n      // If we have [] syntax then we do not treat path references as operators,\n      // i.e. foo.[this] resolves to approximately context.foo['this']\n      isLiteral = parts[i].original !== part;\n    original += (parts[i].separator || '') + part;\n\n    if (!isLiteral && (part === '..' || part === '.' || part === 'this')) {\n      if (dig.length > 0) {\n        throw new Exception('Invalid path: ' + original, { loc });\n      } else if (part === '..') {\n        depth++;\n      }\n    } else {\n      dig.push(part);\n    }\n  }\n\n  return {\n    type: 'PathExpression',\n    data,\n    depth,\n    parts: dig,\n    original,\n    loc\n  };\n}\n\nexport function prepareMustache(path, params, hash, open, strip, locInfo) {\n  // Must use charAt to support IE pre-10\n  let escapeFlag = open.charAt(3) || open.charAt(2),\n    escaped = escapeFlag !== '{' && escapeFlag !== '&';\n\n  let decorator = /\\*/.test(open);\n  return {\n    type: decorator ? 'Decorator' : 'MustacheStatement',\n    path,\n    params,\n    hash,\n    escaped,\n    strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\nexport function prepareRawBlock(openRawBlock, contents, close, locInfo) {\n  validateClose(openRawBlock, close);\n\n  locInfo = this.locInfo(locInfo);\n  let program = {\n    type: 'Program',\n    body: contents,\n    strip: {},\n    loc: locInfo\n  };\n\n  return {\n    type: 'BlockStatement',\n    path: openRawBlock.path,\n    params: openRawBlock.params,\n    hash: openRawBlock.hash,\n    program,\n    openStrip: {},\n    inverseStrip: {},\n    closeStrip: {},\n    loc: locInfo\n  };\n}\n\nexport function prepareBlock(\n  openBlock,\n  program,\n  inverseAndProgram,\n  close,\n  inverted,\n  locInfo\n) {\n  if (close && close.path) {\n    validateClose(openBlock, close);\n  }\n\n  let decorator = /\\*/.test(openBlock.open);\n\n  program.blockParams = openBlock.blockParams;\n\n  let inverse, inverseStrip;\n\n  if (inverseAndProgram) {\n    if (decorator) {\n      throw new Exception(\n        'Unexpected inverse block on decorator',\n        inverseAndProgram\n      );\n    }\n\n    if (inverseAndProgram.chain) {\n      inverseAndProgram.program.body[0].closeStrip = close.strip;\n    }\n\n    inverseStrip = inverseAndProgram.strip;\n    inverse = inverseAndProgram.program;\n  }\n\n  if (inverted) {\n    inverted = inverse;\n    inverse = program;\n    program = inverted;\n  }\n\n  return {\n    type: decorator ? 'DecoratorBlock' : 'BlockStatement',\n    path: openBlock.path,\n    params: openBlock.params,\n    hash: openBlock.hash,\n    program,\n    inverse,\n    openStrip: openBlock.strip,\n    inverseStrip,\n    closeStrip: close && close.strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n\nexport function prepareProgram(statements, loc) {\n  if (!loc && statements.length) {\n    const firstLoc = statements[0].loc,\n      lastLoc = statements[statements.length - 1].loc;\n\n    /* istanbul ignore else */\n    if (firstLoc && lastLoc) {\n      loc = {\n        source: firstLoc.source,\n        start: {\n          line: firstLoc.start.line,\n          column: firstLoc.start.column\n        },\n        end: {\n          line: lastLoc.end.line,\n          column: lastLoc.end.column\n        }\n      };\n    }\n  }\n\n  return {\n    type: 'Program',\n    body: statements,\n    strip: {},\n    loc: loc\n  };\n}\n\nexport function preparePartialBlock(open, program, close, locInfo) {\n  validateClose(open, close);\n\n  return {\n    type: 'PartialBlockStatement',\n    name: open.path,\n    params: open.params,\n    hash: open.hash,\n    program,\n    openStrip: open.strip,\n    closeStrip: close && close.strip,\n    loc: this.locInfo(locInfo)\n  };\n}\n", "import parser from './parser';\nimport WhitespaceControl from './whitespace-control';\nimport * as Helpers from './helpers';\nimport { extend } from '../utils';\n\nexport { parser };\n\nlet yy = {};\nextend(yy, Helpers);\n\nexport function parseWithoutProcessing(input, options) {\n  // Just return if an already-compiled AST was passed in.\n  if (input.type === 'Program') {\n    return input;\n  }\n\n  parser.yy = yy;\n\n  // Altering the shared object here, but this is ok as parser is a sync operation\n  yy.locInfo = function(locInfo) {\n    return new yy.SourceLocation(options && options.srcName, locInfo);\n  };\n\n  let ast = parser.parse(input);\n\n  return ast;\n}\n\nexport function parse(input, options) {\n  let ast = parseWithoutProcessing(input, options);\n  let strip = new WhitespaceControl(options);\n\n  return strip.accept(ast);\n}\n", "/* eslint-disable new-cap */\n\nimport Exception from '../exception';\nimport { isArray, indexOf, extend } from '../utils';\nimport AST from './ast';\n\nconst slice = [].slice;\n\nexport function Compiler() {}\n\n// the foundHelper register will disambiguate helper lookup from finding a\n// function in a context. This is necessary for mustache compatibility, which\n// requires that context functions in blocks are evaluated by blockHelperMissing,\n// and then proceed as if the resulting value was provided to blockHelperMissing.\n\nCompiler.prototype = {\n  compiler: Compiler,\n\n  equals: function(other) {\n    let len = this.opcodes.length;\n    if (other.opcodes.length !== len) {\n      return false;\n    }\n\n    for (let i = 0; i < len; i++) {\n      let opcode = this.opcodes[i],\n        otherOpcode = other.opcodes[i];\n      if (\n        opcode.opcode !== otherOpcode.opcode ||\n        !argEquals(opcode.args, otherOpcode.args)\n      ) {\n        return false;\n      }\n    }\n\n    // We know that length is the same between the two arrays because they are directly tied\n    // to the opcode behavior above.\n    len = this.children.length;\n    for (let i = 0; i < len; i++) {\n      if (!this.children[i].equals(other.children[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  guid: 0,\n\n  compile: function(program, options) {\n    this.sourceNode = [];\n    this.opcodes = [];\n    this.children = [];\n    this.options = options;\n    this.stringParams = options.stringParams;\n    this.trackIds = options.trackIds;\n\n    options.blockParams = options.blockParams || [];\n\n    options.knownHelpers = extend(\n      Object.create(null),\n      {\n        helperMissing: true,\n        blockHelperMissing: true,\n        each: true,\n        if: true,\n        unless: true,\n        with: true,\n        log: true,\n        lookup: true\n      },\n      options.knownHelpers\n    );\n\n    return this.accept(program);\n  },\n\n  compileProgram: function(program) {\n    let childCompiler = new this.compiler(), // eslint-disable-line new-cap\n      result = childCompiler.compile(program, this.options),\n      guid = this.guid++;\n\n    this.usePartial = this.usePartial || result.usePartial;\n\n    this.children[guid] = result;\n    this.useDepths = this.useDepths || result.useDepths;\n\n    return guid;\n  },\n\n  accept: function(node) {\n    /* istanbul ignore next: Sanity code */\n    if (!this[node.type]) {\n      throw new Exception('Unknown type: ' + node.type, node);\n    }\n\n    this.sourceNode.unshift(node);\n    let ret = this[node.type](node);\n    this.sourceNode.shift();\n    return ret;\n  },\n\n  Program: function(program) {\n    this.options.blockParams.unshift(program.blockParams);\n\n    let body = program.body,\n      bodyLength = body.length;\n    for (let i = 0; i < bodyLength; i++) {\n      this.accept(body[i]);\n    }\n\n    this.options.blockParams.shift();\n\n    this.isSimple = bodyLength === 1;\n    this.blockParams = program.blockParams ? program.blockParams.length : 0;\n\n    return this;\n  },\n\n  BlockStatement: function(block) {\n    transformLiteralToPath(block);\n\n    let program = block.program,\n      inverse = block.inverse;\n\n    program = program && this.compileProgram(program);\n    inverse = inverse && this.compileProgram(inverse);\n\n    let type = this.classifySexpr(block);\n\n    if (type === 'helper') {\n      this.helperSexpr(block, program, inverse);\n    } else if (type === 'simple') {\n      this.simpleSexpr(block);\n\n      // now that the simple mustache is resolved, we need to\n      // evaluate it by executing `blockHelperMissing`\n      this.opcode('pushProgram', program);\n      this.opcode('pushProgram', inverse);\n      this.opcode('emptyHash');\n      this.opcode('blockValue', block.path.original);\n    } else {\n      this.ambiguousSexpr(block, program, inverse);\n\n      // now that the simple mustache is resolved, we need to\n      // evaluate it by executing `blockHelperMissing`\n      this.opcode('pushProgram', program);\n      this.opcode('pushProgram', inverse);\n      this.opcode('emptyHash');\n      this.opcode('ambiguousBlockValue');\n    }\n\n    this.opcode('append');\n  },\n\n  DecoratorBlock(decorator) {\n    let program = decorator.program && this.compileProgram(decorator.program);\n    let params = this.setupFullMustacheParams(decorator, program, undefined),\n      path = decorator.path;\n\n    this.useDecorators = true;\n    this.opcode('registerDecorator', params.length, path.original);\n  },\n\n  PartialStatement: function(partial) {\n    this.usePartial = true;\n\n    let program = partial.program;\n    if (program) {\n      program = this.compileProgram(partial.program);\n    }\n\n    let params = partial.params;\n    if (params.length > 1) {\n      throw new Exception(\n        'Unsupported number of partial arguments: ' + params.length,\n        partial\n      );\n    } else if (!params.length) {\n      if (this.options.explicitPartialContext) {\n        this.opcode('pushLiteral', 'undefined');\n      } else {\n        params.push({ type: 'PathExpression', parts: [], depth: 0 });\n      }\n    }\n\n    let partialName = partial.name.original,\n      isDynamic = partial.name.type === 'SubExpression';\n    if (isDynamic) {\n      this.accept(partial.name);\n    }\n\n    this.setupFullMustacheParams(partial, program, undefined, true);\n\n    let indent = partial.indent || '';\n    if (this.options.preventIndent && indent) {\n      this.opcode('appendContent', indent);\n      indent = '';\n    }\n\n    this.opcode('invokePartial', isDynamic, partialName, indent);\n    this.opcode('append');\n  },\n  PartialBlockStatement: function(partialBlock) {\n    this.PartialStatement(partialBlock);\n  },\n\n  MustacheStatement: function(mustache) {\n    this.SubExpression(mustache);\n\n    if (mustache.escaped && !this.options.noEscape) {\n      this.opcode('appendEscaped');\n    } else {\n      this.opcode('append');\n    }\n  },\n  Decorator(decorator) {\n    this.DecoratorBlock(decorator);\n  },\n\n  ContentStatement: function(content) {\n    if (content.value) {\n      this.opcode('appendContent', content.value);\n    }\n  },\n\n  CommentStatement: function() {},\n\n  SubExpression: function(sexpr) {\n    transformLiteralToPath(sexpr);\n    let type = this.classifySexpr(sexpr);\n\n    if (type === 'simple') {\n      this.simpleSexpr(sexpr);\n    } else if (type === 'helper') {\n      this.helperSexpr(sexpr);\n    } else {\n      this.ambiguousSexpr(sexpr);\n    }\n  },\n  ambiguousSexpr: function(sexpr, program, inverse) {\n    let path = sexpr.path,\n      name = path.parts[0],\n      isBlock = program != null || inverse != null;\n\n    this.opcode('getContext', path.depth);\n\n    this.opcode('pushProgram', program);\n    this.opcode('pushProgram', inverse);\n\n    path.strict = true;\n    this.accept(path);\n\n    this.opcode('invokeAmbiguous', name, isBlock);\n  },\n\n  simpleSexpr: function(sexpr) {\n    let path = sexpr.path;\n    path.strict = true;\n    this.accept(path);\n    this.opcode('resolvePossibleLambda');\n  },\n\n  helperSexpr: function(sexpr, program, inverse) {\n    let params = this.setupFullMustacheParams(sexpr, program, inverse),\n      path = sexpr.path,\n      name = path.parts[0];\n\n    if (this.options.knownHelpers[name]) {\n      this.opcode('invokeKnownHelper', params.length, name);\n    } else if (this.options.knownHelpersOnly) {\n      throw new Exception(\n        'You specified knownHelpersOnly, but used the unknown helper ' + name,\n        sexpr\n      );\n    } else {\n      path.strict = true;\n      path.falsy = true;\n\n      this.accept(path);\n      this.opcode(\n        'invokeHelper',\n        params.length,\n        path.original,\n        AST.helpers.simpleId(path)\n      );\n    }\n  },\n\n  PathExpression: function(path) {\n    this.addDepth(path.depth);\n    this.opcode('getContext', path.depth);\n\n    let name = path.parts[0],\n      scoped = AST.helpers.scopedId(path),\n      blockParamId = !path.depth && !scoped && this.blockParamIndex(name);\n\n    if (blockParamId) {\n      this.opcode('lookupBlockParam', blockParamId, path.parts);\n    } else if (!name) {\n      // Context reference, i.e. `{{foo .}}` or `{{foo ..}}`\n      this.opcode('pushContext');\n    } else if (path.data) {\n      this.options.data = true;\n      this.opcode('lookupData', path.depth, path.parts, path.strict);\n    } else {\n      this.opcode(\n        'lookupOnContext',\n        path.parts,\n        path.falsy,\n        path.strict,\n        scoped\n      );\n    }\n  },\n\n  StringLiteral: function(string) {\n    this.opcode('pushString', string.value);\n  },\n\n  NumberLiteral: function(number) {\n    this.opcode('pushLiteral', number.value);\n  },\n\n  BooleanLiteral: function(bool) {\n    this.opcode('pushLiteral', bool.value);\n  },\n\n  UndefinedLiteral: function() {\n    this.opcode('pushLiteral', 'undefined');\n  },\n\n  NullLiteral: function() {\n    this.opcode('pushLiteral', 'null');\n  },\n\n  Hash: function(hash) {\n    let pairs = hash.pairs,\n      i = 0,\n      l = pairs.length;\n\n    this.opcode('pushHash');\n\n    for (; i < l; i++) {\n      this.pushParam(pairs[i].value);\n    }\n    while (i--) {\n      this.opcode('assignToHash', pairs[i].key);\n    }\n    this.opcode('popHash');\n  },\n\n  // HELPERS\n  opcode: function(name) {\n    this.opcodes.push({\n      opcode: name,\n      args: slice.call(arguments, 1),\n      loc: this.sourceNode[0].loc\n    });\n  },\n\n  addDepth: function(depth) {\n    if (!depth) {\n      return;\n    }\n\n    this.useDepths = true;\n  },\n\n  classifySexpr: function(sexpr) {\n    let isSimple = AST.helpers.simpleId(sexpr.path);\n\n    let isBlockParam = isSimple && !!this.blockParamIndex(sexpr.path.parts[0]);\n\n    // a mustache is an eligible helper if:\n    // * its id is simple (a single part, not `this` or `..`)\n    let isHelper = !isBlockParam && AST.helpers.helperExpression(sexpr);\n\n    // if a mustache is an eligible helper but not a definite\n    // helper, it is ambiguous, and will be resolved in a later\n    // pass or at runtime.\n    let isEligible = !isBlockParam && (isHelper || isSimple);\n\n    // if ambiguous, we can possibly resolve the ambiguity now\n    // An eligible helper is one that does not have a complex path, i.e. `this.foo`, `../foo` etc.\n    if (isEligible && !isHelper) {\n      let name = sexpr.path.parts[0],\n        options = this.options;\n      if (options.knownHelpers[name]) {\n        isHelper = true;\n      } else if (options.knownHelpersOnly) {\n        isEligible = false;\n      }\n    }\n\n    if (isHelper) {\n      return 'helper';\n    } else if (isEligible) {\n      return 'ambiguous';\n    } else {\n      return 'simple';\n    }\n  },\n\n  pushParams: function(params) {\n    for (let i = 0, l = params.length; i < l; i++) {\n      this.pushParam(params[i]);\n    }\n  },\n\n  pushParam: function(val) {\n    let value = val.value != null ? val.value : val.original || '';\n\n    if (this.stringParams) {\n      if (value.replace) {\n        value = value.replace(/^(\\.?\\.\\/)*/g, '').replace(/\\//g, '.');\n      }\n\n      if (val.depth) {\n        this.addDepth(val.depth);\n      }\n      this.opcode('getContext', val.depth || 0);\n      this.opcode('pushStringParam', value, val.type);\n\n      if (val.type === 'SubExpression') {\n        // SubExpressions get evaluated and passed in\n        // in string params mode.\n        this.accept(val);\n      }\n    } else {\n      if (this.trackIds) {\n        let blockParamIndex;\n        if (val.parts && !AST.helpers.scopedId(val) && !val.depth) {\n          blockParamIndex = this.blockParamIndex(val.parts[0]);\n        }\n        if (blockParamIndex) {\n          let blockParamChild = val.parts.slice(1).join('.');\n          this.opcode('pushId', 'BlockParam', blockParamIndex, blockParamChild);\n        } else {\n          value = val.original || value;\n          if (value.replace) {\n            value = value\n              .replace(/^this(?:\\.|$)/, '')\n              .replace(/^\\.\\//, '')\n              .replace(/^\\.$/, '');\n          }\n\n          this.opcode('pushId', val.type, value);\n        }\n      }\n      this.accept(val);\n    }\n  },\n\n  setupFullMustacheParams: function(sexpr, program, inverse, omitEmpty) {\n    let params = sexpr.params;\n    this.pushParams(params);\n\n    this.opcode('pushProgram', program);\n    this.opcode('pushProgram', inverse);\n\n    if (sexpr.hash) {\n      this.accept(sexpr.hash);\n    } else {\n      this.opcode('emptyHash', omitEmpty);\n    }\n\n    return params;\n  },\n\n  blockParamIndex: function(name) {\n    for (\n      let depth = 0, len = this.options.blockParams.length;\n      depth < len;\n      depth++\n    ) {\n      let blockParams = this.options.blockParams[depth],\n        param = blockParams && indexOf(blockParams, name);\n      if (blockParams && param >= 0) {\n        return [depth, param];\n      }\n    }\n  }\n};\n\nexport function precompile(input, options, env) {\n  if (\n    input == null ||\n    (typeof input !== 'string' && input.type !== 'Program')\n  ) {\n    throw new Exception(\n      'You must pass a string or Handlebars AST to Handlebars.precompile. You passed ' +\n        input\n    );\n  }\n\n  options = options || {};\n  if (!('data' in options)) {\n    options.data = true;\n  }\n  if (options.compat) {\n    options.useDepths = true;\n  }\n\n  let ast = env.parse(input, options),\n    environment = new env.Compiler().compile(ast, options);\n  return new env.JavaScriptCompiler().compile(environment, options);\n}\n\nexport function compile(input, options = {}, env) {\n  if (\n    input == null ||\n    (typeof input !== 'string' && input.type !== 'Program')\n  ) {\n    throw new Exception(\n      'You must pass a string or Handlebars AST to Handlebars.compile. You passed ' +\n        input\n    );\n  }\n\n  options = extend({}, options);\n  if (!('data' in options)) {\n    options.data = true;\n  }\n  if (options.compat) {\n    options.useDepths = true;\n  }\n\n  let compiled;\n\n  function compileInput() {\n    let ast = env.parse(input, options),\n      environment = new env.Compiler().compile(ast, options),\n      templateSpec = new env.JavaScriptCompiler().compile(\n        environment,\n        options,\n        undefined,\n        true\n      );\n    return env.template(templateSpec);\n  }\n\n  // Template is only compiled on first use and cached after that point.\n  function ret(context, execOptions) {\n    if (!compiled) {\n      compiled = compileInput();\n    }\n    return compiled.call(this, context, execOptions);\n  }\n  ret._setup = function(setupOptions) {\n    if (!compiled) {\n      compiled = compileInput();\n    }\n    return compiled._setup(setupOptions);\n  };\n  ret._child = function(i, data, blockParams, depths) {\n    if (!compiled) {\n      compiled = compileInput();\n    }\n    return compiled._child(i, data, blockParams, depths);\n  };\n  return ret;\n}\n\nfunction argEquals(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (isArray(a) && isArray(b) && a.length === b.length) {\n    for (let i = 0; i < a.length; i++) {\n      if (!argEquals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n}\n\nfunction transformLiteralToPath(sexpr) {\n  if (!sexpr.path.parts) {\n    let literal = sexpr.path;\n    // Casting to string here to make false and 0 literal values play nicely with the rest\n    // of the system.\n    sexpr.path = {\n      type: 'PathExpression',\n      data: false,\n      depth: 0,\n      parts: [literal.original + ''],\n      original: literal.original + '',\n      loc: literal.loc\n    };\n  }\n}\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   \u201Csources\u201D entry.  This value is prepended to the individual\n    //   entries in the \u201Csource\u201D field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   \u201CsourceRoot\u201D, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex] || '';\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex] || '';\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n", "/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n", "/* global define, require */\nimport { isArray } from '../utils';\n\nlet SourceNode;\n\ntry {\n  /* istanbul ignore next */\n  if (typeof define !== 'function' || !define.amd) {\n    // We don't support this in AMD environments. For these environments, we assume that\n    // they are running on the browser and thus have no need for the source-map library.\n    let SourceMap = require('source-map');\n    SourceNode = SourceMap.SourceNode;\n  }\n} catch (err) {\n  /* NOP */\n}\n\n/* istanbul ignore if: tested but not covered in istanbul due to dist build  */\nif (!SourceNode) {\n  SourceNode = function(line, column, srcFile, chunks) {\n    this.src = '';\n    if (chunks) {\n      this.add(chunks);\n    }\n  };\n  /* istanbul ignore next */\n  SourceNode.prototype = {\n    add: function(chunks) {\n      if (isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src += chunks;\n    },\n    prepend: function(chunks) {\n      if (isArray(chunks)) {\n        chunks = chunks.join('');\n      }\n      this.src = chunks + this.src;\n    },\n    toStringWithSourceMap: function() {\n      return { code: this.toString() };\n    },\n    toString: function() {\n      return this.src;\n    }\n  };\n}\n\nfunction castChunk(chunk, codeGen, loc) {\n  if (isArray(chunk)) {\n    let ret = [];\n\n    for (let i = 0, len = chunk.length; i < len; i++) {\n      ret.push(codeGen.wrap(chunk[i], loc));\n    }\n    return ret;\n  } else if (typeof chunk === 'boolean' || typeof chunk === 'number') {\n    // Handle primitives that the SourceNode will throw up on\n    return chunk + '';\n  }\n  return chunk;\n}\n\nfunction CodeGen(srcFile) {\n  this.srcFile = srcFile;\n  this.source = [];\n}\n\nCodeGen.prototype = {\n  isEmpty() {\n    return !this.source.length;\n  },\n  prepend: function(source, loc) {\n    this.source.unshift(this.wrap(source, loc));\n  },\n  push: function(source, loc) {\n    this.source.push(this.wrap(source, loc));\n  },\n\n  merge: function() {\n    let source = this.empty();\n    this.each(function(line) {\n      source.add(['  ', line, '\\n']);\n    });\n    return source;\n  },\n\n  each: function(iter) {\n    for (let i = 0, len = this.source.length; i < len; i++) {\n      iter(this.source[i]);\n    }\n  },\n\n  empty: function() {\n    let loc = this.currentLocation || { start: {} };\n    return new SourceNode(loc.start.line, loc.start.column, this.srcFile);\n  },\n  wrap: function(chunk, loc = this.currentLocation || { start: {} }) {\n    if (chunk instanceof SourceNode) {\n      return chunk;\n    }\n\n    chunk = castChunk(chunk, this, loc);\n\n    return new SourceNode(\n      loc.start.line,\n      loc.start.column,\n      this.srcFile,\n      chunk\n    );\n  },\n\n  functionCall: function(fn, type, params) {\n    params = this.generateList(params);\n    return this.wrap([fn, type ? '.' + type + '(' : '(', params, ')']);\n  },\n\n  quotedString: function(str) {\n    return (\n      '\"' +\n      (str + '')\n        .replace(/\\\\/g, '\\\\\\\\')\n        .replace(/\"/g, '\\\\\"')\n        .replace(/\\n/g, '\\\\n')\n        .replace(/\\r/g, '\\\\r')\n        .replace(/\\u2028/g, '\\\\u2028') // Per Ecma-262 7.3 + 7.8.4\n        .replace(/\\u2029/g, '\\\\u2029') +\n      '\"'\n    );\n  },\n\n  objectLiteral: function(obj) {\n    let pairs = [];\n\n    Object.keys(obj).forEach(key => {\n      let value = castChunk(obj[key], this);\n      if (value !== 'undefined') {\n        pairs.push([this.quotedString(key), ':', value]);\n      }\n    });\n\n    let ret = this.generateList(pairs);\n    ret.prepend('{');\n    ret.add('}');\n    return ret;\n  },\n\n  generateList: function(entries) {\n    let ret = this.empty();\n\n    for (let i = 0, len = entries.length; i < len; i++) {\n      if (i) {\n        ret.add(',');\n      }\n\n      ret.add(castChunk(entries[i], this));\n    }\n\n    return ret;\n  },\n\n  generateArray: function(entries) {\n    let ret = this.generateList(entries);\n    ret.prepend('[');\n    ret.add(']');\n\n    return ret;\n  }\n};\n\nexport default CodeGen;\n", "import { COMPILER_REVISION, REVISION_CHANGES } from '../base';\nimport Exception from '../exception';\nimport { isArray } from '../utils';\nimport CodeGen from './code-gen';\n\nfunction Literal(value) {\n  this.value = value;\n}\n\nfunction JavaScriptCompiler() {}\n\nJavaScriptCompiler.prototype = {\n  // PUBLIC API: You can override these methods in a subclass to provide\n  // alternative compiled forms for name lookup and buffering semantics\n  nameLookup: function(parent, name /*,  type */) {\n    return this.internalNameLookup(parent, name);\n  },\n  depthedLookup: function(name) {\n    return [\n      this.aliasable('container.lookup'),\n      '(depths, ',\n      JSON.stringify(name),\n      ')'\n    ];\n  },\n\n  compilerInfo: function() {\n    const revision = COMPILER_REVISION,\n      versions = REVISION_CHANGES[revision];\n    return [revision, versions];\n  },\n\n  appendToBuffer: function(source, location, explicit) {\n    // Force a source as this simplifies the merge logic.\n    if (!isArray(source)) {\n      source = [source];\n    }\n    source = this.source.wrap(source, location);\n\n    if (this.environment.isSimple) {\n      return ['return ', source, ';'];\n    } else if (explicit) {\n      // This is a case where the buffer operation occurs as a child of another\n      // construct, generally braces. We have to explicitly output these buffer\n      // operations to ensure that the emitted code goes in the correct location.\n      return ['buffer += ', source, ';'];\n    } else {\n      source.appendToBuffer = true;\n      return source;\n    }\n  },\n\n  initializeBuffer: function() {\n    return this.quotedString('');\n  },\n  // END PUBLIC API\n  internalNameLookup: function(parent, name) {\n    this.lookupPropertyFunctionIsUsed = true;\n    return ['lookupProperty(', parent, ',', JSON.stringify(name), ')'];\n  },\n\n  lookupPropertyFunctionIsUsed: false,\n\n  compile: function(environment, options, context, asObject) {\n    this.environment = environment;\n    this.options = options;\n    this.stringParams = this.options.stringParams;\n    this.trackIds = this.options.trackIds;\n    this.precompile = !asObject;\n\n    this.name = this.environment.name;\n    this.isChild = !!context;\n    this.context = context || {\n      decorators: [],\n      programs: [],\n      environments: []\n    };\n\n    this.preamble();\n\n    this.stackSlot = 0;\n    this.stackVars = [];\n    this.aliases = {};\n    this.registers = { list: [] };\n    this.hashes = [];\n    this.compileStack = [];\n    this.inlineStack = [];\n    this.blockParams = [];\n\n    this.compileChildren(environment, options);\n\n    this.useDepths =\n      this.useDepths ||\n      environment.useDepths ||\n      environment.useDecorators ||\n      this.options.compat;\n    this.useBlockParams = this.useBlockParams || environment.useBlockParams;\n\n    let opcodes = environment.opcodes,\n      opcode,\n      firstLoc,\n      i,\n      l;\n\n    for (i = 0, l = opcodes.length; i < l; i++) {\n      opcode = opcodes[i];\n\n      this.source.currentLocation = opcode.loc;\n      firstLoc = firstLoc || opcode.loc;\n      this[opcode.opcode].apply(this, opcode.args);\n    }\n\n    // Flush any trailing content that might be pending.\n    this.source.currentLocation = firstLoc;\n    this.pushSource('');\n\n    /* istanbul ignore next */\n    if (this.stackSlot || this.inlineStack.length || this.compileStack.length) {\n      throw new Exception('Compile completed with content left on stack');\n    }\n\n    if (!this.decorators.isEmpty()) {\n      this.useDecorators = true;\n\n      this.decorators.prepend([\n        'var decorators = container.decorators, ',\n        this.lookupPropertyFunctionVarDeclaration(),\n        ';\\n'\n      ]);\n      this.decorators.push('return fn;');\n\n      if (asObject) {\n        this.decorators = Function.apply(this, [\n          'fn',\n          'props',\n          'container',\n          'depth0',\n          'data',\n          'blockParams',\n          'depths',\n          this.decorators.merge()\n        ]);\n      } else {\n        this.decorators.prepend(\n          'function(fn, props, container, depth0, data, blockParams, depths) {\\n'\n        );\n        this.decorators.push('}\\n');\n        this.decorators = this.decorators.merge();\n      }\n    } else {\n      this.decorators = undefined;\n    }\n\n    let fn = this.createFunctionContext(asObject);\n    if (!this.isChild) {\n      let ret = {\n        compiler: this.compilerInfo(),\n        main: fn\n      };\n\n      if (this.decorators) {\n        ret.main_d = this.decorators; // eslint-disable-line camelcase\n        ret.useDecorators = true;\n      }\n\n      let { programs, decorators } = this.context;\n      for (i = 0, l = programs.length; i < l; i++) {\n        if (programs[i]) {\n          ret[i] = programs[i];\n          if (decorators[i]) {\n            ret[i + '_d'] = decorators[i];\n            ret.useDecorators = true;\n          }\n        }\n      }\n\n      if (this.environment.usePartial) {\n        ret.usePartial = true;\n      }\n      if (this.options.data) {\n        ret.useData = true;\n      }\n      if (this.useDepths) {\n        ret.useDepths = true;\n      }\n      if (this.useBlockParams) {\n        ret.useBlockParams = true;\n      }\n      if (this.options.compat) {\n        ret.compat = true;\n      }\n\n      if (!asObject) {\n        ret.compiler = JSON.stringify(ret.compiler);\n\n        this.source.currentLocation = { start: { line: 1, column: 0 } };\n        ret = this.objectLiteral(ret);\n\n        if (options.srcName) {\n          ret = ret.toStringWithSourceMap({ file: options.destName });\n          ret.map = ret.map && ret.map.toString();\n        } else {\n          ret = ret.toString();\n        }\n      } else {\n        ret.compilerOptions = this.options;\n      }\n\n      return ret;\n    } else {\n      return fn;\n    }\n  },\n\n  preamble: function() {\n    // track the last context pushed into place to allow skipping the\n    // getContext opcode when it would be a noop\n    this.lastContext = 0;\n    this.source = new CodeGen(this.options.srcName);\n    this.decorators = new CodeGen(this.options.srcName);\n  },\n\n  createFunctionContext: function(asObject) {\n    let varDeclarations = '';\n\n    let locals = this.stackVars.concat(this.registers.list);\n    if (locals.length > 0) {\n      varDeclarations += ', ' + locals.join(', ');\n    }\n\n    // Generate minimizer alias mappings\n    //\n    // When using true SourceNodes, this will update all references to the given alias\n    // as the source nodes are reused in situ. For the non-source node compilation mode,\n    // aliases will not be used, but this case is already being run on the client and\n    // we aren't concern about minimizing the template size.\n    let aliasCount = 0;\n    Object.keys(this.aliases).forEach(alias => {\n      let node = this.aliases[alias];\n      if (node.children && node.referenceCount > 1) {\n        varDeclarations += ', alias' + ++aliasCount + '=' + alias;\n        node.children[0] = 'alias' + aliasCount;\n      }\n    });\n\n    if (this.lookupPropertyFunctionIsUsed) {\n      varDeclarations += ', ' + this.lookupPropertyFunctionVarDeclaration();\n    }\n\n    let params = ['container', 'depth0', 'helpers', 'partials', 'data'];\n\n    if (this.useBlockParams || this.useDepths) {\n      params.push('blockParams');\n    }\n    if (this.useDepths) {\n      params.push('depths');\n    }\n\n    // Perform a second pass over the output to merge content when possible\n    let source = this.mergeSource(varDeclarations);\n\n    if (asObject) {\n      params.push(source);\n\n      return Function.apply(this, params);\n    } else {\n      return this.source.wrap([\n        'function(',\n        params.join(','),\n        ') {\\n  ',\n        source,\n        '}'\n      ]);\n    }\n  },\n  mergeSource: function(varDeclarations) {\n    let isSimple = this.environment.isSimple,\n      appendOnly = !this.forceBuffer,\n      appendFirst,\n      sourceSeen,\n      bufferStart,\n      bufferEnd;\n    this.source.each(line => {\n      if (line.appendToBuffer) {\n        if (bufferStart) {\n          line.prepend('  + ');\n        } else {\n          bufferStart = line;\n        }\n        bufferEnd = line;\n      } else {\n        if (bufferStart) {\n          if (!sourceSeen) {\n            appendFirst = true;\n          } else {\n            bufferStart.prepend('buffer += ');\n          }\n          bufferEnd.add(';');\n          bufferStart = bufferEnd = undefined;\n        }\n\n        sourceSeen = true;\n        if (!isSimple) {\n          appendOnly = false;\n        }\n      }\n    });\n\n    if (appendOnly) {\n      if (bufferStart) {\n        bufferStart.prepend('return ');\n        bufferEnd.add(';');\n      } else if (!sourceSeen) {\n        this.source.push('return \"\";');\n      }\n    } else {\n      varDeclarations +=\n        ', buffer = ' + (appendFirst ? '' : this.initializeBuffer());\n\n      if (bufferStart) {\n        bufferStart.prepend('return buffer + ');\n        bufferEnd.add(';');\n      } else {\n        this.source.push('return buffer;');\n      }\n    }\n\n    if (varDeclarations) {\n      this.source.prepend(\n        'var ' + varDeclarations.substring(2) + (appendFirst ? '' : ';\\n')\n      );\n    }\n\n    return this.source.merge();\n  },\n\n  lookupPropertyFunctionVarDeclaration: function() {\n    return `\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    `.trim();\n  },\n\n  // [blockValue]\n  //\n  // On stack, before: hash, inverse, program, value\n  // On stack, after: return value of blockHelperMissing\n  //\n  // The purpose of this opcode is to take a block of the form\n  // `{{#this.foo}}...{{/this.foo}}`, resolve the value of `foo`, and\n  // replace it on the stack with the result of properly\n  // invoking blockHelperMissing.\n  blockValue: function(name) {\n    let blockHelperMissing = this.aliasable(\n        'container.hooks.blockHelperMissing'\n      ),\n      params = [this.contextName(0)];\n    this.setupHelperArgs(name, 0, params);\n\n    let blockName = this.popStack();\n    params.splice(1, 0, blockName);\n\n    this.push(this.source.functionCall(blockHelperMissing, 'call', params));\n  },\n\n  // [ambiguousBlockValue]\n  //\n  // On stack, before: hash, inverse, program, value\n  // Compiler value, before: lastHelper=value of last found helper, if any\n  // On stack, after, if no lastHelper: same as [blockValue]\n  // On stack, after, if lastHelper: value\n  ambiguousBlockValue: function() {\n    // We're being a bit cheeky and reusing the options value from the prior exec\n    let blockHelperMissing = this.aliasable(\n        'container.hooks.blockHelperMissing'\n      ),\n      params = [this.contextName(0)];\n    this.setupHelperArgs('', 0, params, true);\n\n    this.flushInline();\n\n    let current = this.topStack();\n    params.splice(1, 0, current);\n\n    this.pushSource([\n      'if (!',\n      this.lastHelper,\n      ') { ',\n      current,\n      ' = ',\n      this.source.functionCall(blockHelperMissing, 'call', params),\n      '}'\n    ]);\n  },\n\n  // [appendContent]\n  //\n  // On stack, before: ...\n  // On stack, after: ...\n  //\n  // Appends the string value of `content` to the current buffer\n  appendContent: function(content) {\n    if (this.pendingContent) {\n      content = this.pendingContent + content;\n    } else {\n      this.pendingLocation = this.source.currentLocation;\n    }\n\n    this.pendingContent = content;\n  },\n\n  // [append]\n  //\n  // On stack, before: value, ...\n  // On stack, after: ...\n  //\n  // Coerces `value` to a String and appends it to the current buffer.\n  //\n  // If `value` is truthy, or 0, it is coerced into a string and appended\n  // Otherwise, the empty string is appended\n  append: function() {\n    if (this.isInline()) {\n      this.replaceStack(current => [' != null ? ', current, ' : \"\"']);\n\n      this.pushSource(this.appendToBuffer(this.popStack()));\n    } else {\n      let local = this.popStack();\n      this.pushSource([\n        'if (',\n        local,\n        ' != null) { ',\n        this.appendToBuffer(local, undefined, true),\n        ' }'\n      ]);\n      if (this.environment.isSimple) {\n        this.pushSource([\n          'else { ',\n          this.appendToBuffer(\"''\", undefined, true),\n          ' }'\n        ]);\n      }\n    }\n  },\n\n  // [appendEscaped]\n  //\n  // On stack, before: value, ...\n  // On stack, after: ...\n  //\n  // Escape `value` and append it to the buffer\n  appendEscaped: function() {\n    this.pushSource(\n      this.appendToBuffer([\n        this.aliasable('container.escapeExpression'),\n        '(',\n        this.popStack(),\n        ')'\n      ])\n    );\n  },\n\n  // [getContext]\n  //\n  // On stack, before: ...\n  // On stack, after: ...\n  // Compiler value, after: lastContext=depth\n  //\n  // Set the value of the `lastContext` compiler value to the depth\n  getContext: function(depth) {\n    this.lastContext = depth;\n  },\n\n  // [pushContext]\n  //\n  // On stack, before: ...\n  // On stack, after: currentContext, ...\n  //\n  // Pushes the value of the current context onto the stack.\n  pushContext: function() {\n    this.pushStackLiteral(this.contextName(this.lastContext));\n  },\n\n  // [lookupOnContext]\n  //\n  // On stack, before: ...\n  // On stack, after: currentContext[name], ...\n  //\n  // Looks up the value of `name` on the current context and pushes\n  // it onto the stack.\n  lookupOnContext: function(parts, falsy, strict, scoped) {\n    let i = 0;\n\n    if (!scoped && this.options.compat && !this.lastContext) {\n      // The depthed query is expected to handle the undefined logic for the root level that\n      // is implemented below, so we evaluate that directly in compat mode\n      this.push(this.depthedLookup(parts[i++]));\n    } else {\n      this.pushContext();\n    }\n\n    this.resolvePath('context', parts, i, falsy, strict);\n  },\n\n  // [lookupBlockParam]\n  //\n  // On stack, before: ...\n  // On stack, after: blockParam[name], ...\n  //\n  // Looks up the value of `parts` on the given block param and pushes\n  // it onto the stack.\n  lookupBlockParam: function(blockParamId, parts) {\n    this.useBlockParams = true;\n\n    this.push(['blockParams[', blockParamId[0], '][', blockParamId[1], ']']);\n    this.resolvePath('context', parts, 1);\n  },\n\n  // [lookupData]\n  //\n  // On stack, before: ...\n  // On stack, after: data, ...\n  //\n  // Push the data lookup operator\n  lookupData: function(depth, parts, strict) {\n    if (!depth) {\n      this.pushStackLiteral('data');\n    } else {\n      this.pushStackLiteral('container.data(data, ' + depth + ')');\n    }\n\n    this.resolvePath('data', parts, 0, true, strict);\n  },\n\n  resolvePath: function(type, parts, i, falsy, strict) {\n    if (this.options.strict || this.options.assumeObjects) {\n      this.push(\n        strictLookup(this.options.strict && strict, this, parts, i, type)\n      );\n      return;\n    }\n\n    let len = parts.length;\n    for (; i < len; i++) {\n      /* eslint-disable no-loop-func */\n      this.replaceStack(current => {\n        let lookup = this.nameLookup(current, parts[i], type);\n        // We want to ensure that zero and false are handled properly if the context (falsy flag)\n        // needs to have the special handling for these values.\n        if (!falsy) {\n          return [' != null ? ', lookup, ' : ', current];\n        } else {\n          // Otherwise we can use generic falsy handling\n          return [' && ', lookup];\n        }\n      });\n      /* eslint-enable no-loop-func */\n    }\n  },\n\n  // [resolvePossibleLambda]\n  //\n  // On stack, before: value, ...\n  // On stack, after: resolved value, ...\n  //\n  // If the `value` is a lambda, replace it on the stack by\n  // the return value of the lambda\n  resolvePossibleLambda: function() {\n    this.push([\n      this.aliasable('container.lambda'),\n      '(',\n      this.popStack(),\n      ', ',\n      this.contextName(0),\n      ')'\n    ]);\n  },\n\n  // [pushStringParam]\n  //\n  // On stack, before: ...\n  // On stack, after: string, currentContext, ...\n  //\n  // This opcode is designed for use in string mode, which\n  // provides the string value of a parameter along with its\n  // depth rather than resolving it immediately.\n  pushStringParam: function(string, type) {\n    this.pushContext();\n    this.pushString(type);\n\n    // If it's a subexpression, the string result\n    // will be pushed after this opcode.\n    if (type !== 'SubExpression') {\n      if (typeof string === 'string') {\n        this.pushString(string);\n      } else {\n        this.pushStackLiteral(string);\n      }\n    }\n  },\n\n  emptyHash: function(omitEmpty) {\n    if (this.trackIds) {\n      this.push('{}'); // hashIds\n    }\n    if (this.stringParams) {\n      this.push('{}'); // hashContexts\n      this.push('{}'); // hashTypes\n    }\n    this.pushStackLiteral(omitEmpty ? 'undefined' : '{}');\n  },\n  pushHash: function() {\n    if (this.hash) {\n      this.hashes.push(this.hash);\n    }\n    this.hash = { values: {}, types: [], contexts: [], ids: [] };\n  },\n  popHash: function() {\n    let hash = this.hash;\n    this.hash = this.hashes.pop();\n\n    if (this.trackIds) {\n      this.push(this.objectLiteral(hash.ids));\n    }\n    if (this.stringParams) {\n      this.push(this.objectLiteral(hash.contexts));\n      this.push(this.objectLiteral(hash.types));\n    }\n\n    this.push(this.objectLiteral(hash.values));\n  },\n\n  // [pushString]\n  //\n  // On stack, before: ...\n  // On stack, after: quotedString(string), ...\n  //\n  // Push a quoted version of `string` onto the stack\n  pushString: function(string) {\n    this.pushStackLiteral(this.quotedString(string));\n  },\n\n  // [pushLiteral]\n  //\n  // On stack, before: ...\n  // On stack, after: value, ...\n  //\n  // Pushes a value onto the stack. This operation prevents\n  // the compiler from creating a temporary variable to hold\n  // it.\n  pushLiteral: function(value) {\n    this.pushStackLiteral(value);\n  },\n\n  // [pushProgram]\n  //\n  // On stack, before: ...\n  // On stack, after: program(guid), ...\n  //\n  // Push a program expression onto the stack. This takes\n  // a compile-time guid and converts it into a runtime-accessible\n  // expression.\n  pushProgram: function(guid) {\n    if (guid != null) {\n      this.pushStackLiteral(this.programExpression(guid));\n    } else {\n      this.pushStackLiteral(null);\n    }\n  },\n\n  // [registerDecorator]\n  //\n  // On stack, before: hash, program, params..., ...\n  // On stack, after: ...\n  //\n  // Pops off the decorator's parameters, invokes the decorator,\n  // and inserts the decorator into the decorators list.\n  registerDecorator(paramSize, name) {\n    let foundDecorator = this.nameLookup('decorators', name, 'decorator'),\n      options = this.setupHelperArgs(name, paramSize);\n\n    this.decorators.push([\n      'fn = ',\n      this.decorators.functionCall(foundDecorator, '', [\n        'fn',\n        'props',\n        'container',\n        options\n      ]),\n      ' || fn;'\n    ]);\n  },\n\n  // [invokeHelper]\n  //\n  // On stack, before: hash, inverse, program, params..., ...\n  // On stack, after: result of helper invocation\n  //\n  // Pops off the helper's parameters, invokes the helper,\n  // and pushes the helper's return value onto the stack.\n  //\n  // If the helper is not found, `helperMissing` is called.\n  invokeHelper: function(paramSize, name, isSimple) {\n    let nonHelper = this.popStack(),\n      helper = this.setupHelper(paramSize, name);\n\n    let possibleFunctionCalls = [];\n\n    if (isSimple) {\n      // direct call to helper\n      possibleFunctionCalls.push(helper.name);\n    }\n    // call a function from the input object\n    possibleFunctionCalls.push(nonHelper);\n    if (!this.options.strict) {\n      possibleFunctionCalls.push(\n        this.aliasable('container.hooks.helperMissing')\n      );\n    }\n\n    let functionLookupCode = [\n      '(',\n      this.itemsSeparatedBy(possibleFunctionCalls, '||'),\n      ')'\n    ];\n    let functionCall = this.source.functionCall(\n      functionLookupCode,\n      'call',\n      helper.callParams\n    );\n    this.push(functionCall);\n  },\n\n  itemsSeparatedBy: function(items, separator) {\n    let result = [];\n    result.push(items[0]);\n    for (let i = 1; i < items.length; i++) {\n      result.push(separator, items[i]);\n    }\n    return result;\n  },\n  // [invokeKnownHelper]\n  //\n  // On stack, before: hash, inverse, program, params..., ...\n  // On stack, after: result of helper invocation\n  //\n  // This operation is used when the helper is known to exist,\n  // so a `helperMissing` fallback is not required.\n  invokeKnownHelper: function(paramSize, name) {\n    let helper = this.setupHelper(paramSize, name);\n    this.push(this.source.functionCall(helper.name, 'call', helper.callParams));\n  },\n\n  // [invokeAmbiguous]\n  //\n  // On stack, before: hash, inverse, program, params..., ...\n  // On stack, after: result of disambiguation\n  //\n  // This operation is used when an expression like `{{foo}}`\n  // is provided, but we don't know at compile-time whether it\n  // is a helper or a path.\n  //\n  // This operation emits more code than the other options,\n  // and can be avoided by passing the `knownHelpers` and\n  // `knownHelpersOnly` flags at compile-time.\n  invokeAmbiguous: function(name, helperCall) {\n    this.useRegister('helper');\n\n    let nonHelper = this.popStack();\n\n    this.emptyHash();\n    let helper = this.setupHelper(0, name, helperCall);\n\n    let helperName = (this.lastHelper = this.nameLookup(\n      'helpers',\n      name,\n      'helper'\n    ));\n\n    let lookup = ['(', '(helper = ', helperName, ' || ', nonHelper, ')'];\n    if (!this.options.strict) {\n      lookup[0] = '(helper = ';\n      lookup.push(\n        ' != null ? helper : ',\n        this.aliasable('container.hooks.helperMissing')\n      );\n    }\n\n    this.push([\n      '(',\n      lookup,\n      helper.paramsInit ? ['),(', helper.paramsInit] : [],\n      '),',\n      '(typeof helper === ',\n      this.aliasable('\"function\"'),\n      ' ? ',\n      this.source.functionCall('helper', 'call', helper.callParams),\n      ' : helper))'\n    ]);\n  },\n\n  // [invokePartial]\n  //\n  // On stack, before: context, ...\n  // On stack after: result of partial invocation\n  //\n  // This operation pops off a context, invokes a partial with that context,\n  // and pushes the result of the invocation back.\n  invokePartial: function(isDynamic, name, indent) {\n    let params = [],\n      options = this.setupParams(name, 1, params);\n\n    if (isDynamic) {\n      name = this.popStack();\n      delete options.name;\n    }\n\n    if (indent) {\n      options.indent = JSON.stringify(indent);\n    }\n    options.helpers = 'helpers';\n    options.partials = 'partials';\n    options.decorators = 'container.decorators';\n\n    if (!isDynamic) {\n      params.unshift(this.nameLookup('partials', name, 'partial'));\n    } else {\n      params.unshift(name);\n    }\n\n    if (this.options.compat) {\n      options.depths = 'depths';\n    }\n    options = this.objectLiteral(options);\n    params.push(options);\n\n    this.push(this.source.functionCall('container.invokePartial', '', params));\n  },\n\n  // [assignToHash]\n  //\n  // On stack, before: value, ..., hash, ...\n  // On stack, after: ..., hash, ...\n  //\n  // Pops a value off the stack and assigns it to the current hash\n  assignToHash: function(key) {\n    let value = this.popStack(),\n      context,\n      type,\n      id;\n\n    if (this.trackIds) {\n      id = this.popStack();\n    }\n    if (this.stringParams) {\n      type = this.popStack();\n      context = this.popStack();\n    }\n\n    let hash = this.hash;\n    if (context) {\n      hash.contexts[key] = context;\n    }\n    if (type) {\n      hash.types[key] = type;\n    }\n    if (id) {\n      hash.ids[key] = id;\n    }\n    hash.values[key] = value;\n  },\n\n  pushId: function(type, name, child) {\n    if (type === 'BlockParam') {\n      this.pushStackLiteral(\n        'blockParams[' +\n          name[0] +\n          '].path[' +\n          name[1] +\n          ']' +\n          (child ? ' + ' + JSON.stringify('.' + child) : '')\n      );\n    } else if (type === 'PathExpression') {\n      this.pushString(name);\n    } else if (type === 'SubExpression') {\n      this.pushStackLiteral('true');\n    } else {\n      this.pushStackLiteral('null');\n    }\n  },\n\n  // HELPERS\n\n  compiler: JavaScriptCompiler,\n\n  compileChildren: function(environment, options) {\n    let children = environment.children,\n      child,\n      compiler;\n\n    for (let i = 0, l = children.length; i < l; i++) {\n      child = children[i];\n      compiler = new this.compiler(); // eslint-disable-line new-cap\n\n      let existing = this.matchExistingProgram(child);\n\n      if (existing == null) {\n        this.context.programs.push(''); // Placeholder to prevent name conflicts for nested children\n        let index = this.context.programs.length;\n        child.index = index;\n        child.name = 'program' + index;\n        this.context.programs[index] = compiler.compile(\n          child,\n          options,\n          this.context,\n          !this.precompile\n        );\n        this.context.decorators[index] = compiler.decorators;\n        this.context.environments[index] = child;\n\n        this.useDepths = this.useDepths || compiler.useDepths;\n        this.useBlockParams = this.useBlockParams || compiler.useBlockParams;\n        child.useDepths = this.useDepths;\n        child.useBlockParams = this.useBlockParams;\n      } else {\n        child.index = existing.index;\n        child.name = 'program' + existing.index;\n\n        this.useDepths = this.useDepths || existing.useDepths;\n        this.useBlockParams = this.useBlockParams || existing.useBlockParams;\n      }\n    }\n  },\n  matchExistingProgram: function(child) {\n    for (let i = 0, len = this.context.environments.length; i < len; i++) {\n      let environment = this.context.environments[i];\n      if (environment && environment.equals(child)) {\n        return environment;\n      }\n    }\n  },\n\n  programExpression: function(guid) {\n    let child = this.environment.children[guid],\n      programParams = [child.index, 'data', child.blockParams];\n\n    if (this.useBlockParams || this.useDepths) {\n      programParams.push('blockParams');\n    }\n    if (this.useDepths) {\n      programParams.push('depths');\n    }\n\n    return 'container.program(' + programParams.join(', ') + ')';\n  },\n\n  useRegister: function(name) {\n    if (!this.registers[name]) {\n      this.registers[name] = true;\n      this.registers.list.push(name);\n    }\n  },\n\n  push: function(expr) {\n    if (!(expr instanceof Literal)) {\n      expr = this.source.wrap(expr);\n    }\n\n    this.inlineStack.push(expr);\n    return expr;\n  },\n\n  pushStackLiteral: function(item) {\n    this.push(new Literal(item));\n  },\n\n  pushSource: function(source) {\n    if (this.pendingContent) {\n      this.source.push(\n        this.appendToBuffer(\n          this.source.quotedString(this.pendingContent),\n          this.pendingLocation\n        )\n      );\n      this.pendingContent = undefined;\n    }\n\n    if (source) {\n      this.source.push(source);\n    }\n  },\n\n  replaceStack: function(callback) {\n    let prefix = ['('],\n      stack,\n      createdStack,\n      usedLiteral;\n\n    /* istanbul ignore next */\n    if (!this.isInline()) {\n      throw new Exception('replaceStack on non-inline');\n    }\n\n    // We want to merge the inline statement into the replacement statement via ','\n    let top = this.popStack(true);\n\n    if (top instanceof Literal) {\n      // Literals do not need to be inlined\n      stack = [top.value];\n      prefix = ['(', stack];\n      usedLiteral = true;\n    } else {\n      // Get or create the current stack name for use by the inline\n      createdStack = true;\n      let name = this.incrStack();\n\n      prefix = ['((', this.push(name), ' = ', top, ')'];\n      stack = this.topStack();\n    }\n\n    let item = callback.call(this, stack);\n\n    if (!usedLiteral) {\n      this.popStack();\n    }\n    if (createdStack) {\n      this.stackSlot--;\n    }\n    this.push(prefix.concat(item, ')'));\n  },\n\n  incrStack: function() {\n    this.stackSlot++;\n    if (this.stackSlot > this.stackVars.length) {\n      this.stackVars.push('stack' + this.stackSlot);\n    }\n    return this.topStackName();\n  },\n  topStackName: function() {\n    return 'stack' + this.stackSlot;\n  },\n  flushInline: function() {\n    let inlineStack = this.inlineStack;\n    this.inlineStack = [];\n    for (let i = 0, len = inlineStack.length; i < len; i++) {\n      let entry = inlineStack[i];\n      /* istanbul ignore if */\n      if (entry instanceof Literal) {\n        this.compileStack.push(entry);\n      } else {\n        let stack = this.incrStack();\n        this.pushSource([stack, ' = ', entry, ';']);\n        this.compileStack.push(stack);\n      }\n    }\n  },\n  isInline: function() {\n    return this.inlineStack.length;\n  },\n\n  popStack: function(wrapped) {\n    let inline = this.isInline(),\n      item = (inline ? this.inlineStack : this.compileStack).pop();\n\n    if (!wrapped && item instanceof Literal) {\n      return item.value;\n    } else {\n      if (!inline) {\n        /* istanbul ignore next */\n        if (!this.stackSlot) {\n          throw new Exception('Invalid stack pop');\n        }\n        this.stackSlot--;\n      }\n      return item;\n    }\n  },\n\n  topStack: function() {\n    let stack = this.isInline() ? this.inlineStack : this.compileStack,\n      item = stack[stack.length - 1];\n\n    /* istanbul ignore if */\n    if (item instanceof Literal) {\n      return item.value;\n    } else {\n      return item;\n    }\n  },\n\n  contextName: function(context) {\n    if (this.useDepths && context) {\n      return 'depths[' + context + ']';\n    } else {\n      return 'depth' + context;\n    }\n  },\n\n  quotedString: function(str) {\n    return this.source.quotedString(str);\n  },\n\n  objectLiteral: function(obj) {\n    return this.source.objectLiteral(obj);\n  },\n\n  aliasable: function(name) {\n    let ret = this.aliases[name];\n    if (ret) {\n      ret.referenceCount++;\n      return ret;\n    }\n\n    ret = this.aliases[name] = this.source.wrap(name);\n    ret.aliasable = true;\n    ret.referenceCount = 1;\n\n    return ret;\n  },\n\n  setupHelper: function(paramSize, name, blockHelper) {\n    let params = [],\n      paramsInit = this.setupHelperArgs(name, paramSize, params, blockHelper);\n    let foundHelper = this.nameLookup('helpers', name, 'helper'),\n      callContext = this.aliasable(\n        `${this.contextName(0)} != null ? ${this.contextName(\n          0\n        )} : (container.nullContext || {})`\n      );\n\n    return {\n      params: params,\n      paramsInit: paramsInit,\n      name: foundHelper,\n      callParams: [callContext].concat(params)\n    };\n  },\n\n  setupParams: function(helper, paramSize, params) {\n    let options = {},\n      contexts = [],\n      types = [],\n      ids = [],\n      objectArgs = !params,\n      param;\n\n    if (objectArgs) {\n      params = [];\n    }\n\n    options.name = this.quotedString(helper);\n    options.hash = this.popStack();\n\n    if (this.trackIds) {\n      options.hashIds = this.popStack();\n    }\n    if (this.stringParams) {\n      options.hashTypes = this.popStack();\n      options.hashContexts = this.popStack();\n    }\n\n    let inverse = this.popStack(),\n      program = this.popStack();\n\n    // Avoid setting fn and inverse if neither are set. This allows\n    // helpers to do a check for `if (options.fn)`\n    if (program || inverse) {\n      options.fn = program || 'container.noop';\n      options.inverse = inverse || 'container.noop';\n    }\n\n    // The parameters go on to the stack in order (making sure that they are evaluated in order)\n    // so we need to pop them off the stack in reverse order\n    let i = paramSize;\n    while (i--) {\n      param = this.popStack();\n      params[i] = param;\n\n      if (this.trackIds) {\n        ids[i] = this.popStack();\n      }\n      if (this.stringParams) {\n        types[i] = this.popStack();\n        contexts[i] = this.popStack();\n      }\n    }\n\n    if (objectArgs) {\n      options.args = this.source.generateArray(params);\n    }\n\n    if (this.trackIds) {\n      options.ids = this.source.generateArray(ids);\n    }\n    if (this.stringParams) {\n      options.types = this.source.generateArray(types);\n      options.contexts = this.source.generateArray(contexts);\n    }\n\n    if (this.options.data) {\n      options.data = 'data';\n    }\n    if (this.useBlockParams) {\n      options.blockParams = 'blockParams';\n    }\n    return options;\n  },\n\n  setupHelperArgs: function(helper, paramSize, params, useRegister) {\n    let options = this.setupParams(helper, paramSize, params);\n    options.loc = JSON.stringify(this.source.currentLocation);\n    options = this.objectLiteral(options);\n    if (useRegister) {\n      this.useRegister('options');\n      params.push('options');\n      return ['options=', options];\n    } else if (params) {\n      params.push(options);\n      return '';\n    } else {\n      return options;\n    }\n  }\n};\n\n(function() {\n  const reservedWords = (\n    'break else new var' +\n    ' case finally return void' +\n    ' catch for switch while' +\n    ' continue function this with' +\n    ' default if throw' +\n    ' delete in try' +\n    ' do instanceof typeof' +\n    ' abstract enum int short' +\n    ' boolean export interface static' +\n    ' byte extends long super' +\n    ' char final native synchronized' +\n    ' class float package throws' +\n    ' const goto private transient' +\n    ' debugger implements protected volatile' +\n    ' double import public let yield await' +\n    ' null true false'\n  ).split(' ');\n\n  const compilerWords = (JavaScriptCompiler.RESERVED_WORDS = {});\n\n  for (let i = 0, l = reservedWords.length; i < l; i++) {\n    compilerWords[reservedWords[i]] = true;\n  }\n})();\n\n/**\n * @deprecated May be removed in the next major version\n */\nJavaScriptCompiler.isValidJavaScriptVariableName = function(name) {\n  return (\n    !JavaScriptCompiler.RESERVED_WORDS[name] &&\n    /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(name)\n  );\n};\n\nfunction strictLookup(requireTerminal, compiler, parts, i, type) {\n  let stack = compiler.popStack(),\n    len = parts.length;\n  if (requireTerminal) {\n    len--;\n  }\n\n  for (; i < len; i++) {\n    stack = compiler.nameLookup(stack, parts[i], type);\n  }\n\n  if (requireTerminal) {\n    return [\n      compiler.aliasable('container.strict'),\n      '(',\n      stack,\n      ', ',\n      compiler.quotedString(parts[i]),\n      ', ',\n      JSON.stringify(compiler.source.currentLocation),\n      ' )'\n    ];\n  } else {\n    return stack;\n  }\n}\n\nexport default JavaScriptCompiler;\n", "import runtime from './handlebars.runtime';\n\n// Compiler imports\nimport AST from './handlebars/compiler/ast';\nimport {\n  parser as Parser,\n  parse,\n  parseWithoutProcessing\n} from './handlebars/compiler/base';\nimport { Compiler, compile, precompile } from './handlebars/compiler/compiler';\nimport JavaScriptCompiler from './handlebars/compiler/javascript-compiler';\nimport Visitor from './handlebars/compiler/visitor';\n\nimport noConflict from './handlebars/no-conflict';\n\nlet _create = runtime.create;\nfunction create() {\n  let hb = _create();\n\n  hb.compile = function(input, options) {\n    return compile(input, options, hb);\n  };\n  hb.precompile = function(input, options) {\n    return precompile(input, options, hb);\n  };\n\n  hb.AST = AST;\n  hb.Compiler = Compiler;\n  hb.JavaScriptCompiler = JavaScriptCompiler;\n  hb.Parser = Parser;\n  hb.parse = parse;\n  hb.parseWithoutProcessing = parseWithoutProcessing;\n\n  return hb;\n}\n\nlet inst = create();\ninst.create = create;\n\nnoConflict(inst);\n\ninst.Visitor = Visitor;\n\ninst['default'] = inst;\n\nexport default inst;\n", "/**\n * MicroEvent - to make any js object an event emitter\n *\n * - pure javascript - server compatible, browser compatible\n * - dont rely on the browser doms\n * - super simple - you get it immediatly, no mistery, no magic involved\n *\n * @author Jerome Etienne (https://github.com/jeromeetienne)\n */\n\ntype TCallback = (...args:any) => any;\n\n/**\n * Execute callback for each event in space separated list of event names\n *\n */\nfunction forEvents(events:string,callback:(event:string)=>any){\n\tevents.split(/\\s+/).forEach((event) =>{\n\t\tcallback(event);\n\t});\n}\n\nexport default class MicroEvent{\n\n\tpublic _events: {[key:string]:TCallback[]};\n\n\tconstructor(){\n\t\tthis._events = {};\n\t}\n\n\ton(events:string, fct:TCallback){\n\t\tforEvents(events,(event) => {\n\t\t\tconst event_array = this._events[event] || [];\n\t\t\tevent_array.push(fct);\n\t\t\tthis._events[event] = event_array;\n\t\t});\n\t}\n\n\toff(events:string, fct:TCallback){\n\t\tvar n = arguments.length;\n\t\tif( n === 0 ){\n\t\t\tthis._events = {};\n\t\t\treturn;\n\t\t}\n\n\t\tforEvents(events,(event) => {\n\n\t\t\tif (n === 1){\n\t\t\t\tdelete this._events[event];\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tconst event_array = this._events[event];\n\t\t\tif( event_array === undefined ) return;\n\n\t\t\tevent_array.splice(event_array.indexOf(fct), 1);\n\t\t\tthis._events[event] = event_array;\n\t\t});\n\t}\n\n\ttrigger(events:string, ...args:any){\n\t\tvar self = this;\n\n\t\tforEvents(events,(event) => {\n\t\t\tconst event_array = self._events[event];\n\t\t\tif( event_array === undefined ) return;\n\t\t\tevent_array.forEach(fct => {\n\t\t\t\tfct.apply(self, args );\n\t\t\t});\n\n\t\t});\n\t}\n};\n", "/**\n * microplugin.js\n * Copyright (c) 2013 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\ntype TSettings = {\n\t[key:string]:any\n}\n\ntype TPlugins = {\n\tnames: string[],\n\tsettings: TSettings,\n\trequested: {[key:string]:boolean},\n\tloaded: {[key:string]:any}\n};\n\nexport type TPluginItem = {name:string,options:{}};\nexport type TPluginHash = {[key:string]:{}};\n\n\n\n\nexport default function MicroPlugin(Interface: any ){\n\n\tInterface.plugins = {};\n\n\treturn class extends Interface{\n\n\t\tpublic plugins:TPlugins = {\n\t\t\tnames     : [],\n\t\t\tsettings  : {},\n\t\t\trequested : {},\n\t\t\tloaded    : {}\n\t\t};\n\n\t\t/**\n\t\t * Registers a plugin.\n\t\t *\n\t\t * @param {function} fn\n\t\t */\n\t\tstatic define(name:string, fn:(this:any,settings:TSettings)=>any){\n\t\t\tInterface.plugins[name] = {\n\t\t\t\t'name' : name,\n\t\t\t\t'fn'   : fn\n\t\t\t};\n\t\t}\n\n\n\t\t/**\n\t\t * Initializes the listed plugins (with options).\n\t\t * Acceptable formats:\n\t\t *\n\t\t * List (without options):\n\t\t *   ['a', 'b', 'c']\n\t\t *\n\t\t * List (with options):\n\t\t *   [{'name': 'a', options: {}}, {'name': 'b', options: {}}]\n\t\t *\n\t\t * Hash (with options):\n\t\t *   {'a': { ... }, 'b': { ... }, 'c': { ... }}\n\t\t *\n\t\t * @param {array|object} plugins\n\t\t */\n\t\tinitializePlugins(plugins:string[]|TPluginItem[]|TPluginHash) {\n\t\t\tvar key, name;\n\t\t\tconst self  = this;\n\t\t\tconst queue:string[] = [];\n\n\t\t\tif (Array.isArray(plugins)) {\n\t\t\t\tplugins.forEach((plugin:string|TPluginItem)=>{\n\t\t\t\t\tif (typeof plugin === 'string') {\n\t\t\t\t\t\tqueue.push(plugin);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.plugins.settings[plugin.name] = plugin.options;\n\t\t\t\t\t\tqueue.push(plugin.name);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (plugins) {\n\t\t\t\tfor (key in plugins) {\n\t\t\t\t\tif (plugins.hasOwnProperty(key)) {\n\t\t\t\t\t\tself.plugins.settings[key] = plugins[key];\n\t\t\t\t\t\tqueue.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile( name = queue.shift() ){\n\t\t\t\tself.require(name);\n\t\t\t}\n\t\t}\n\n\t\tloadPlugin(name:string) {\n\t\t\tvar self    = this;\n\t\t\tvar plugins = self.plugins;\n\t\t\tvar plugin  = Interface.plugins[name];\n\n\t\t\tif (!Interface.plugins.hasOwnProperty(name)) {\n\t\t\t\tthrow new Error('Unable to find \"' +  name + '\" plugin');\n\t\t\t}\n\n\t\t\tplugins.requested[name] = true;\n\t\t\tplugins.loaded[name] = plugin.fn.apply(self, [self.plugins.settings[name] || {}]);\n\t\t\tplugins.names.push(name);\n\t\t}\n\n\t\t/**\n\t\t * Initializes a plugin.\n\t\t *\n\t\t */\n\t\trequire(name:string) {\n\t\t\tvar self = this;\n\t\t\tvar plugins = self.plugins;\n\n\t\t\tif (!self.plugins.loaded.hasOwnProperty(name)) {\n\t\t\t\tif (plugins.requested[name]) {\n\t\t\t\t\tthrow new Error('Plugin has circular dependency (\"' + name + '\")');\n\t\t\t\t}\n\t\t\t\tself.loadPlugin(name);\n\t\t\t}\n\n\t\t\treturn plugins.loaded[name];\n\t\t}\n\n\t};\n\n}\n", "/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {string[]} chars\n * @return {string}\n */\nconst arrayToPattern = chars => {\n  chars = chars.filter(Boolean);\n\n  if (chars.length < 2) {\n    return chars[0] || '';\n  }\n\n  return maxValueLength(chars) == 1 ? '[' + chars.join('') + ']' : '(?:' + chars.join('|') + ')';\n};\n/**\n * @param {string[]} array\n * @return {string}\n */\n\nconst sequencePattern = array => {\n  if (!hasDuplicates(array)) {\n    return array.join('');\n  }\n\n  let pattern = '';\n  let prev_char_count = 0;\n\n  const prev_pattern = () => {\n    if (prev_char_count > 1) {\n      pattern += '{' + prev_char_count + '}';\n    }\n  };\n\n  array.forEach((char, i) => {\n    if (char === array[i - 1]) {\n      prev_char_count++;\n      return;\n    }\n\n    prev_pattern();\n    pattern += char;\n    prev_char_count = 1;\n  });\n  prev_pattern();\n  return pattern;\n};\n/**\n * Convert array of strings to a regular expression\n *\tex ['ab','a'] => (?:ab|a)\n * \tex ['a','b'] => [ab]\n * @param {Set<string>} chars\n * @return {string}\n */\n\nconst setToPattern = chars => {\n  let array = toArray(chars);\n  return arrayToPattern(array);\n};\n/**\n *\n * https://stackoverflow.com/questions/7376598/in-javascript-how-do-i-check-if-an-array-has-duplicate-values\n * @param {any[]} array\n */\n\nconst hasDuplicates = array => {\n  return new Set(array).size !== array.length;\n};\n/**\n * https://stackoverflow.com/questions/63006601/why-does-u-throw-an-invalid-escape-error\n * @param {string} str\n * @return {string}\n */\n\nconst escape_regex = str => {\n  return (str + '').replace(/([\\$\\(\\)\\*\\+\\.\\?\\[\\]\\^\\{\\|\\}\\\\])/gu, '\\\\$1');\n};\n/**\n * Return the max length of array values\n * @param {string[]} array\n *\n */\n\nconst maxValueLength = array => {\n  return array.reduce((longest, value) => Math.max(longest, unicodeLength(value)), 0);\n};\n/**\n * @param {string} str\n */\n\nconst unicodeLength = str => {\n  return toArray(str).length;\n};\n/**\n * @param {any} p\n * @return {any[]}\n */\n\nconst toArray = p => Array.from(p);\n\nexport { arrayToPattern, escape_regex, hasDuplicates, maxValueLength, sequencePattern, setToPattern, toArray, unicodeLength };\n//# sourceMappingURL=regex.js.map\n", "/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\n/**\n * Get all possible combinations of substrings that add up to the given string\n * https://stackoverflow.com/questions/30169587/find-all-the-combination-of-substrings-that-add-up-to-the-given-string\n * @param {string} input\n * @return {string[][]}\n */\nconst allSubstrings = input => {\n  if (input.length === 1) return [[input]];\n  /** @type {string[][]} */\n\n  let result = [];\n  const start = input.substring(1);\n  const suba = allSubstrings(start);\n  suba.forEach(function (subresult) {\n    let tmp = subresult.slice(0);\n    tmp[0] = input.charAt(0) + tmp[0];\n    result.push(tmp);\n    tmp = subresult.slice(0);\n    tmp.unshift(input.charAt(0));\n    result.push(tmp);\n  });\n  return result;\n};\n\nexport { allSubstrings };\n//# sourceMappingURL=strings.js.map\n", "/*! @orchidjs/unicode-variants | https://github.com/orchidjs/unicode-variants | Apache License (v2) */\nimport { toArray, setToPattern, escape_regex, arrayToPattern, sequencePattern } from './regex.js';\nexport { escape_regex } from './regex.js';\nimport { allSubstrings } from './strings.js';\n\n/**\n * @typedef {{[key:string]:string}} TUnicodeMap\n * @typedef {{[key:string]:Set<string>}} TUnicodeSets\n * @typedef {[[number,number]]} TCodePoints\n * @typedef {{folded:string,composed:string,code_point:number}} TCodePointObj\n * @typedef {{start:number,end:number,length:number,substr:string}} TSequencePart\n */\n/** @type {TCodePoints} */\n\nconst code_points = [[0, 65535]];\nconst accent_pat = '[\\u0300-\\u036F\\u{b7}\\u{2be}\\u{2bc}]';\n/** @type {TUnicodeMap} */\n\nlet unicode_map;\n/** @type {RegExp} */\n\nlet multi_char_reg;\nconst max_char_length = 3;\n/** @type {TUnicodeMap} */\n\nconst latin_convert = {};\n/** @type {TUnicodeMap} */\n\nconst latin_condensed = {\n  '/': '',\n  '0': '',\n  \"a\": \"\",\n  \"aa\": \"\",\n  \"ae\": \"\",\n  \"ao\": \"\",\n  \"au\": \"\",\n  \"av\": \"\",\n  \"ay\": \"\",\n  \"b\": \"\",\n  \"c\": \"\",\n  \"d\": \"\",\n  \"e\": \"\",\n  \"f\": \"\",\n  \"g\": \"\",\n  \"h\": \"\",\n  \"i\": \"\",\n  \"j\": \"\",\n  \"k\": \"\",\n  \"l\": \"\",\n  \"m\": \"\",\n  \"n\": \"\",\n  \"o\": \"\",\n  \"oe\": \"\",\n  \"oi\": \"\",\n  \"oo\": \"\",\n  \"ou\": \"\",\n  \"p\": \"\",\n  \"q\": \"\",\n  \"r\": \"\",\n  \"s\": \"\",\n  \"t\": \"\",\n  \"th\": \"\",\n  \"tz\": \"\",\n  \"u\": \"\",\n  \"v\": \"\",\n  \"vy\": \"\",\n  \"w\": \"\",\n  \"y\": \"\",\n  \"z\": \"\",\n  \"hv\": \"\"\n};\n\nfor (let latin in latin_condensed) {\n  let unicode = latin_condensed[latin] || '';\n\n  for (let i = 0; i < unicode.length; i++) {\n    let char = unicode.substring(i, i + 1);\n    latin_convert[char] = latin;\n  }\n}\n\nconst convert_pat = new RegExp(Object.keys(latin_convert).join('|') + '|' + accent_pat, 'gu');\n/**\n * Initialize the unicode_map from the give code point ranges\n *\n * @param {TCodePoints=} _code_points\n */\n\nconst initialize = _code_points => {\n  if (unicode_map !== undefined) return;\n  unicode_map = generateMap(_code_points || code_points);\n};\n/**\n * Helper method for normalize a string\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\n * @param {string} str\n * @param {string} form\n */\n\nconst normalize = (str, form = 'NFKD') => str.normalize(form);\n/**\n * Remove accents without reordering string\n * calling str.normalize('NFKD') on \\u{594}\\u{595}\\u{596} becomes \\u{596}\\u{594}\\u{595}\n * via https://github.com/krisk/Fuse/issues/133#issuecomment-318692703\n * @param {string} str\n * @return {string}\n */\n\nconst asciifold = str => {\n  return toArray(str).reduce(\n  /**\n   * @param {string} result\n   * @param {string} char\n   */\n  (result, char) => {\n    return result + _asciifold(char);\n  }, '');\n};\n/**\n * @param {string} str\n * @return {string}\n */\n\nconst _asciifold = str => {\n  str = normalize(str).toLowerCase().replace(convert_pat, (\n  /** @type {string} */\n  char) => {\n    return latin_convert[char] || '';\n  }); //return str;\n\n  return normalize(str, 'NFC');\n};\n/**\n * Generate a list of unicode variants from the list of code points\n * @param {TCodePoints} code_points\n * @yield {TCodePointObj}\n */\n\nfunction* generator(code_points) {\n  for (const [code_point_min, code_point_max] of code_points) {\n    for (let i = code_point_min; i <= code_point_max; i++) {\n      let composed = String.fromCharCode(i);\n      let folded = asciifold(composed);\n\n      if (folded == composed.toLowerCase()) {\n        continue;\n      } // skip when folded is a string longer than 3 characters long\n      // bc the resulting regex patterns will be long\n      // eg:\n      // folded     length 18 code point 65018\n      // folded   length 8 code point 65019\n\n\n      if (folded.length > max_char_length) {\n        continue;\n      }\n\n      if (folded.length == 0) {\n        continue;\n      }\n\n      yield {\n        folded: folded,\n        composed: composed,\n        code_point: i\n      };\n    }\n  }\n}\n/**\n * Generate a unicode map from the list of code points\n * @param {TCodePoints} code_points\n * @return {TUnicodeSets}\n */\n\nconst generateSets = code_points => {\n  /** @type {{[key:string]:Set<string>}} */\n  const unicode_sets = {};\n  /**\n   * @param {string} folded\n   * @param {string} to_add\n   */\n\n  const addMatching = (folded, to_add) => {\n    /** @type {Set<string>} */\n    const folded_set = unicode_sets[folded] || new Set();\n    const patt = new RegExp('^' + setToPattern(folded_set) + '$', 'iu');\n\n    if (to_add.match(patt)) {\n      return;\n    }\n\n    folded_set.add(escape_regex(to_add));\n    unicode_sets[folded] = folded_set;\n  };\n\n  for (let value of generator(code_points)) {\n    addMatching(value.folded, value.folded);\n    addMatching(value.folded, value.composed);\n  }\n\n  return unicode_sets;\n};\n/**\n * Generate a unicode map from the list of code points\n * ae => (?:(?:ae|||)|(?:A||...)(?:E||...))\n *\n * @param {TCodePoints} code_points\n * @return {TUnicodeMap}\n */\n\nconst generateMap = code_points => {\n  /** @type {TUnicodeSets} */\n  const unicode_sets = generateSets(code_points);\n  /** @type {TUnicodeMap} */\n\n  const unicode_map = {};\n  /** @type {string[]} */\n\n  let multi_char = [];\n\n  for (let folded in unicode_sets) {\n    let set = unicode_sets[folded];\n\n    if (set) {\n      unicode_map[folded] = setToPattern(set);\n    }\n\n    if (folded.length > 1) {\n      multi_char.push(escape_regex(folded));\n    }\n  }\n\n  multi_char.sort((a, b) => b.length - a.length);\n  const multi_char_patt = arrayToPattern(multi_char);\n  multi_char_reg = new RegExp('^' + multi_char_patt, 'u');\n  return unicode_map;\n};\n/**\n * Map each element of an array from it's folded value to all possible unicode matches\n * @param {string[]} strings\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst mapSequence = (strings, min_replacement = 1) => {\n  let chars_replaced = 0;\n  strings = strings.map(str => {\n    if (unicode_map[str]) {\n      chars_replaced += str.length;\n    }\n\n    return unicode_map[str] || str;\n  });\n\n  if (chars_replaced >= min_replacement) {\n    return sequencePattern(strings);\n  }\n\n  return '';\n};\n/**\n * Convert a short string and split it into all possible patterns\n * Keep a pattern only if min_replacement is met\n *\n * 'abc'\n * \t\t=> [['abc'],['ab','c'],['a','bc'],['a','b','c']]\n *\t\t=> ['abc-pattern','ab-c-pattern'...]\n *\n *\n * @param {string} str\n * @param {number} min_replacement\n * @return {string}\n */\n\nconst substringsToPattern = (str, min_replacement = 1) => {\n  min_replacement = Math.max(min_replacement, str.length - 1);\n  return arrayToPattern(allSubstrings(str).map(sub_pat => {\n    return mapSequence(sub_pat, min_replacement);\n  }));\n};\n/**\n * Convert an array of sequences into a pattern\n * [{start:0,end:3,length:3,substr:'iii'}...] => (?:iii...)\n *\n * @param {Sequence[]} sequences\n * @param {boolean} all\n */\n\nconst sequencesToPattern = (sequences, all = true) => {\n  let min_replacement = sequences.length > 1 ? 1 : 0;\n  return arrayToPattern(sequences.map(sequence => {\n    let seq = [];\n    const len = all ? sequence.length() : sequence.length() - 1;\n\n    for (let j = 0; j < len; j++) {\n      seq.push(substringsToPattern(sequence.substrs[j] || '', min_replacement));\n    }\n\n    return sequencePattern(seq);\n  }));\n};\n/**\n * Return true if the sequence is already in the sequences\n * @param {Sequence} needle_seq\n * @param {Sequence[]} sequences\n */\n\n\nconst inSequences = (needle_seq, sequences) => {\n  for (const seq of sequences) {\n    if (seq.start != needle_seq.start || seq.end != needle_seq.end) {\n      continue;\n    }\n\n    if (seq.substrs.join('') !== needle_seq.substrs.join('')) {\n      continue;\n    }\n\n    let needle_parts = needle_seq.parts;\n    /**\n     * @param {TSequencePart} part\n     */\n\n    const filter = part => {\n      for (const needle_part of needle_parts) {\n        if (needle_part.start === part.start && needle_part.substr === part.substr) {\n          return false;\n        }\n\n        if (part.length == 1 || needle_part.length == 1) {\n          continue;\n        } // check for overlapping parts\n        // a = ['::=','==']\n        // b = ['::','===']\n        // a = ['r','sm']\n        // b = ['rs','m']\n\n\n        if (part.start < needle_part.start && part.end > needle_part.start) {\n          return true;\n        }\n\n        if (needle_part.start < part.start && needle_part.end > part.start) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    let filtered = seq.parts.filter(filter);\n\n    if (filtered.length > 0) {\n      continue;\n    }\n\n    return true;\n  }\n\n  return false;\n};\n\nclass Sequence {\n  constructor() {\n    /** @type {TSequencePart[]} */\n    this.parts = [];\n    /** @type {string[]} */\n\n    this.substrs = [];\n    this.start = 0;\n    this.end = 0;\n  }\n  /**\n   * @param {TSequencePart|undefined} part\n   */\n\n\n  add(part) {\n    if (part) {\n      this.parts.push(part);\n      this.substrs.push(part.substr);\n      this.start = Math.min(part.start, this.start);\n      this.end = Math.max(part.end, this.end);\n    }\n  }\n\n  last() {\n    return this.parts[this.parts.length - 1];\n  }\n\n  length() {\n    return this.parts.length;\n  }\n  /**\n   * @param {number} position\n   * @param {TSequencePart} last_piece\n   */\n\n\n  clone(position, last_piece) {\n    let clone = new Sequence();\n    let parts = JSON.parse(JSON.stringify(this.parts));\n    let last_part = parts.pop();\n\n    for (const part of parts) {\n      clone.add(part);\n    }\n\n    let last_substr = last_piece.substr.substring(0, position - last_part.start);\n    let clone_last_len = last_substr.length;\n    clone.add({\n      start: last_part.start,\n      end: last_part.start + clone_last_len,\n      length: clone_last_len,\n      substr: last_substr\n    });\n    return clone;\n  }\n\n}\n/**\n * Expand a regular expression pattern to include unicode variants\n * \teg /a/ becomes /aA/\n *\n * Issue:\n *   [ ' = \\\\u{fe8a}', ' = \\\\u{fe8b}' ]\n *\tbecomes:\t [ ' = \\\\u{64a}', ' = \\\\u{654}', ' = \\\\u{64a}', ' = \\\\u{654}' ]\n *\n *\t = IIJ = J\n *\n * \t1/2/4\n *\n * @param {string} str\n * @return {string|undefined}\n */\n\n\nconst getPattern = str => {\n  initialize();\n  str = asciifold(str);\n  let pattern = '';\n  let sequences = [new Sequence()];\n\n  for (let i = 0; i < str.length; i++) {\n    let substr = str.substring(i);\n    let match = substr.match(multi_char_reg);\n    const char = str.substring(i, i + 1);\n    const match_str = match ? match[0] : null; // loop through sequences\n    // add either the char or multi_match\n\n    let overlapping = [];\n    let added_types = new Set();\n\n    for (const sequence of sequences) {\n      const last_piece = sequence.last();\n\n      if (!last_piece || last_piece.length == 1 || last_piece.end <= i) {\n        // if we have a multi match\n        if (match_str) {\n          const len = match_str.length;\n          sequence.add({\n            start: i,\n            end: i + len,\n            length: len,\n            substr: match_str\n          });\n          added_types.add('1');\n        } else {\n          sequence.add({\n            start: i,\n            end: i + 1,\n            length: 1,\n            substr: char\n          });\n          added_types.add('2');\n        }\n      } else if (match_str) {\n        let clone = sequence.clone(i, last_piece);\n        const len = match_str.length;\n        clone.add({\n          start: i,\n          end: i + len,\n          length: len,\n          substr: match_str\n        });\n        overlapping.push(clone);\n      } else {\n        // don't add char\n        // adding would create invalid patterns: 234 => [2,34,4]\n        added_types.add('3');\n      }\n    } // if we have overlapping\n\n\n    if (overlapping.length > 0) {\n      // ['ii','iii'] before ['i','i','iii']\n      overlapping = overlapping.sort((a, b) => {\n        return a.length() - b.length();\n      });\n\n      for (let clone of overlapping) {\n        // don't add if we already have an equivalent sequence\n        if (inSequences(clone, sequences)) {\n          continue;\n        }\n\n        sequences.push(clone);\n      }\n\n      continue;\n    } // if we haven't done anything unique\n    // clean up the patterns\n    // helps keep patterns smaller\n    // if str = 'raarss', pattern will be 446 instead of 655\n\n\n    if (i > 0 && added_types.size == 1 && !added_types.has('3')) {\n      pattern += sequencesToPattern(sequences, false);\n      let new_seq = new Sequence();\n      const old_seq = sequences[0];\n\n      if (old_seq) {\n        new_seq.add(old_seq.last());\n      }\n\n      sequences = [new_seq];\n    }\n  }\n\n  pattern += sequencesToPattern(sequences, true);\n  return pattern;\n};\n\nexport { _asciifold, asciifold, code_points, generateMap, generateSets, generator, getPattern, initialize, mapSequence, normalize, substringsToPattern, unicode_map };\n//# sourceMappingURL=index.js.map\n", "/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\nimport { asciifold } from '@orchidjs/unicode-variants';\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nconst getAttr = (obj, name) => {\n  if (!obj) return;\n  return obj[name];\n};\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\n\nconst getAttrNesting = (obj, name) => {\n  if (!obj) return;\n  var part,\n      names = name.split(\".\");\n\n  while ((part = names.shift()) && (obj = obj[part]));\n\n  return obj;\n};\n/**\n * Calculates how close of a match the\n * given value is against a search token.\n *\n */\n\nconst scoreValue = (value, token, weight) => {\n  var score, pos;\n  if (!value) return 0;\n  value = value + '';\n  if (token.regex == null) return 0;\n  pos = value.search(token.regex);\n  if (pos === -1) return 0;\n  score = token.string.length / value.length;\n  if (pos === 0) score += 0.5;\n  return score * weight;\n};\n/**\n * Cast object property to an array if it exists and has a value\n *\n */\n\nconst propToArray = (obj, key) => {\n  var value = obj[key];\n  if (typeof value == 'function') return value;\n\n  if (value && !Array.isArray(value)) {\n    obj[key] = [value];\n  }\n};\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\n\nconst iterate = (object, callback) => {\n  if (Array.isArray(object)) {\n    object.forEach(callback);\n  } else {\n    for (var key in object) {\n      if (object.hasOwnProperty(key)) {\n        callback(object[key], key);\n      }\n    }\n  }\n};\nconst cmp = (a, b) => {\n  if (typeof a === 'number' && typeof b === 'number') {\n    return a > b ? 1 : a < b ? -1 : 0;\n  }\n\n  a = asciifold(a + '').toLowerCase();\n  b = asciifold(b + '').toLowerCase();\n  if (a > b) return 1;\n  if (b > a) return -1;\n  return 0;\n};\n\nexport { cmp, getAttr, getAttrNesting, iterate, propToArray, scoreValue };\n//# sourceMappingURL=utils.js.map\n", "/*! sifter.js | https://github.com/orchidjs/sifter.js | Apache License (v2) */\nimport { iterate, cmp, propToArray, getAttrNesting, getAttr, scoreValue } from './utils.js';\nexport { cmp, getAttr, getAttrNesting, iterate, propToArray, scoreValue } from './utils.js';\nimport { escape_regex, getPattern } from '@orchidjs/unicode-variants';\nexport { getPattern } from '@orchidjs/unicode-variants';\n\n/**\n * sifter.js\n * Copyright (c) 20132020 Brian Reavis & contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n * @author Brian Reavis <brian@thirdroute.com>\n */\n\nclass Sifter {\n  // []|{};\n\n  /**\n   * Textually searches arrays and hashes of objects\n   * by property (or multiple properties). Designed\n   * specifically for autocomplete.\n   *\n   */\n  constructor(items, settings) {\n    this.items = void 0;\n    this.settings = void 0;\n    this.items = items;\n    this.settings = settings || {\n      diacritics: true\n    };\n  }\n\n  /**\n   * Splits a search string into an array of individual\n   * regexps to be used to match results.\n   *\n   */\n  tokenize(query, respect_word_boundaries, weights) {\n    if (!query || !query.length) return [];\n    const tokens = [];\n    const words = query.split(/\\s+/);\n    var field_regex;\n\n    if (weights) {\n      field_regex = new RegExp('^(' + Object.keys(weights).map(escape_regex).join('|') + ')\\:(.*)$');\n    }\n\n    words.forEach(word => {\n      let field_match;\n      let field = null;\n      let regex = null; // look for \"field:query\" tokens\n\n      if (field_regex && (field_match = word.match(field_regex))) {\n        field = field_match[1];\n        word = field_match[2];\n      }\n\n      if (word.length > 0) {\n        if (this.settings.diacritics) {\n          regex = getPattern(word) || null;\n        } else {\n          regex = escape_regex(word);\n        }\n\n        if (regex && respect_word_boundaries) regex = \"\\\\b\" + regex;\n      }\n\n      tokens.push({\n        string: word,\n        regex: regex ? new RegExp(regex, 'iu') : null,\n        field: field\n      });\n    });\n    return tokens;\n  }\n\n  /**\n   * Returns a function to be used to score individual results.\n   *\n   * Good matches will have a higher score than poor matches.\n   * If an item is not a match, 0 will be returned by the function.\n   *\n   * @returns {T.ScoreFn}\n   */\n  getScoreFunction(query, options) {\n    var search = this.prepareSearch(query, options);\n    return this._getScoreFunction(search);\n  }\n  /**\n   * @returns {T.ScoreFn}\n   *\n   */\n\n\n  _getScoreFunction(search) {\n    const tokens = search.tokens,\n          token_count = tokens.length;\n\n    if (!token_count) {\n      return function () {\n        return 0;\n      };\n    }\n\n    const fields = search.options.fields,\n          weights = search.weights,\n          field_count = fields.length,\n          getAttrFn = search.getAttrFn;\n\n    if (!field_count) {\n      return function () {\n        return 1;\n      };\n    }\n    /**\n     * Calculates the score of an object\n     * against the search query.\n     *\n     */\n\n\n    const scoreObject = function () {\n      if (field_count === 1) {\n        return function (token, data) {\n          const field = fields[0].field;\n          return scoreValue(getAttrFn(data, field), token, weights[field] || 1);\n        };\n      }\n\n      return function (token, data) {\n        var sum = 0; // is the token specific to a field?\n\n        if (token.field) {\n          const value = getAttrFn(data, token.field);\n\n          if (!token.regex && value) {\n            sum += 1 / field_count;\n          } else {\n            sum += scoreValue(value, token, 1);\n          }\n        } else {\n          iterate(weights, (weight, field) => {\n            sum += scoreValue(getAttrFn(data, field), token, weight);\n          });\n        }\n\n        return sum / field_count;\n      };\n    }();\n\n    if (token_count === 1) {\n      return function (data) {\n        return scoreObject(tokens[0], data);\n      };\n    }\n\n    if (search.options.conjunction === 'and') {\n      return function (data) {\n        var score,\n            sum = 0;\n\n        for (let token of tokens) {\n          score = scoreObject(token, data);\n          if (score <= 0) return 0;\n          sum += score;\n        }\n\n        return sum / token_count;\n      };\n    } else {\n      return function (data) {\n        var sum = 0;\n        iterate(tokens, token => {\n          sum += scoreObject(token, data);\n        });\n        return sum / token_count;\n      };\n    }\n  }\n\n  /**\n   * Returns a function that can be used to compare two\n   * results, for sorting purposes. If no sorting should\n   * be performed, `null` will be returned.\n   *\n   * @return function(a,b)\n   */\n  getSortFunction(query, options) {\n    var search = this.prepareSearch(query, options);\n    return this._getSortFunction(search);\n  }\n\n  _getSortFunction(search) {\n    var implicit_score,\n        sort_flds = [];\n    const self = this,\n          options = search.options,\n          sort = !search.query && options.sort_empty ? options.sort_empty : options.sort;\n\n    if (typeof sort == 'function') {\n      return sort.bind(this);\n    }\n    /**\n     * Fetches the specified sort field value\n     * from a search result item.\n     *\n     */\n\n\n    const get_field = function get_field(name, result) {\n      if (name === '$score') return result.score;\n      return search.getAttrFn(self.items[result.id], name);\n    }; // parse options\n\n\n    if (sort) {\n      for (let s of sort) {\n        if (search.query || s.field !== '$score') {\n          sort_flds.push(s);\n        }\n      }\n    } // the \"$score\" field is implied to be the primary\n    // sort field, unless it's manually specified\n\n\n    if (search.query) {\n      implicit_score = true;\n\n      for (let fld of sort_flds) {\n        if (fld.field === '$score') {\n          implicit_score = false;\n          break;\n        }\n      }\n\n      if (implicit_score) {\n        sort_flds.unshift({\n          field: '$score',\n          direction: 'desc'\n        });\n      } // without a search.query, all items will have the same score\n\n    } else {\n      sort_flds = sort_flds.filter(fld => fld.field !== '$score');\n    } // build function\n\n\n    const sort_flds_count = sort_flds.length;\n\n    if (!sort_flds_count) {\n      return null;\n    }\n\n    return function (a, b) {\n      var result, field;\n\n      for (let sort_fld of sort_flds) {\n        field = sort_fld.field;\n        let multiplier = sort_fld.direction === 'desc' ? -1 : 1;\n        result = multiplier * cmp(get_field(field, a), get_field(field, b));\n        if (result) return result;\n      }\n\n      return 0;\n    };\n  }\n\n  /**\n   * Parses a search query and returns an object\n   * with tokens and fields ready to be populated\n   * with results.\n   *\n   */\n  prepareSearch(query, optsUser) {\n    const weights = {};\n    var options = Object.assign({}, optsUser);\n    propToArray(options, 'sort');\n    propToArray(options, 'sort_empty'); // convert fields to new format\n\n    if (options.fields) {\n      propToArray(options, 'fields');\n      const fields = [];\n      options.fields.forEach(field => {\n        if (typeof field == 'string') {\n          field = {\n            field: field,\n            weight: 1\n          };\n        }\n\n        fields.push(field);\n        weights[field.field] = 'weight' in field ? field.weight : 1;\n      });\n      options.fields = fields;\n    }\n\n    return {\n      options: options,\n      query: query.toLowerCase().trim(),\n      tokens: this.tokenize(query, options.respect_word_boundaries, weights),\n      total: 0,\n      items: [],\n      weights: weights,\n      getAttrFn: options.nesting ? getAttrNesting : getAttr\n    };\n  }\n\n  /**\n   * Searches through all items and returns a sorted array of matches.\n   *\n   */\n  search(query, options) {\n    var self = this,\n        score,\n        search;\n    search = this.prepareSearch(query, options);\n    options = search.options;\n    query = search.query; // generate result scoring function\n\n    const fn_score = options.score || self._getScoreFunction(search); // perform search and sort\n\n\n    if (query.length) {\n      iterate(self.items, (item, id) => {\n        score = fn_score(item);\n\n        if (options.filter === false || score > 0) {\n          search.items.push({\n            'score': score,\n            'id': id\n          });\n        }\n      });\n    } else {\n      iterate(self.items, (_, id) => {\n        search.items.push({\n          'score': 1,\n          'id': id\n        });\n      });\n    }\n\n    const fn_sort = self._getSortFunction(search);\n\n    if (fn_sort) search.items.sort(fn_sort); // apply limits\n\n    search.total = search.items.length;\n\n    if (typeof options.limit === 'number') {\n      search.items = search.items.slice(0, options.limit);\n    }\n\n    return search;\n  }\n\n}\n\nexport { Sifter };\n//# sourceMappingURL=sifter.js.map\n", "\nimport { asciifold } from '@orchidjs/unicode-variants';\nimport * as T from './types';\n\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nexport const getAttr = (obj:{[key:string]:any}, name:string ) => {\n    if (!obj ) return;\n    return obj[name];\n};\n\n/**\n * A property getter resolving dot-notation\n * @param  {Object}  obj     The root object to fetch property on\n * @param  {String}  name    The optionally dotted property name to fetch\n * @return {Object}          The resolved property value\n */\nexport const getAttrNesting = (obj:{[key:string]:any}, name:string ) => {\n    if (!obj ) return;\n    var part, names = name.split(\".\");\n\twhile( (part = names.shift()) && (obj = obj[part]));\n    return obj;\n};\n\n/**\n * Calculates how close of a match the\n * given value is against a search token.\n *\n */\nexport const scoreValue = (value:string, token:T.Token, weight:number ):number => {\n\tvar score, pos;\n\n\tif (!value) return 0;\n\n\tvalue = value + '';\n\tif( token.regex == null ) return 0;\n\tpos = value.search(token.regex);\n\tif (pos === -1) return 0;\n\n\tscore = token.string.length / value.length;\n\tif (pos === 0) score += 0.5;\n\n\treturn score * weight;\n};\n\n\n/**\n * Cast object property to an array if it exists and has a value\n *\n */\nexport const propToArray = (obj:{[key:string]:any}, key:string) => {\n\tvar value = obj[key];\n\n\tif( typeof value == 'function' ) return value;\n\n\tif( value && !Array.isArray(value) ){\n\t\tobj[key] = [value];\n\t}\n}\n\n\n/**\n * Iterates over arrays and hashes.\n *\n * ```\n * iterate(this.items, function(item, id) {\n *    // invoked for each item\n * });\n * ```\n *\n */\nexport const iterate = (object:[]|{[key:string]:any}, callback:(value:any,key:any)=>any) => {\n\n\tif ( Array.isArray(object)) {\n\t\tobject.forEach(callback);\n\n\t}else{\n\n\t\tfor (var key in object) {\n\t\t\tif (object.hasOwnProperty(key)) {\n\t\t\t\tcallback(object[key], key);\n\t\t\t}\n\t\t}\n\t}\n};\n\n\n\nexport const cmp = (a:number|string, b:number|string) => {\n\tif (typeof a === 'number' && typeof b === 'number') {\n\t\treturn a > b ? 1 : (a < b ? -1 : 0);\n\t}\n\ta = asciifold(a + '').toLowerCase();\n\tb = asciifold(b + '').toLowerCase();\n\tif (a > b) return 1;\n\tif (b > a) return -1;\n\treturn 0;\n};\n", "\nimport { iterate } from '@orchidjs/sifter/lib/utils';\n\n/**\n * Return a dom element from either a dom query string, jQuery object, a dom element or html string\n * https://stackoverflow.com/questions/494143/creating-a-new-dom-element-from-an-html-string-using-built-in-dom-methods-or-pro/35385518#35385518\n *\n * param query should be {}\n */\nexport const getDom = ( query:any ):HTMLElement => {\n\n\tif( query.jquery ){\n\t\treturn query[0];\n\t}\n\n\tif( query instanceof HTMLElement ){\n\t\treturn query;\n\t}\n\n\tif( isHtmlString(query) ){\n\t\tvar tpl = document.createElement('template');\n\t\ttpl.innerHTML = query.trim(); // Never return a text node of whitespace as the result\n\t\treturn tpl.content.firstChild as HTMLElement;\n\t}\n\n\treturn document.querySelector(query);\n};\n\nexport const isHtmlString = (arg:any): boolean => {\n\tif( typeof arg === 'string' && arg.indexOf('<') > -1 ){\n\t\treturn true;\n\t}\n\treturn false;\n}\n\nexport const escapeQuery = (query:string):string => {\n\treturn query.replace(/['\"\\\\]/g, '\\\\$&');\n}\n\n/**\n * Dispatch an event\n *\n */\nexport const triggerEvent = ( dom_el:HTMLElement, event_name:string ):void => {\n\tvar event = document.createEvent('HTMLEvents');\n\tevent.initEvent(event_name, true, false);\n\tdom_el.dispatchEvent(event)\n};\n\n/**\n * Apply CSS rules to a dom element\n *\n */\nexport const applyCSS = ( dom_el:HTMLElement, css:{ [key: string]: string|number }):void => {\n\tObject.assign(dom_el.style, css);\n}\n\n\n/**\n * Add css classes\n *\n */\nexport const addClasses = ( elmts:HTMLElement|HTMLElement[], ...classes:string[]|string[][] ) => {\n\n\tvar norm_classes \t= classesArray(classes);\n\telmts\t\t\t\t= castAsArray(elmts);\n\n\telmts.map( el => {\n\t\tnorm_classes.map( cls => {\n\t\t\tel.classList.add( cls );\n\t\t});\n\t});\n}\n\n/**\n * Remove css classes\n *\n */\n export const removeClasses = ( elmts:HTMLElement|HTMLElement[], ...classes:string[]|string[][] ) => {\n\n \tvar norm_classes \t= classesArray(classes);\n\telmts\t\t\t\t= castAsArray(elmts);\n\n\telmts.map( el => {\n\t\tnorm_classes.map(cls => {\n\t \t\tel.classList.remove( cls );\n\t\t});\n \t});\n }\n\n\n/**\n * Return arguments\n *\n */\nexport const classesArray = (args:string[]|string[][]):string[] => {\n\tvar classes:string[] = [];\n\titerate( args, (_classes) =>{\n\t\tif( typeof _classes === 'string' ){\n\t\t\t_classes = _classes.trim().split(/[\\11\\12\\14\\15\\40]/);\n\t\t}\n\t\tif( Array.isArray(_classes) ){\n\t\t\tclasses = classes.concat(_classes);\n\t\t}\n\t});\n\n\treturn classes.filter(Boolean);\n}\n\n\n/**\n * Create an array from arg if it's not already an array\n *\n */\nexport const castAsArray = (arg:any):Array<any> => {\n\tif( !Array.isArray(arg) ){\n \t\targ = [arg];\n \t}\n\treturn arg;\n}\n\n\n/**\n * Get the closest node to the evt.target matching the selector\n * Stops at wrapper\n *\n */\nexport const parentMatch = ( target:null|HTMLElement, selector:string, wrapper?:HTMLElement ):HTMLElement|void => {\n\n\tif( wrapper && !wrapper.contains(target) ){\n\t\treturn;\n\t}\n\n\twhile( target && target.matches ){\n\n\t\tif( target.matches(selector) ){\n\t\t\treturn target;\n\t\t}\n\n\t\ttarget = target.parentNode as HTMLElement;\n\t}\n}\n\n\n/**\n * Get the first or last item from an array\n *\n * > 0 - right (last)\n * <= 0 - left (first)\n *\n */\nexport const getTail = ( list:Array<any>|NodeList, direction:number=0 ):any => {\n\n\tif( direction > 0 ){\n\t\treturn list[list.length-1];\n\t}\n\n\treturn list[0];\n}\n\n/**\n * Return true if an object is empty\n *\n */\nexport const isEmptyObject = (obj:object):boolean => {\n\treturn (Object.keys(obj).length === 0);\n}\n\n\n/**\n * Get the index of an element amongst sibling nodes of the same type\n *\n */\nexport const nodeIndex = ( el:null|Element, amongst?:string ):number => {\n\tif (!el) return -1;\n\n\tamongst = amongst || el.nodeName;\n\n\tvar i = 0;\n\twhile( el = el.previousElementSibling ){\n\n\t\tif( el.matches(amongst) ){\n\t\t\ti++;\n\t\t}\n\t}\n\treturn i;\n}\n\n\n/**\n * Set attributes of an element\n *\n */\nexport const setAttr = (el:Element,attrs:{ [key: string]: null|string|number }) => {\n\titerate( attrs,(val,attr) => {\n\t\tif( val == null ){\n\t\t\tel.removeAttribute(attr as string);\n\t\t}else{\n\t\t\tel.setAttribute(attr as string, ''+val);\n\t\t}\n\t});\n}\n\n\n/**\n * Replace a node\n */\nexport const replaceNode = ( existing:Node, replacement:Node ) => {\n\tif( existing.parentNode ) existing.parentNode.replaceChild(replacement, existing);\n}\n", "/**\n * highlight v3 | MIT license | Johann Burkard <jb@eaio.com>\n * Highlights arbitrary terms in a node.\n *\n * - Modified by Marshal <beatgates@gmail.com> 2011-6-24 (added regex)\n * - Modified by Brian Reavis <brian@thirdroute.com> 2012-8-27 (cleanup)\n */\n\nimport {replaceNode} from '../vanilla';\n\n\nexport const highlight = (element:HTMLElement, regex:string|RegExp) => {\n\n\tif( regex === null ) return;\n\n\t// convet string to regex\n\tif( typeof regex === 'string' ){\n\n\t\tif( !regex.length ) return;\n\t\tregex = new RegExp(regex, 'i');\n\t}\n\n\n\t// Wrap matching part of text node with highlighting <span>, e.g.\n\t// Soccer  ->  <span class=\"highlight\">Soc</span>cer  for regex = /soc/i\n\tconst highlightText = ( node:Text ):number => {\n\n\t\tvar match = node.data.match(regex);\n\t\tif( match && node.data.length > 0 ){\n\t\t\tvar spannode\t\t= document.createElement('span');\n\t\t\tspannode.className\t= 'highlight';\n\t\t\tvar middlebit\t\t= node.splitText(match.index as number);\n\n\t\t\tmiddlebit.splitText(match[0]!.length);\n\t\t\tvar middleclone\t\t= middlebit.cloneNode(true);\n\n\t\t\tspannode.appendChild(middleclone);\n\t\t\treplaceNode(middlebit, spannode);\n\t\t\treturn 1;\n\t\t}\n\n\t\treturn 0;\n\t};\n\n\t// Recurse element node, looking for child text nodes to highlight, unless element\n\t// is childless, <script>, <style>, or already highlighted: <span class=\"hightlight\">\n\tconst highlightChildren = ( node:Element ):void => {\n\t\tif( node.nodeType === 1 && node.childNodes && !/(script|style)/i.test(node.tagName) && ( node.className !== 'highlight' || node.tagName !== 'SPAN' ) ){\n\t\t\tArray.from(node.childNodes).forEach(element => {\n\t\t\t\thighlightRecursive(element);\n\t\t\t});\n\t\t}\n\t};\n\n\n\tconst highlightRecursive = ( node:Node|Element ):number => {\n\n\t\tif( node.nodeType === 3 ){\n\t\t\treturn highlightText(node as Text);\n\t\t}\n\n\t\thighlightChildren(node as Element);\n\n\t\treturn 0;\n\t};\n\n\thighlightRecursive( element );\n};\n\n/**\n * removeHighlight fn copied from highlight v5 and\n * edited to remove with(), pass js strict mode, and use without jquery\n */\nexport const removeHighlight = (el:HTMLElement) => {\n\tvar elements = el.querySelectorAll(\"span.highlight\");\n\tArray.prototype.forEach.call(elements, function(el:HTMLElement){\n\t\tvar parent = el.parentNode as Node;\n\t\tparent.replaceChild(el.firstChild as Node, el);\n\t\tparent.normalize();\n\t});\n};\n", "export const KEY_A\t\t\t\t= 65;\nexport const KEY_RETURN\t\t\t= 13;\nexport const KEY_ESC\t\t\t= 27;\nexport const KEY_LEFT\t\t\t= 37;\nexport const KEY_UP\t\t\t\t= 38;\nexport const KEY_RIGHT\t\t\t= 39;\nexport const KEY_DOWN\t\t\t= 40;\nexport const KEY_BACKSPACE\t\t= 8;\nexport const KEY_DELETE\t\t\t= 46;\nexport const KEY_TAB\t\t\t= 9;\n\nexport const IS_MAC      \t\t= typeof navigator === 'undefined' ? false : /Mac/.test(navigator.userAgent);\nexport const KEY_SHORTCUT\t\t= IS_MAC ? 'metaKey' : 'ctrlKey'; // ctrl key or apple key for ma\n", "\nexport default {\n\toptions: [],\n\toptgroups: [],\n\n\tplugins: [],\n\tdelimiter: ',',\n\tsplitOn: null, // regexp or string for splitting up values from a paste command\n\tpersist: true,\n\tdiacritics: true,\n\tcreate: null,\n\tcreateOnBlur: false,\n\tcreateFilter: null,\n\thighlight: true,\n\topenOnFocus: true,\n\tshouldOpen: null,\n\tmaxOptions: 50,\n\tmaxItems: null,\n\thideSelected: null,\n\tduplicates: false,\n\taddPrecedence: false,\n\tselectOnTab: false,\n\tpreload: null,\n\tallowEmptyOption: false,\n\t//closeAfterSelect: false,\n\trefreshThrottle: 300,\n\n\n\tloadThrottle: 300,\n\tloadingClass: 'loading',\n\n\tdataAttr: null, //'data-data',\n\toptgroupField: 'optgroup',\n\tvalueField: 'value',\n\tlabelField: 'text',\n\tdisabledField: 'disabled',\n\toptgroupLabelField: 'label',\n\toptgroupValueField: 'value',\n\tlockOptgroupOrder: false,\n\n\tsortField: '$order',\n\tsearchField: ['text'],\n\tsearchConjunction: 'and',\n\n\tmode: null,\n\twrapperClass: 'ts-wrapper',\n\tcontrolClass: 'ts-control',\n\tdropdownClass: 'ts-dropdown',\n\tdropdownContentClass: 'ts-dropdown-content',\n\titemClass: 'item',\n\toptionClass: 'option',\n\n\tdropdownParent: null,\n\tcontrolInput: '<input type=\"text\" autocomplete=\"off\" size=\"1\" />',\n\n\tcopyClassesToDropdown: false,\n\n\tplaceholder: null,\n\thidePlaceholder: null,\n\n\tshouldLoad: function(query:string):boolean{\n\t\treturn query.length > 0;\n\t},\n\n\t/*\n\tload                 : null, // function(query, callback) { ... }\n\tscore                : null, // function(search) { ... }\n\tonInitialize         : null, // function() { ... }\n\tonChange             : null, // function(value) { ... }\n\tonItemAdd            : null, // function(value, $item) { ... }\n\tonItemRemove         : null, // function(value) { ... }\n\tonClear              : null, // function() { ... }\n\tonOptionAdd          : null, // function(value, data) { ... }\n\tonOptionRemove       : null, // function(value) { ... }\n\tonOptionClear        : null, // function() { ... }\n\tonOptionGroupAdd     : null, // function(id, data) { ... }\n\tonOptionGroupRemove  : null, // function(id) { ... }\n\tonOptionGroupClear   : null, // function() { ... }\n\tonDropdownOpen       : null, // function(dropdown) { ... }\n\tonDropdownClose      : null, // function(dropdown) { ... }\n\tonType               : null, // function(str) { ... }\n\tonDelete             : null, // function(values) { ... }\n\t*/\n\n\trender: {\n\t\t/*\n\t\titem: null,\n\t\toptgroup: null,\n\t\toptgroup_header: null,\n\t\toption: null,\n\t\toption_create: null\n\t\t*/\n\t}\n};\n", "\nimport TomSelect from './tom-select';\nimport { TomLoadCallback } from './types/index';\n\n\n/**\n * Converts a scalar to its best string representation\n * for hash keys and HTML attribute values.\n *\n * Transformations:\n *   'str'     -> 'str'\n *   null      -> ''\n *   undefined -> ''\n *   true      -> '1'\n *   false     -> '0'\n *   0         -> '0'\n *   1         -> '1'\n *\n */\nexport const hash_key = (value:undefined|null|boolean|string|number):string|null => {\n\tif (typeof value === 'undefined' || value === null) return null;\n\treturn get_hash(value);\n};\n\nexport const get_hash = (value:boolean|string|number):string => {\n\tif (typeof value === 'boolean') return value ? '1' : '0';\n\treturn value + '';\n};\n\n/**\n * Escapes a string for use within HTML.\n *\n */\nexport const escape_html = (str:string):string => {\n\treturn (str + '')\n\t\t.replace(/&/g, '&amp;')\n\t\t.replace(/</g, '&lt;')\n\t\t.replace(/>/g, '&gt;')\n\t\t.replace(/\"/g, '&quot;');\n};\n\n\n/**\n * use setTimeout if timeout > 0 \n */\nexport const timeout = (fn:()=>void,timeout:number) => {\n\tif( timeout > 0 ){\n\t\treturn setTimeout(fn,timeout);\n\t}\n\n\tfn.call(null);\n\treturn null;\n}\n\n/**\n * Debounce the user provided load function\n *\n */\nexport const loadDebounce = (fn:(value:string,callback:TomLoadCallback) => void,delay:number) => {\n\tvar timeout: null|ReturnType<typeof setTimeout>;\n\treturn function(this:TomSelect, value:string,callback:TomLoadCallback) {\n\t\tvar self = this;\n\n\t\tif( timeout ){\n\t\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\t\tclearTimeout(timeout);\n\t\t}\n\t\ttimeout = setTimeout(function() {\n\t\t\ttimeout = null;\n\t\t\tself.loadedSearches[value] = true;\n\t\t\tfn.call(self, value, callback);\n\n\t\t}, delay);\n\t};\n};\n\n\n/**\n * Debounce all fired events types listed in `types`\n * while executing the provided `fn`.\n *\n */\nexport const debounce_events = ( self:TomSelect, types:string[], fn:() => void ) => {\n\tvar type:string;\n\tvar trigger = self.trigger;\n\tvar event_args:{ [key: string]: any } = {};\n\n\t// override trigger method\n\tself.trigger = function(){\n\t\tvar type = arguments[0];\n\t\tif (types.indexOf(type) !== -1) {\n\t\t\tevent_args[type] = arguments;\n\t\t} else {\n\t\t\treturn trigger.apply(self, arguments);\n\t\t}\n\t};\n\n\t// invoke provided function\n\tfn.apply(self, []);\n\tself.trigger = trigger;\n\n\t// trigger queued events\n\tfor( type of types ){\n\t\tif( type in event_args ){\n\t\t\ttrigger.apply(self, event_args[type]);\n\t\t}\n\t}\n};\n\n\n/**\n * Determines the current selection within a text input control.\n * Returns an object containing:\n *   - start\n *   - length\n *\n * Note: \"selectionStart, selectionEnd ... apply only to inputs of types text, search, URL, tel and password\"\n * \t- https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n */\nexport const getSelection = (input:HTMLInputElement):{ start: number; length: number } => {\n\treturn {\n\t\tstart\t: input.selectionStart || 0,\n\t\tlength\t: (input.selectionEnd||0) - (input.selectionStart||0),\n\t};\n};\n\n\n/**\n * Prevent default\n *\n */\nexport const preventDefault = (evt?:Event, stop:boolean=false):void => {\n\tif( evt ){\n\t\tevt.preventDefault();\n\t\tif( stop ){\n\t\t\tevt.stopPropagation();\n\t\t}\n\t}\n}\n\n\n/**\n * Add event helper\n *\n */\nexport const addEvent = (target:EventTarget, type:string, callback:EventListenerOrEventListenerObject, options?:object):void => {\n\ttarget.addEventListener(type,callback,options);\n};\n\n\n/**\n * Return true if the requested key is down\n * Will return false if more than one control character is pressed ( when [ctrl+shift+a] != [ctrl+a] )\n * The current evt may not always set ( eg calling advanceSelection() )\n *\n */\nexport const isKeyDown = ( key_name:keyof (KeyboardEvent|MouseEvent), evt?:KeyboardEvent|MouseEvent ) => {\n\n\tif( !evt ){\n\t\treturn false;\n\t}\n\n\tif( !evt[key_name] ){\n\t\treturn false;\n\t}\n\n\tvar count = (evt.altKey?1:0) + (evt.ctrlKey?1:0) + (evt.shiftKey?1:0) + (evt.metaKey?1:0);\n\n\tif( count === 1 ){\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n\n/**\n * Get the id of an element\n * If the id attribute is not set, set the attribute with the given id\n *\n */\nexport const getId = (el:Element,id:string) => {\n\tconst existing_id = el.getAttribute('id');\n\tif( existing_id ){\n\t\treturn existing_id;\n\t}\n\n\tel.setAttribute('id',id);\n\treturn id;\n};\n\n\n/**\n * Returns a string with backslashes added before characters that need to be escaped.\n */\nexport const addSlashes = (str:string):string => {\n\treturn str.replace(/[\\\\\"']/g, '\\\\$&');\n};\n\n/**\n *\n */\nexport const append = ( parent:Element|DocumentFragment, node: string|Node|null|undefined ):void =>{\n\tif( node ) parent.append(node);\n};\n", "import defaults from './defaults';\nimport { hash_key } from './utils';\nimport { TomOption, TomSettings, RecursivePartial } from './types/index';\nimport { iterate } from '@orchidjs/sifter/lib/utils';\nimport { TomInput } from './types/index';\n\n\nexport default function getSettings( input:TomInput, settings_user:RecursivePartial<TomSettings>):TomSettings{\n\tvar settings:TomSettings\t= Object.assign({}, defaults, settings_user);\n\n\tvar attr_data\t\t\t\t= settings.dataAttr;\n\tvar field_label\t\t\t\t= settings.labelField;\n\tvar field_value\t\t\t\t= settings.valueField;\n\tvar field_disabled\t\t\t= settings.disabledField;\n\tvar field_optgroup\t\t\t= settings.optgroupField;\n\tvar field_optgroup_label\t= settings.optgroupLabelField;\n\tvar field_optgroup_value\t= settings.optgroupValueField;\n\n\tvar tag_name\t\t\t\t= input.tagName.toLowerCase();\n\tvar placeholder\t\t\t\t= input.getAttribute('placeholder') || input.getAttribute('data-placeholder');\n\n\tif (!placeholder && !settings.allowEmptyOption) {\n\t\tlet option\t\t= input.querySelector('option[value=\"\"]');\n\t\tif( option ){\n\t\t\tplaceholder = option.textContent;\n\t\t}\n\n\t}\n\n\tvar settings_element:{\n\t\tplaceholder\t: null|string,\n\t\toptions\t\t: TomOption[],\n\t\toptgroups\t: TomOption[],\n\t\titems\t\t: string[],\n\t\tmaxItems\t: null|number,\n\t} = {\n\t\tplaceholder\t: placeholder,\n\t\toptions\t\t: [],\n\t\toptgroups\t: [],\n\t\titems\t\t: [],\n\t\tmaxItems\t: null,\n\t};\n\n\n\t/**\n\t * Initialize from a <select> element.\n\t *\n\t */\n\tvar init_select = () => {\n\t\tvar tagName;\n\t\tvar options = settings_element.options;\n\t\tvar optionsMap:{[key:string]:any} = {};\n\t\tvar group_count = 1;\n\t\tlet $order = 0;\n\n\t\tvar readData = (el:HTMLElement):TomOption => {\n\n\t\t\tvar data\t= Object.assign({},el.dataset); // get plain object from DOMStringMap\n\t\t\tvar json\t= attr_data && data[attr_data];\n\n\t\t\tif( typeof json === 'string' && json.length ){\n\t\t\t\tdata = Object.assign(data,JSON.parse(json));\n\t\t\t}\n\n\t\t\treturn data;\n\t\t};\n\n\t\tvar addOption = (option:HTMLOptionElement, group?:string) => {\n\n\t\t\tvar value = hash_key(option.value);\n\t\t\tif ( value == null ) return;\n\t\t\tif ( !value && !settings.allowEmptyOption) return;\n\n\t\t\t// if the option already exists, it's probably been\n\t\t\t// duplicated in another optgroup. in this case, push\n\t\t\t// the current group to the \"optgroup\" property on the\n\t\t\t// existing option so that it's rendered in both places.\n\t\t\tif (optionsMap.hasOwnProperty(value)) {\n\t\t\t\tif (group) {\n\t\t\t\t\tvar arr = optionsMap[value][field_optgroup];\n\t\t\t\t\tif (!arr) {\n\t\t\t\t\t\toptionsMap[value][field_optgroup] = group;\n\t\t\t\t\t} else if (!Array.isArray(arr)) {\n\t\t\t\t\t\toptionsMap[value][field_optgroup] = [arr, group];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tarr.push(group);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t}else{\n\n\t\t\t\tvar option_data             = readData(option);\n\t\t\t\toption_data[field_label]    = option_data[field_label] || option.textContent;\n\t\t\t\toption_data[field_value]    = option_data[field_value] || value;\n\t\t\t\toption_data[field_disabled] = option_data[field_disabled] || option.disabled;\n\t\t\t\toption_data[field_optgroup] = option_data[field_optgroup] || group;\n\t\t\t\toption_data.$option\t\t\t= option;\n\t\t\t\toption_data.$order\t\t\t= option_data.$order || ++$order;\n\n\t\t\t\toptionsMap[value] = option_data;\n\t\t\t\toptions.push(option_data);\n\t\t\t}\n\n\t\t\tif( option.selected ){\n\t\t\t\tsettings_element.items.push(value);\n\t\t\t}\n\t\t};\n\n\t\tvar addGroup = ( optgroup:HTMLOptGroupElement ) => {\n\t\t\tvar id:string, optgroup_data\n\n\t\t\toptgroup_data\t\t\t\t\t\t\t= readData(optgroup);\n\t\t\toptgroup_data[field_optgroup_label]\t\t= optgroup_data[field_optgroup_label] || optgroup.getAttribute('label') || '';\n\t\t\toptgroup_data[field_optgroup_value]\t\t= optgroup_data[field_optgroup_value] || group_count++;\n\t\t\toptgroup_data[field_disabled]\t\t\t= optgroup_data[field_disabled] || optgroup.disabled;\n\t\t\toptgroup_data.$order\t\t\t\t\t= optgroup_data.$order || ++$order;\n\n\t\t\tsettings_element.optgroups.push(optgroup_data);\n\n\t\t\tid = optgroup_data[field_optgroup_value];\n\n\t\t\titerate(optgroup.children, (option)=>{\n\t\t\t\taddOption(option as HTMLOptionElement, id);\n\t\t\t});\n\n\t\t};\n\n\t\tsettings_element.maxItems = input.hasAttribute('multiple') ? null : 1;\n\n\t\titerate(input.children,(child)=>{\n\t\t\ttagName = child.tagName.toLowerCase();\n\t\t\tif (tagName === 'optgroup') {\n\t\t\t\taddGroup(child as HTMLOptGroupElement);\n\t\t\t} else if (tagName === 'option') {\n\t\t\t\taddOption(child as HTMLOptionElement);\n\t\t\t}\n\t\t});\n\n\t};\n\n\n\t/**\n\t * Initialize from a <input type=\"text\"> element.\n\t *\n\t */\n\tvar init_textbox = () => {\n\t\tconst data_raw = input.getAttribute(attr_data);\n\n\t\tif (!data_raw) {\n\t\t\tvar value = input.value.trim() || '';\n\t\t\tif (!settings.allowEmptyOption && !value.length) return;\n\t\t\tconst values = value.split(settings.delimiter);\n\n\t\t\titerate( values, (value) => {\n\t\t\t\tconst option:TomOption = {};\n\t\t\t\toption[field_label] = value;\n\t\t\t\toption[field_value] = value;\n\t\t\t\tsettings_element.options.push(option);\n\t\t\t});\n\t\t\tsettings_element.items = values;\n\t\t} else {\n\t\t\tsettings_element.options = JSON.parse(data_raw);\n\t\t\titerate( settings_element.options, (opt) => {\n\t\t\t\tsettings_element.items.push(opt[field_value]);\n\t\t\t});\n\t\t}\n\t};\n\n\n\tif (tag_name === 'select') {\n\t\tinit_select();\n\t} else {\n\t\tinit_textbox();\n\t}\n\n\treturn Object.assign( {}, defaults, settings_element, settings_user) as TomSettings;\n};\n", "\nimport MicroEvent from './contrib/microevent';\nimport MicroPlugin from './contrib/microplugin';\nimport { Sifter, iterate } from '@orchidjs/sifter';\nimport { escape_regex } from '@orchidjs/unicode-variants';\nimport { TomInput, TomArgObject, TomOption, TomOptions, TomCreateFilter, TomCreateCallback, TomItem, TomSettings, TomTemplateNames, TomClearFilter, RecursivePartial } from './types/index';\nimport {highlight, removeHighlight} from './contrib/highlight';\nimport * as constants from './constants';\nimport getSettings from './getSettings';\nimport {\n\thash_key,\n\tget_hash,\n\tescape_html,\n\tdebounce_events,\n\tgetSelection,\n\tpreventDefault,\n\taddEvent,\n\tloadDebounce,\n\ttimeout,\n\tisKeyDown,\n\tgetId,\n\taddSlashes,\n\tappend\n} from './utils';\n\nimport {\n\tgetDom,\n\tisHtmlString,\n\tescapeQuery,\n\ttriggerEvent,\n\tapplyCSS,\n\taddClasses,\n\tremoveClasses,\n\tparentMatch,\n\tgetTail,\n\tisEmptyObject,\n\tnodeIndex,\n\tsetAttr,\n\treplaceNode\n} from './vanilla';\n\nvar instance_i = 0;\n\nexport default class TomSelect extends MicroPlugin(MicroEvent){\n\n\tpublic control_input\t\t\t: HTMLInputElement;\n\tpublic wrapper\t\t\t\t\t: HTMLElement;\n\tpublic dropdown\t\t\t\t\t: HTMLElement;\n\tpublic control\t\t\t\t\t: HTMLElement;\n\tpublic dropdown_content\t\t\t: HTMLElement;\n\tpublic focus_node\t\t\t\t: HTMLElement;\n\n\tpublic order\t\t\t\t\t: number = 0;\n\tpublic settings\t\t\t\t\t: TomSettings;\n\tpublic input\t\t\t\t\t: TomInput;\n\tpublic tabIndex\t\t\t\t\t: number;\n\tpublic is_select_tag\t\t\t: boolean;\n\tpublic rtl\t\t\t\t\t\t: boolean;\n\tprivate inputId\t\t\t\t\t: string;\n\n\tprivate _destroy\t\t\t\t!: () => void;\n\tpublic sifter\t\t\t\t\t: Sifter;\n\n\n\tpublic isOpen\t\t\t\t\t: boolean = false;\n\tpublic isDisabled\t\t\t\t: boolean = false;\n\tpublic isReadOnly\t\t\t\t: boolean = false;\n\tpublic isRequired\t\t\t\t: boolean;\n\tpublic isInvalid\t\t\t\t: boolean = false; // @deprecated 1.8\n\tpublic isValid\t\t\t\t\t: boolean = true;\n\tpublic isLocked\t\t\t\t\t: boolean = false;\n\tpublic isFocused\t\t\t\t: boolean = false;\n\tpublic isInputHidden\t\t\t: boolean = false;\n\tpublic isSetup\t\t\t\t\t: boolean = false;\n\tpublic ignoreFocus\t\t\t\t: boolean = false;\n\tpublic ignoreHover\t\t\t\t: boolean = false;\n\tpublic hasOptions\t\t\t\t: boolean = false;\n\tpublic currentResults\t\t\t?: ReturnType<Sifter['search']>;\n\tpublic lastValue\t\t\t\t: string = '';\n\tpublic caretPos\t\t\t\t\t: number = 0;\n\tpublic loading\t\t\t\t\t: number = 0;\n\tpublic loadedSearches\t\t\t: { [key: string]: boolean } = {};\n\n\tpublic activeOption\t\t\t\t: null|HTMLElement = null;\n\tpublic activeItems\t\t\t\t: TomItem[] = [];\n\n\tpublic optgroups\t\t\t\t: TomOptions = {};\n\tpublic options\t\t\t\t\t: TomOptions = {};\n\tpublic userOptions\t\t\t\t: {[key:string]:boolean} = {};\n\tpublic items\t\t\t\t\t: string[] = [];\n\n\tprivate refreshTimeout\t\t\t: null|ReturnType<typeof setTimeout> = null;\n\n\n\tconstructor( input_arg: string|TomInput, user_settings:RecursivePartial<TomSettings> ){\n\t\tsuper();\n\n\t\tinstance_i++;\n\n\t\tvar dir;\n\t\tvar input\t\t\t\t= getDom( input_arg ) as TomInput;\n\n\t\tif( input.tomselect ){\n\t\t\tthrow new Error('Tom Select already initialized on this element');\n\t\t}\n\n\n\t\tinput.tomselect\t\t\t= this;\n\n\n\t\t// detect rtl environment\n\t\tvar computedStyle\t\t= window.getComputedStyle && window.getComputedStyle(input, null);\n\t\tdir\t\t\t\t\t\t= computedStyle.getPropertyValue('direction');\n\n\t\t// setup default state\n\t\tconst settings\t\t\t= getSettings( input, user_settings );\n\t\tthis.settings\t\t\t= settings;\n\t\tthis.input\t\t\t\t= input;\n\t\tthis.tabIndex\t\t\t= input.tabIndex || 0;\n\t\tthis.is_select_tag\t\t= input.tagName.toLowerCase() === 'select';\n\t\tthis.rtl\t\t\t\t= /rtl/i.test(dir);\n\t\tthis.inputId\t\t\t= getId(input, 'tomselect-'+instance_i);\n\t\tthis.isRequired\t\t\t= input.required;\n\n\n\t\t// search system\n\t\tthis.sifter = new Sifter(this.options, {diacritics: settings.diacritics});\n\n\t\t// option-dependent defaults\n\t\tsettings.mode = settings.mode || (settings.maxItems === 1 ? 'single' : 'multi');\n\t\tif (typeof settings.hideSelected !== 'boolean') {\n\t\t\tsettings.hideSelected = settings.mode === 'multi';\n\t\t}\n\n\t\tif( typeof settings.hidePlaceholder !== 'boolean' ){\n\t\t\tsettings.hidePlaceholder = settings.mode !== 'multi';\n\t\t}\n\n\t\t// set up createFilter callback\n\t\tvar filter = settings.createFilter;\n\t\tif( typeof filter !== 'function' ){\n\n\t\t\tif( typeof filter === 'string' ){\n\t\t\t\tfilter = new RegExp(filter);\n\t\t\t}\n\n\t\t\tif( filter instanceof RegExp ){\n\t\t\t\tsettings.createFilter = (input) => (filter as RegExp).test(input);\n\t\t\t}else{\n\t\t\t\tsettings.createFilter = (value) => {\n\t\t\t\t\treturn this.settings.duplicates || !this.options[value];\n\t\t\t\t};\n\t\t\t}\n\t\t}\n\n\n\t\tthis.initializePlugins(settings.plugins);\n\t\tthis.setupCallbacks();\n\t\tthis.setupTemplates();\n\n\n\t\t// Create all elements\n\t\tconst wrapper\t\t\t= getDom('<div>');\n\t\tconst control\t\t\t= getDom('<div>');\n\t\tconst dropdown\t\t\t= this._render('dropdown');\n\t\tconst dropdown_content\t= getDom(`<div role=\"listbox\" tabindex=\"-1\">`);\n\n\t\tconst classes\t\t\t= this.input.getAttribute('class') || '';\n\t\tconst inputMode\t\t\t= settings.mode;\n\n\t\tvar control_input: HTMLInputElement;\n\n\n\t\taddClasses( wrapper, settings.wrapperClass, classes, inputMode);\n\n\n\t\taddClasses(control,settings.controlClass);\n\t\tappend( wrapper, control );\n\n\n\t\taddClasses(dropdown, settings.dropdownClass, inputMode);\n\t\tif( settings.copyClassesToDropdown ){\n\t\t\taddClasses( dropdown, classes);\n\t\t}\n\n\n\t\taddClasses(dropdown_content, settings.dropdownContentClass);\n\t\tappend( dropdown, dropdown_content );\n\n\t\tgetDom( settings.dropdownParent || wrapper ).appendChild( dropdown );\n\n\n\t\t// default controlInput\n\t\tif( isHtmlString(settings.controlInput) ){\n\t\t\tcontrol_input\t\t= getDom(settings.controlInput ) as HTMLInputElement;\n\n\t\t\t// set attributes\n\t\t\tvar attrs = ['autocorrect','autocapitalize','autocomplete','spellcheck'];\n\t\t\titerate(attrs,(attr:string) => {\n\t\t\t\tif( input.getAttribute(attr) ){\n\t\t\t\t\tsetAttr(control_input,{[attr]:input.getAttribute(attr)});\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tcontrol_input.tabIndex = -1;\n\t\t\tcontrol.appendChild( control_input );\n\t\t\tthis.focus_node\t\t= control_input;\n\n\t\t// dom element\n\t\t}else if( settings.controlInput ){\n\t\t\tcontrol_input\t\t= getDom( settings.controlInput ) as HTMLInputElement;\n\t\t\tthis.focus_node\t\t= control_input;\n\n\t\t}else{\n\t\t\tcontrol_input\t\t= getDom('<input/>') as HTMLInputElement;\n\t\t\tthis.focus_node\t\t= control;\n\t\t}\n\n\t\tthis.wrapper\t\t\t= wrapper;\n\t\tthis.dropdown\t\t\t= dropdown;\n\t\tthis.dropdown_content\t= dropdown_content;\n\t\tthis.control \t\t\t= control;\n\t\tthis.control_input\t\t= control_input;\n\n\t\tthis.setup();\n\t}\n\n\t/**\n\t * set up event bindings.\n\t *\n\t */\n\tsetup(){\n\n\t\tconst self = this;\n\t\tconst settings\t\t\t\t= self.settings;\n\t\tconst control_input\t\t\t= self.control_input;\n\t\tconst dropdown\t\t\t\t= self.dropdown;\n\t\tconst dropdown_content\t\t= self.dropdown_content;\n\t\tconst wrapper\t\t\t\t= self.wrapper;\n\t\tconst control\t\t\t\t= self.control;\n\t\tconst input\t\t\t\t\t= self.input;\n\t\tconst focus_node\t\t\t= self.focus_node;\n\t\tconst passive_event\t\t\t= { passive: true };\n\t\tconst listboxId\t\t\t\t= self.inputId +'-ts-dropdown';\n\n\n\t\tsetAttr(dropdown_content,{\n\t\t\tid: listboxId\n\t\t});\n\n\t\tsetAttr(focus_node,{\n\t\t\trole:'combobox',\n\t\t\t'aria-haspopup':'listbox',\n\t\t\t'aria-expanded':'false',\n\t\t\t'aria-controls':listboxId\n\t\t});\n\n\t\tconst control_id\t= getId(focus_node,self.inputId + '-ts-control');\n\t\tconst query\t\t\t= \"label[for='\"+escapeQuery(self.inputId)+\"']\";\n\t\tconst label\t\t\t= document.querySelector(query);\n\t\tconst label_click\t= self.focus.bind(self);\n\t\tif( label ){\n\t\t\taddEvent(label,'click', label_click );\n\t\t\tsetAttr(label,{for:control_id});\n\t\t\tconst label_id = getId(label,self.inputId+'-ts-label');\n\t\t\tsetAttr(focus_node,{'aria-labelledby':label_id});\n\t\t\tsetAttr(dropdown_content,{'aria-labelledby':label_id});\n\t\t}\n\n\t\twrapper.style.width = input.style.width;\n\n\t\tif (self.plugins.names.length) {\n\t\t\tconst classes_plugins = 'plugin-' + self.plugins.names.join(' plugin-');\n\t\t\taddClasses( [wrapper,dropdown], classes_plugins);\n\t\t}\n\n\t\tif ((settings.maxItems === null || settings.maxItems > 1) && self.is_select_tag ){\n\t\t\tsetAttr(input,{multiple:'multiple'});\n\t\t}\n\n\t\tif (settings.placeholder) {\n\t\t\tsetAttr(control_input,{placeholder:settings.placeholder});\n\t\t}\n\n\t\t// if splitOn was not passed in, construct it from the delimiter to allow pasting universally\n\t\tif (!settings.splitOn && settings.delimiter) {\n\t\t\tsettings.splitOn = new RegExp('\\\\s*' + escape_regex(settings.delimiter) + '+\\\\s*');\n\t\t}\n\n\t\t// debounce user defined load() if loadThrottle > 0\n\t\t// after initializePlugins() so plugins can create/modify user defined loaders\n\t\tif( settings.load && settings.loadThrottle ){\n\t\t\tsettings.load = loadDebounce(settings.load,settings.loadThrottle)\n\t\t}\n\n\t\taddEvent(dropdown,'mousemove', () => {\n\t\t\tself.ignoreHover = false;\n\t\t});\n\n\t\taddEvent(dropdown,'mouseenter', (e) => {\n\n\t\t\tvar target_match = parentMatch(e.target as HTMLElement, '[data-selectable]', dropdown);\n\t\t\tif( target_match ) self.onOptionHover( e as MouseEvent, target_match );\n\n\t\t}, {capture:true});\n\n\t\t// clicking on an option should select it\n\t\taddEvent(dropdown,'click',(evt) => {\n\t\t\tconst option = parentMatch(evt.target as HTMLElement, '[data-selectable]');\n\t\t\tif( option ){\n\t\t\t\tself.onOptionSelect( evt as MouseEvent, option );\n\t\t\t\tpreventDefault(evt,true);\n\t\t\t}\n\t\t});\n\n\t\taddEvent(control,'click', (evt) => {\n\n\t\t\tvar target_match = parentMatch( evt.target as HTMLElement, '[data-ts-item]', control);\n\t\t\tif( target_match && self.onItemSelect(evt as MouseEvent, target_match as TomItem) ){\n\t\t\t\tpreventDefault(evt,true);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// retain focus (see control_input mousedown)\n\t\t\tif( control_input.value != '' ){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tself.onClick();\n\t\t\tpreventDefault(evt,true);\n\t\t});\n\n\n\t\t// keydown on focus_node for arrow_down/arrow_up\n\t\taddEvent(focus_node,'keydown',\t\t(e) => self.onKeyDown(e as KeyboardEvent) );\n\n\t\t// keypress and input/keyup\n\t\taddEvent(control_input,'keypress',\t(e) => self.onKeyPress(e as KeyboardEvent) );\n\t\taddEvent(control_input,'input',\t\t(e) => self.onInput(e as KeyboardEvent) );\n\t\taddEvent(focus_node,'blur', \t\t(e) => self.onBlur(e as FocusEvent) );\n\t\taddEvent(focus_node,'focus',\t\t(e) => self.onFocus(e as MouseEvent) );\n\t\taddEvent(control_input,'paste',\t\t(e) => self.onPaste(e as MouseEvent) );\n\n\n\t\tconst doc_mousedown = (evt:Event) => {\n\n\t\t\t// blur if target is outside of this instance\n\t\t\t// dropdown is not always inside wrapper\n\t\t\tconst target = evt.composedPath()[0];\n\t\t\tif( !wrapper.contains(target as HTMLElement) && !dropdown.contains(target as HTMLElement) ){\n\t\t\t\tif (self.isFocused) {\n\t\t\t\t\tself.blur();\n\t\t\t\t}\n\t\t\t\tself.inputState();\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// retain focus by preventing native handling. if the\n\t\t\t// event target is the input it should not be modified.\n\t\t\t// otherwise, text selection within the input won't work.\n\t\t\t// Fixes bug #212 which is no covered by tests\n\t\t\tif( target == control_input && self.isOpen ){\n\t\t\t\tevt.stopPropagation();\n\n\t\t\t// clicking anywhere in the control should not blur the control_input (which would close the dropdown)\n\t\t\t}else{\n\t\t\t\tpreventDefault(evt,true);\n\t\t\t}\n\n\t\t};\n\n\t\tconst win_scroll = () => {\n\t\t\tif (self.isOpen) {\n\t\t\t\tself.positionDropdown();\n\t\t\t}\n\t\t};\n\n\n\t\taddEvent(document,'mousedown', doc_mousedown);\n\t\taddEvent(window,'scroll', win_scroll, passive_event);\n\t\taddEvent(window,'resize', win_scroll, passive_event);\n\n\t\tthis._destroy = () => {\n\t\t\tdocument.removeEventListener('mousedown',doc_mousedown);\n\t\t\twindow.removeEventListener('scroll',win_scroll);\n\t\t\twindow.removeEventListener('resize',win_scroll);\n\t\t\tif( label ) label.removeEventListener('click',label_click);\n\t\t};\n\n\t\t// store original html and tab index so that they can be\n\t\t// restored when the destroy() method is called.\n\t\tthis.revertSettings = {\n\t\t\tinnerHTML : input.innerHTML,\n\t\t\ttabIndex : input.tabIndex\n\t\t};\n\n\n\t\tinput.tabIndex = -1;\n\t\tinput.insertAdjacentElement('afterend', self.wrapper);\n\n\t\tself.sync(false);\n\t\tsettings.items = [];\n\t\tdelete settings.optgroups;\n\t\tdelete settings.options;\n\n\t\taddEvent(input,'invalid', () => {\n\t\t\tif( self.isValid ){\n\t\t\t\tself.isValid = false;\n\t\t\t\tself.isInvalid = true;\n\t\t\t\tself.refreshState();\n\t\t\t}\n\t\t});\n\n\t\tself.updateOriginalInput();\n\t\tself.refreshItems();\n\t\tself.close(false);\n\t\tself.inputState();\n\t\tself.isSetup = true;\n\n\t\tif( input.disabled ){\n\t\t\tself.disable();\n\t\t}else if( input.readOnly ){\n\t\t\tself.setReadOnly(true);\n\t\t}else{\n\t\t\tself.enable(); //sets tabIndex\n\t\t}\n\n\t\tself.on('change', this.onChange);\n\n\t\taddClasses(input,'tomselected','ts-hidden-accessible');\n\t\tself.trigger('initialize');\n\n\t\t// preload options\n\t\tif (settings.preload === true) {\n\t\t\tself.preload();\n\t\t}\n\n\t}\n\n\n\t/**\n\t * Register options and optgroups\n\t *\n\t */\n\tsetupOptions(options:TomOption[] = [], optgroups:TomOption[] = []){\n\n\t\t// build options table\n\t\tthis.addOptions(options);\n\n\n\t\t// build optgroup table\n\t\titerate( optgroups, (optgroup:TomOption) => {\n\t\t\tthis.registerOptionGroup(optgroup);\n\t\t});\n\t}\n\n\t/**\n\t * Sets up default rendering functions.\n\t */\n\tsetupTemplates() {\n\t\tvar self = this;\n\t\tvar field_label = self.settings.labelField;\n\t\tvar field_optgroup = self.settings.optgroupLabelField;\n\n\t\tvar templates = {\n\t\t\t'optgroup': (data:TomOption) => {\n\t\t\t\tlet optgroup = document.createElement('div');\n\t\t\t\toptgroup.className = 'optgroup';\n\t\t\t\toptgroup.appendChild(data.options);\n\t\t\t\treturn optgroup;\n\n\t\t\t},\n\t\t\t'optgroup_header': (data:TomOption, escape:typeof escape_html) => {\n\t\t\t\treturn '<div class=\"optgroup-header\">' + escape(data[field_optgroup]) + '</div>';\n\t\t\t},\n\t\t\t'option': (data:TomOption, escape:typeof escape_html) => {\n\t\t\t\treturn '<div>' + escape(data[field_label]) + '</div>';\n\t\t\t},\n\t\t\t'item': (data:TomOption, escape:typeof escape_html) => {\n\t\t\t\treturn '<div>' + escape(data[field_label]) + '</div>';\n\t\t\t},\n\t\t\t'option_create': (data:TomOption, escape:typeof escape_html) => {\n\t\t\t\treturn '<div class=\"create\">Add <strong>' + escape(data.input) + '</strong>&hellip;</div>';\n\t\t\t},\n\t\t\t'no_results':() => {\n\t\t\t\treturn '<div class=\"no-results\">No results found</div>';\n\t\t\t},\n\t\t\t'loading':() => {\n\t\t\t\treturn '<div class=\"spinner\"></div>';\n\t\t\t},\n\t\t\t'not_loading':() => {},\n\t\t\t'dropdown':() => {\n\t\t\t\treturn '<div></div>';\n\t\t\t}\n\t\t};\n\n\n\t\tself.settings.render = Object.assign({}, templates, self.settings.render);\n\t}\n\n\t/**\n\t * Maps fired events to callbacks provided\n\t * in the settings used when creating the control.\n\t */\n\tsetupCallbacks() {\n\t\tvar key, fn;\n\t\tvar callbacks:{[key:string]:string} = {\n\t\t\t'initialize'      : 'onInitialize',\n\t\t\t'change'          : 'onChange',\n\t\t\t'item_add'        : 'onItemAdd',\n\t\t\t'item_remove'     : 'onItemRemove',\n\t\t\t'item_select'     : 'onItemSelect',\n\t\t\t'clear'           : 'onClear',\n\t\t\t'option_add'      : 'onOptionAdd',\n\t\t\t'option_remove'   : 'onOptionRemove',\n\t\t\t'option_clear'    : 'onOptionClear',\n\t\t\t'optgroup_add'    : 'onOptionGroupAdd',\n\t\t\t'optgroup_remove' : 'onOptionGroupRemove',\n\t\t\t'optgroup_clear'  : 'onOptionGroupClear',\n\t\t\t'dropdown_open'   : 'onDropdownOpen',\n\t\t\t'dropdown_close'  : 'onDropdownClose',\n\t\t\t'type'            : 'onType',\n\t\t\t'load'            : 'onLoad',\n\t\t\t'focus'           : 'onFocus',\n\t\t\t'blur'            : 'onBlur'\n\t\t};\n\n\t\tfor (key in callbacks) {\n\n\t\t\tfn = this.settings[callbacks[key] as (keyof TomSettings)];\n\t\t\tif (fn) this.on(key, fn);\n\n\t\t}\n\t}\n\n\t/**\n\t * Sync the Tom Select instance with the original input or select\n\t *\n\t */\n\tsync(get_settings:boolean=true):void{\n\t\tconst self\t\t= this;\n\t\tconst settings\t= get_settings ? getSettings( self.input, {delimiter:self.settings.delimiter} as RecursivePartial<TomSettings> ) : self.settings;\n\n\t\tself.setupOptions(settings.options,settings.optgroups);\n\n\t\tself.setValue(settings.items||[],true); // silent prevents recursion\n\n\t\tself.lastQuery = null; // so updated options will be displayed in dropdown\n\t}\n\n\t/**\n\t * Triggered when the main control element\n\t * has a click event.\n\t *\n\t */\n\tonClick():void {\n\t\tvar self = this;\n\n\t\tif( self.activeItems.length > 0 ){\n\t\t\tself.clearActiveItems();\n\t\t\tself.focus();\n\t\t\treturn;\n\t\t}\n\n\t\tif( self.isFocused && self.isOpen ){\n\t\t\tself.blur();\n\t\t} else {\n\t\t\tself.focus();\n\t\t}\n\t}\n\n\t/**\n\t * @deprecated v1.7\n\t *\n\t */\n\tonMouseDown():void {}\n\n\t/**\n\t * Triggered when the value of the control has been changed.\n\t * This should propagate the event to the original DOM\n\t * input / select element.\n\t */\n\tonChange() {\n\t\ttriggerEvent(this.input, 'input');\n\t\ttriggerEvent(this.input, 'change');\n\t}\n\n\t/**\n\t * Triggered on <input> paste.\n\t *\n\t */\n\tonPaste(e:MouseEvent|KeyboardEvent):void {\n\t\tvar self = this;\n\n\t\tif( self.isInputHidden || self.isLocked ){\n\t\t\tpreventDefault(e);\n\t\t\treturn;\n\t\t}\n\n\t\t// If a regex or string is included, this will split the pasted\n\t\t// input and create Items for each separate value\n\t\tif( !self.settings.splitOn ){\n\t\t\treturn;\n\t\t}\n\n\t\t// Wait for pasted text to be recognized in value\n\t\tsetTimeout(() => {\n\t\t\tvar pastedText = self.inputValue();\n\t\t\tif( !pastedText.match(self.settings.splitOn)){\n\t\t\t\treturn\n\t\t\t}\n\n\t\t\tvar splitInput = pastedText.trim().split(self.settings.splitOn);\n\t\t\titerate( splitInput, (piece:string) => {\n\n\t\t\t\tconst hash = hash_key(piece);\n\t\t\t\tif( hash ){\n\t\t\t\t\tif( this.options[piece] ){\n\t\t\t\t\t\tself.addItem(piece);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tself.createItem(piece);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}, 0);\n\n\t}\n\n\t/**\n\t * Triggered on <input> keypress.\n\t *\n\t */\n\tonKeyPress(e:KeyboardEvent):void {\n\t\tvar self = this;\n\t\tif(self.isLocked){\n\t\t\tpreventDefault(e);\n\t\t\treturn;\n\t\t}\n\t\tvar character = String.fromCharCode(e.keyCode || e.which);\n\t\tif (self.settings.create && self.settings.mode === 'multi' && character === self.settings.delimiter) {\n\t\t\tself.createItem();\n\t\t\tpreventDefault(e);\n\t\t\treturn;\n\t\t}\n\t}\n\n\t/**\n\t * Triggered on <input> keydown.\n\t *\n\t */\n\tonKeyDown(e:KeyboardEvent):void {\n\t\tvar self = this;\n\n\t\tself.ignoreHover = true;\n\n\t\tif (self.isLocked) {\n\t\t\tif (e.keyCode !== constants.KEY_TAB) {\n\t\t\t\tpreventDefault(e);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\tswitch (e.keyCode) {\n\n\t\t\t// ctrl+A: select all\n\t\t\tcase constants.KEY_A:\n\t\t\t\tif( isKeyDown(constants.KEY_SHORTCUT,e) ){\n\t\t\t\t\tif( self.control_input.value == '' ){\n\t\t\t\t\t\tpreventDefault(e);\n\t\t\t\t\t\tself.selectAll();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tbreak;\n\n\t\t\t// esc: close dropdown\n\t\t\tcase constants.KEY_ESC:\n\t\t\t\tif (self.isOpen) {\n\t\t\t\t\tpreventDefault(e,true);\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t\tself.clearActiveItems();\n\t\t\t\treturn;\n\n\t\t\t// down: open dropdown or move selection down\n\t\t\tcase constants.KEY_DOWN:\n\t\t\t\tif (!self.isOpen && self.hasOptions) {\n\t\t\t\t\tself.open();\n\t\t\t\t} else if (self.activeOption) {\n\t\t\t\t\tlet next = self.getAdjacent(self.activeOption, 1);\n\t\t\t\t\tif (next) self.setActiveOption(next);\n\t\t\t\t}\n\t\t\t\tpreventDefault(e);\n\t\t\t\treturn;\n\n\t\t\t// up: move selection up\n\t\t\tcase constants.KEY_UP:\n\t\t\t\tif (self.activeOption) {\n\t\t\t\t\tlet prev = self.getAdjacent(self.activeOption, -1);\n\t\t\t\t\tif (prev) self.setActiveOption(prev);\n\t\t\t\t}\n\t\t\t\tpreventDefault(e);\n\t\t\t\treturn;\n\n\t\t\t// return: select active option\n\t\t\tcase constants.KEY_RETURN:\n\t\t\t\tif( self.canSelect(self.activeOption) ){\n\t\t\t\t\tself.onOptionSelect(e,self.activeOption!);\n\t\t\t\t\tpreventDefault(e);\n\n\t\t\t\t// if the option_create=null, the dropdown might be closed\n\t\t\t\t}else if (self.settings.create && self.createItem()) {\n\t\t\t\t\tpreventDefault(e);\n\n\t\t\t\t// don't submit form when searching for a value\n\t\t\t\t}else if( document.activeElement == self.control_input && self.isOpen ){\n\t\t\t\t\tpreventDefault(e);\n\t\t\t\t}\n\n\t\t\t\treturn;\n\n\t\t\t// left: modifiy item selection to the left\n\t\t\tcase constants.KEY_LEFT:\n\t\t\t\tself.advanceSelection(-1, e);\n\t\t\t\treturn;\n\n\t\t\t// right: modifiy item selection to the right\n\t\t\tcase constants.KEY_RIGHT:\n\t\t\t\tself.advanceSelection(1, e);\n\t\t\t\treturn;\n\n\t\t\t// tab: select active option and/or create item\n\t\t\tcase constants.KEY_TAB:\n\n\t\t\t\tif( self.settings.selectOnTab ){\n\t\t\t\t\tif( self.canSelect(self.activeOption) ){\n\t\t\t\t\t\tself.onOptionSelect(e,self.activeOption!);\n\n\t\t\t\t\t\t// prevent default [tab] behaviour of jump to the next field\n\t\t\t\t\t\t// if select isFull, then the dropdown won't be open and [tab] will work normally\n\t\t\t\t\t\tpreventDefault(e);\n\t\t\t\t\t}\n\t\t\t\t\tif (self.settings.create && self.createItem()) {\n\t\t\t\t\t\tpreventDefault(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn;\n\n\t\t\t// delete|backspace: delete items\n\t\t\tcase constants.KEY_BACKSPACE:\n\t\t\tcase constants.KEY_DELETE:\n\t\t\t\tself.deleteSelection(e);\n\t\t\t\treturn;\n\t\t}\n\n\t\t// don't enter text in the control_input when active items are selected\n\t\tif( self.isInputHidden && !isKeyDown(constants.KEY_SHORTCUT,e) ){\n\t\t\tpreventDefault(e);\n\t\t}\n\t}\n\n\t/**\n\t * Triggered on <input> keyup.\n\t *\n\t */\n\tonInput(e:MouseEvent|KeyboardEvent):void {\n\t\t\n\t\tif( this.isLocked ){\n\t\t\treturn;\n\t\t}\n\n\t\tconst value = this.inputValue();\n\t\tif( this.lastValue === value ) return;\n\t\tthis.lastValue = value;\n\t\t\n\t\tif( value == '' ){\n\t\t\tthis._onInput();\n\t\t\treturn;\n\t\t}\n\n\t\tif( this.refreshTimeout ){\n\t\t\tclearTimeout(this.refreshTimeout);\n\t\t}\n\n\t\tthis.refreshTimeout = timeout(()=> {\n\t\t\tthis.refreshTimeout = null;\n\t\t\tthis._onInput();\n\t\t}, this.settings.refreshThrottle);\n\t}\n\n\t_onInput():void {\n\t\tconst value = this.lastValue;\n\n\t\tif( this.settings.shouldLoad.call(this,value) ){\n\t\t\tthis.load(value);\n\t\t}\n\n\t\tthis.refreshOptions();\n\t\tthis.trigger('type', value);\n\t}\n\n\t/**\n\t * Triggered when the user rolls over\n\t * an option in the autocomplete dropdown menu.\n\t *\n\t */\n\tonOptionHover( evt:MouseEvent|KeyboardEvent, option:HTMLElement ):void{\n\t\tif( this.ignoreHover ) return;\n\t\tthis.setActiveOption(option, false);\n\t}\n\n\t/**\n\t * Triggered on <input> focus.\n\t *\n\t */\n\tonFocus(e?:MouseEvent|KeyboardEvent):void {\n\t\tvar self = this;\n\t\tvar wasFocused = self.isFocused;\n\n\t\tif( self.isDisabled || self.isReadOnly ){\n\t\t\tself.blur();\n\t\t\tpreventDefault(e);\n\t\t\treturn;\n\t\t}\n\n\t\tif (self.ignoreFocus) return;\n\t\tself.isFocused = true;\n\t\tif( self.settings.preload === 'focus' ) self.preload();\n\n\t\tif (!wasFocused) self.trigger('focus');\n\n\t\tif (!self.activeItems.length) {\n\t\t\tself.inputState();\n\t\t\tself.refreshOptions(!!self.settings.openOnFocus);\n\t\t}\n\n\t\tself.refreshState();\n\t}\n\n\t/**\n\t * Triggered on <input> blur.\n\t *\n\t */\n\tonBlur(e?:FocusEvent):void {\n\n\t\tif( document.hasFocus() === false ) return;\n\n\t\tvar self = this;\n\t\tif (!self.isFocused) return;\n\t\tself.isFocused = false;\n\t\tself.ignoreFocus = false;\n\n\t\tvar deactivate = () => {\n\t\t\tself.close();\n\t\t\tself.setActiveItem();\n\t\t\tself.setCaret(self.items.length);\n\t\t\tself.trigger('blur');\n\t\t};\n\n\t\tif (self.settings.create && self.settings.createOnBlur) {\n\t\t\tself.createItem(null, deactivate);\n\t\t} else {\n\t\t\tdeactivate();\n\t\t}\n\t}\n\n\n\t/**\n\t * Triggered when the user clicks on an option\n\t * in the autocomplete dropdown menu.\n\t *\n\t */\n\tonOptionSelect( evt:MouseEvent|KeyboardEvent, option:HTMLElement ){\n\t\tvar value, self = this;\n\n\n\t\t// should not be possible to trigger a option under a disabled optgroup\n\t\tif( option.parentElement && option.parentElement.matches('[data-disabled]') ){\n\t\t\treturn;\n\t\t}\n\n\n\t\tif( option.classList.contains('create') ){\n\t\t\tself.createItem(null, () => {\n\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tvalue = option.dataset.value;\n\t\t\tif (typeof value !== 'undefined') {\n\t\t\t\tself.lastQuery = null;\n\t\t\t\tself.addItem(value);\n\t\t\t\tif (self.settings.closeAfterSelect) {\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\n\t\t\t\tif( !self.settings.hideSelected && evt.type && /click/.test(evt.type) ){\n\t\t\t\t\tself.setActiveOption(option);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Return true if the given option can be selected\n\t *\n\t */\n\tcanSelect(option:HTMLElement|null):boolean{\n\n\t\tif( this.isOpen && option && this.dropdown_content.contains(option) ) {\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Triggered when the user clicks on an item\n\t * that has been selected.\n\t *\n\t */\n\tonItemSelect( evt?:MouseEvent, item?:TomItem ):boolean{\n\t\tvar self = this;\n\n\t\tif( !self.isLocked && self.settings.mode === 'multi' ){\n\t\t\tpreventDefault(evt);\n\t\t\tself.setActiveItem(item, evt);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Determines whether or not to invoke\n\t * the user-provided option provider / loader\n\t *\n\t * Note, there is a subtle difference between\n\t * this.canLoad() and this.settings.shouldLoad();\n\t *\n\t *\t- settings.shouldLoad() is a user-input validator.\n\t *\tWhen false is returned, the not_loading template\n\t *\twill be added to the dropdown\n\t *\n\t *\t- canLoad() is lower level validator that checks\n\t * \tthe Tom Select instance. There is no inherent user\n\t *\tfeedback when canLoad returns false\n\t *\n\t */\n\tcanLoad(value:string):boolean{\n\n\t\tif( !this.settings.load ) return false;\n\t\tif( this.loadedSearches.hasOwnProperty(value) ) return false;\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Invokes the user-provided option provider / loader.\n\t *\n\t */\n\tload(value:string):void {\n\t\tconst self = this;\n\n\t\tif( !self.canLoad(value) ) return;\n\n\t\taddClasses(self.wrapper,self.settings.loadingClass);\n\t\tself.loading++;\n\n\t\tconst callback = self.loadCallback.bind(self);\n\t\tself.settings.load.call(self, value, callback);\n\t}\n\n\t/**\n\t * Invoked by the user-provided option provider\n\t *\n\t */\n\tloadCallback( options:TomOption[], optgroups:TomOption[] ):void{\n\t\tconst self = this;\n\t\tself.loading = Math.max(self.loading - 1, 0);\n\t\tself.lastQuery = null;\n\n\t\tself.clearActiveOption(); // when new results load, focus should be on first option\n\t\tself.setupOptions(options,optgroups);\n\n\t\tself.refreshOptions(self.isFocused && !self.isInputHidden);\n\n\t\tif (!self.loading) {\n\t\t\tremoveClasses(self.wrapper,self.settings.loadingClass);\n\t\t}\n\n\t\tself.trigger('load', options, optgroups);\n\t}\n\n\tpreload():void{\n\t\tvar classList = this.wrapper.classList;\n\t\tif( classList.contains('preloaded') ) return;\n\t\tclassList.add('preloaded');\n\t\tthis.load('');\n\t}\n\n\n\t/**\n\t * Sets the input field of the control to the specified value.\n\t *\n\t */\n\tsetTextboxValue(value:string = '') {\n\t\tvar input = this.control_input;\n\t\tvar changed = input.value !== value;\n\t\tif (changed) {\n\t\t\tinput.value = value;\n\t\t\ttriggerEvent(input,'update');\n\t\t\tthis.lastValue = value;\n\t\t}\n\t}\n\n\t/**\n\t * Returns the value of the control. If multiple items\n\t * can be selected (e.g. <select multiple>), this returns\n\t * an array. If only one item can be selected, this\n\t * returns a string.\n\t *\n\t */\n\tgetValue():string|string[] {\n\n\t\tif( this.is_select_tag && this.input.hasAttribute('multiple')) {\n\t\t\treturn this.items;\n\t\t}\n\n\t\treturn this.items.join(this.settings.delimiter);\n\t}\n\n\t/**\n\t * Resets the selected items to the given value.\n\t *\n\t */\n\tsetValue( value:string|string[], silent?:boolean ):void{\n\t\tvar events = silent ? [] : ['change'];\n\n\t\tdebounce_events(this, events,() => {\n\t\t\tthis.clear(silent);\n\t\t\tthis.addItems(value, silent);\n\t\t});\n\t}\n\n\n\t/**\n\t * Resets the number of max items to the given value\n\t *\n\t */\n\tsetMaxItems(value:null|number){\n\t\tif(value === 0) value = null; //reset to unlimited items.\n\t\tthis.settings.maxItems = value;\n\t\tthis.refreshState();\n\t}\n\n\t/**\n\t * Sets the selected item.\n\t *\n\t */\n\tsetActiveItem( item?:TomItem, e?:MouseEvent|KeyboardEvent ){\n\t\tvar self = this;\n\t\tvar eventName;\n\t\tvar i, begin, end, swap;\n\t\tvar last;\n\n\t\tif (self.settings.mode === 'single') return;\n\n\t\t// clear the active selection\n\t\tif( !item ){\n\t\t\tself.clearActiveItems();\n\t\t\tif (self.isFocused) {\n\t\t\t\tself.inputState();\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// modify selection\n\t\teventName = e && e.type.toLowerCase();\n\n\t\tif (eventName === 'click' && isKeyDown('shiftKey',e) && self.activeItems.length) {\n\t\t\tlast\t= self.getLastActive();\n\t\t\tbegin\t= Array.prototype.indexOf.call(self.control.children, last);\n\t\t\tend\t\t= Array.prototype.indexOf.call(self.control.children, item);\n\n\t\t\tif (begin > end) {\n\t\t\t\tswap  = begin;\n\t\t\t\tbegin = end;\n\t\t\t\tend   = swap;\n\t\t\t}\n\t\t\tfor (i = begin; i <= end; i++) {\n\t\t\t\titem = self.control.children[i] as TomItem;\n\t\t\t\tif (self.activeItems.indexOf(item) === -1) {\n\t\t\t\t\tself.setActiveItemClass(item);\n\t\t\t\t}\n\t\t\t}\n\t\t\tpreventDefault(e);\n\t\t} else if ((eventName === 'click' && isKeyDown(constants.KEY_SHORTCUT,e) ) || (eventName === 'keydown' && isKeyDown('shiftKey',e))) {\n\t\t\tif( item.classList.contains('active') ){\n\t\t\t\tself.removeActiveItem( item );\n\t\t\t} else {\n\t\t\t\tself.setActiveItemClass(item);\n\t\t\t}\n\t\t} else {\n\t\t\tself.clearActiveItems();\n\t\t\tself.setActiveItemClass(item);\n\t\t}\n\n\t\t// ensure control has focus\n\t\tself.inputState();\n\t\tif (!self.isFocused) {\n\t\t\tself.focus();\n\t\t}\n\t}\n\n\t/**\n\t * Set the active and last-active classes\n\t *\n\t */\n\tsetActiveItemClass( item:TomItem ){\n\t\tconst self = this;\n\t\tconst last_active = self.control.querySelector('.last-active');\n\t\tif( last_active ) removeClasses(last_active as HTMLElement,'last-active');\n\n\t\taddClasses(item,'active last-active');\n\t\tself.trigger('item_select', item);\n\t\tif( self.activeItems.indexOf(item) == -1 ){\n\t\t\tself.activeItems.push( item );\n\t\t}\n\t}\n\n\t/**\n\t * Remove active item\n\t *\n\t */\n\tremoveActiveItem( item:TomItem ){\n\t\tvar idx = this.activeItems.indexOf(item);\n\t\tthis.activeItems.splice(idx, 1);\n\t\tremoveClasses(item,'active');\n\t}\n\n\t/**\n\t * Clears all the active items\n\t *\n\t */\n\tclearActiveItems(){\n\t\tremoveClasses(this.activeItems,'active');\n\t\tthis.activeItems = [];\n\t}\n\n\t/**\n\t * Sets the selected item in the dropdown menu\n\t * of available options.\n\t *\n\t */\n\tsetActiveOption( option:null|HTMLElement,scroll:boolean=true ):void{\n\n\t\tif( option === this.activeOption ){\n\t\t\treturn;\n\t\t}\n\n\t\tthis.clearActiveOption();\n\t\tif( !option ) return;\n\n\t\tthis.activeOption = option;\n\t\tsetAttr(this.focus_node,{'aria-activedescendant':option.getAttribute('id')});\n\t\tsetAttr(option,{'aria-selected':'true'});\n\t\taddClasses(option,'active');\n\t\tif( scroll ) this.scrollToOption(option);\n\t}\n\n\t/**\n\t * Sets the dropdown_content scrollTop to display the option\n\t *\n\t */\n\tscrollToOption( option:null|HTMLElement, behavior?:string ):void{\n\n\t\tif( !option ) return;\n\n\t\tconst content\t\t= this.dropdown_content;\n\t\tconst height_menu\t= content.clientHeight;\n\t\tconst scrollTop\t\t= content.scrollTop || 0;\n\t\tconst height_item\t= option.offsetHeight;\n\t\tconst y\t\t\t\t= option.getBoundingClientRect().top - content.getBoundingClientRect().top + scrollTop;\n\n\t\tif (y + height_item > height_menu + scrollTop) {\n\t\t\tthis.scroll(y - height_menu + height_item, behavior);\n\n\t\t} else if (y < scrollTop) {\n\t\t\tthis.scroll(y, behavior);\n\t\t}\n\t}\n\n\t/**\n\t * Scroll the dropdown to the given position\n\t *\n\t */\n\tscroll( scrollTop:number, behavior?:string ):void{\n\t\tconst content = this.dropdown_content;\n\t\tif( behavior ){\n\t\t\tcontent.style.scrollBehavior = behavior;\n\t\t}\n\t\tcontent.scrollTop = scrollTop;\n\t\tcontent.style.scrollBehavior = '';\n\t}\n\n\t/**\n\t * Clears the active option\n\t *\n\t */\n\tclearActiveOption(){\n\t\tif( this.activeOption ){\n\t\t\tremoveClasses(this.activeOption,'active');\n\t\t\tsetAttr(this.activeOption,{'aria-selected':null});\n\t\t}\n\t\tthis.activeOption = null;\n\t\tsetAttr(this.focus_node,{'aria-activedescendant':null});\n\t}\n\n\n\t/**\n\t * Selects all items (CTRL + A).\n\t */\n\tselectAll() {\n\t\tconst self = this;\n\n\t\tif (self.settings.mode === 'single') return;\n\n\t\tconst activeItems = self.controlChildren();\n\n\t\tif( !activeItems.length ) return;\n\n\t\tself.inputState();\n\t\tself.close();\n\n\t\tself.activeItems = activeItems;\n\t\titerate( activeItems, (item:TomItem) => {\n\t\t\tself.setActiveItemClass(item);\n\t\t});\n\n\t}\n\n\t/**\n\t * Determines if the control_input should be in a hidden or visible state\n\t *\n\t */\n\tinputState(){\n\t\tvar self = this;\n\n\t\tif( !self.control.contains(self.control_input) ) return;\n\n\t\tsetAttr(self.control_input,{placeholder:self.settings.placeholder});\n\n\t\tif( self.activeItems.length > 0 || (!self.isFocused && self.settings.hidePlaceholder && self.items.length > 0) ){\n\t\t\tself.setTextboxValue();\n\t\t\tself.isInputHidden = true;\n\n\t\t}else{\n\n\t\t\tif( self.settings.hidePlaceholder && self.items.length > 0 ){\n\t\t\t\tsetAttr(self.control_input,{placeholder:''});\n\t\t\t}\n\t\t\tself.isInputHidden = false;\n\t\t}\n\n\t\tself.wrapper.classList.toggle('input-hidden', self.isInputHidden );\n\t}\n\n\t/**\n\t * Get the input value\n\t */\n\tinputValue(){\n\t\treturn this.control_input.value.trim();\n\t}\n\n\t/**\n\t * Gives the control focus.\n\t */\n\tfocus() {\n\t\tvar self = this;\n\t\tif( self.isDisabled || self.isReadOnly) return;\n\n\t\tself.ignoreFocus = true;\n\n\t\tif( self.control_input.offsetWidth ){\n\t\t\tself.control_input.focus();\n\t\t}else{\n\t\t\tself.focus_node.focus();\n\t\t}\n\n\t\tsetTimeout(() => {\n\t\t\tself.ignoreFocus = false;\n\t\t\tself.onFocus();\n\t\t}, 0);\n\t}\n\n\t/**\n\t * Forces the control out of focus.\n\t *\n\t */\n\tblur():void {\n\t\tthis.focus_node.blur();\n\t\tthis.onBlur();\n\t}\n\n\t/**\n\t * Returns a function that scores an object\n\t * to show how good of a match it is to the\n\t * provided query.\n\t *\n\t * @return {function}\n\t */\n\tgetScoreFunction(query:string) {\n\t\treturn this.sifter.getScoreFunction(query, this.getSearchOptions());\n\t}\n\n\t/**\n\t * Returns search options for sifter (the system\n\t * for scoring and sorting results).\n\t *\n\t * @see https://github.com/orchidjs/sifter.js\n\t * @return {object}\n\t */\n\tgetSearchOptions() {\n\t\tvar settings = this.settings;\n\t\tvar sort = settings.sortField;\n\t\tif (typeof settings.sortField === 'string') {\n\t\t\tsort = [{field: settings.sortField}];\n\t\t}\n\n\t\treturn {\n\t\t\tfields      : settings.searchField,\n\t\t\tconjunction : settings.searchConjunction,\n\t\t\tsort        : sort,\n\t\t\tnesting     : settings.nesting\n\t\t};\n\t}\n\n\t/**\n\t * Searches through available options and returns\n\t * a sorted array of matches.\n\t *\n\t */\n\tsearch(query:string) : ReturnType<Sifter['search']>{\n\t\tvar result, calculateScore;\n\t\tvar self     = this;\n\t\tvar options  = this.getSearchOptions();\n\n\t\t// validate user-provided result scoring function\n\t\tif ( self.settings.score ){\n\t\t\tcalculateScore = self.settings.score.call(self,query);\n\t\t\tif (typeof calculateScore !== 'function') {\n\t\t\t\tthrow new Error('Tom Select \"score\" setting must be a function that returns a function');\n\t\t\t}\n\t\t}\n\n\t\t// perform search\n\t\tif (query !== self.lastQuery) {\n\t\t\tself.lastQuery\t\t\t= query;\n\t\t\tresult\t\t\t\t\t= self.sifter.search(query, Object.assign(options, {score: calculateScore}));\n\t\t\tself.currentResults\t\t= result;\n\t\t} else {\n\t\t\tresult\t\t\t\t\t= Object.assign( {}, self.currentResults);\n\t\t}\n\n\t\t// filter out selected items\n\t\tif( self.settings.hideSelected ){\n\t\t\tresult.items = result.items.filter((item) => {\n\t\t\t\tlet hashed = hash_key(item.id);\n\t\t\t\treturn !(hashed && self.items.indexOf(hashed) !== -1 );\n\t\t\t});\n\t\t}\n\n\t\treturn result;\n\t}\n\n\t/**\n\t * Refreshes the list of available options shown\n\t * in the autocomplete dropdown menu.\n\t *\n\t */\n\trefreshOptions( triggerDropdown:boolean = true ){\n\t\tvar i, j, k, n, optgroup, optgroups, html:DocumentFragment, has_create_option, active_group;\n\t\tvar create;\n\n\t\ttype Group = {fragment:DocumentFragment,order:number,optgroup:string}\n\t\tconst groups: {[key:string]:number} = {};\n\t\tconst groups_order:Group[]\t= [];\n\n\t\tvar self\t\t\t\t\t= this;\n\t\tvar query\t\t\t\t\t= self.inputValue();\n\t\tconst same_query\t\t\t= query === self.lastQuery || (query == '' && self.lastQuery == null);\n\t\tvar results\t\t\t\t\t= self.search(query);\n\t\tvar active_option:HTMLElement|null = null;\n\t\tvar show_dropdown\t\t\t= self.settings.shouldOpen || false;\n\t\tvar dropdown_content\t\t= self.dropdown_content;\n\n\n\t\tif( same_query ){\n\t\t\tactive_option\t\t\t= self.activeOption;\n\n\t\t\tif( active_option ){\n\t\t\t\tactive_group = active_option.closest('[data-group]') as HTMLElement;\n\t\t\t}\n\t\t}\n\n\t\t// build markup\n\t\tn = results.items.length;\n\t\tif (typeof self.settings.maxOptions === 'number') {\n\t\t\tn = Math.min(n, self.settings.maxOptions);\n\t\t}\n\n\t\tif( n > 0 ){\n\t\t\tshow_dropdown = true;\n\t\t}\n\n\t\t// get fragment for group and the position of the group in group_order\n\t\tconst getGroupFragment = (optgroup:string,order:number):[number,DocumentFragment] => {\n\n\t\t\tlet group_order_i = groups[optgroup];\n\n\t\t\tif( group_order_i !== undefined ){\n\t\t\t\tlet order_group = groups_order[group_order_i];\n\t\t\t\tif( order_group !== undefined ){\n\t\t\t\t\treturn [group_order_i,order_group.fragment];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tlet group_fragment = document.createDocumentFragment();\n\t\t\tgroup_order_i = groups_order.length;\n\t\t\tgroups_order.push({fragment:group_fragment,order,optgroup});\n\n\t\t\treturn [group_order_i,group_fragment]\n\t\t}\n\n\t\t// render and group available options individually\n\t\tfor (i = 0; i < n; i++) {\n\n\t\t\t// get option dom element\n\t\t\tlet item\t\t\t= results.items[i];\n\t\t\tif( !item ) continue;\n\n\t\t\tlet opt_value\t\t= item.id;\n\t\t\tlet option\t\t\t= self.options[opt_value];\n\n\t\t\tif( option === undefined ) continue;\n\n\t\t\tlet opt_hash\t\t= get_hash(opt_value);\n\t\t\tlet option_el\t\t= self.getOption(opt_hash,true) as HTMLElement;\n\n\t\t\t// toggle 'selected' class\n\t\t\tif( !self.settings.hideSelected ){\n\t\t\t\toption_el.classList.toggle('selected', self.items.includes(opt_hash) );\n\t\t\t}\n\n\t\t\toptgroup    = option[self.settings.optgroupField] || '';\n\t\t\toptgroups   = Array.isArray(optgroup) ? optgroup : [optgroup];\n\t\t\t\n\n\t\t\tfor (j = 0, k = optgroups && optgroups.length; j < k; j++) {\n\t\t\t\toptgroup = optgroups[j];\n\n\t\t\t\tlet order = option.$order;\n\t\t\t\tlet self_optgroup = self.optgroups[optgroup];\n\t\t\t\tif( self_optgroup === undefined ){\t\t\t\t\t\n\t\t\t\t\toptgroup = '';\n\t\t\t\t}else{\n\t\t\t\t\torder = self_optgroup.$order;\n\t\t\t\t}\n\n\t\t\t\tconst [group_order_i,group_fragment] = getGroupFragment(optgroup,order);\n\n\n\t\t\t\t// nodes can only have one parent, so if the option is in mutple groups, we need a clone\n\t\t\t\tif( j > 0 ){\n\t\t\t\t\toption_el = option_el.cloneNode(true) as HTMLElement;\n\t\t\t\t\tsetAttr(option_el,{id: option.$id+'-clone-'+j,'aria-selected':null});\n\t\t\t\t\toption_el.classList.add('ts-cloned');\n\t\t\t\t\tremoveClasses(option_el,'active');\n\n\n\t\t\t\t\t// make sure we keep the activeOption in the same group\n\t\t\t\t\tif( self.activeOption && self.activeOption.dataset.value == opt_value ){\n\t\t\t\t\t\tif( active_group && active_group.dataset.group === optgroup.toString() ){\n\t\t\t\t\t\t\tactive_option = option_el;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\t\n\t\t\t\t\n\t\t\t\tgroup_fragment.appendChild(option_el);\n\t\t\t\tif( optgroup != '' ){\n\t\t\t\t\tgroups[optgroup] = group_order_i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// sort optgroups\n\t\tif( self.settings.lockOptgroupOrder ){\n\t\t\tgroups_order.sort((a, b) => {\n\t\t\t\treturn a.order - b.order;\n\t\t\t});\n\t\t}\n\n\t\t// render optgroup headers & join groups\n\t\thtml = document.createDocumentFragment();\n\t\titerate( groups_order, (group_order:Group) => {\n\n\t\t\tlet group_fragment = group_order.fragment;\n\t\t\tlet optgroup = group_order.optgroup\n\n\t\t\tif( !group_fragment || !group_fragment.children.length ) return;\n\n\t\t\tlet group_heading = self.optgroups[optgroup];\n\n\t\t\tif( group_heading !== undefined ){\n\n\t\t\t\tlet group_options = document.createDocumentFragment();\n\t\t\t\tlet header = self.render('optgroup_header', group_heading);\n\t\t\t\tappend( group_options, header );\n\t\t\t\tappend( group_options, group_fragment );\n\n\t\t\t\tlet group_html = self.render('optgroup', {group:group_heading,options:group_options} );\n\n\t\t\t\tappend( html, group_html );\n\n\t\t\t} else {\n\t\t\t\tappend( html, group_fragment );\n\t\t\t}\n\t\t});\n\n\t\tdropdown_content.innerHTML = '';\n\t\tappend( dropdown_content, html );\n\n\t\t// highlight matching terms inline\n\t\tif (self.settings.highlight) {\n\t\t\tremoveHighlight( dropdown_content );\n\t\t\tif (results.query.length && results.tokens.length) {\n\t\t\t\titerate( results.tokens, (tok) => {\n\t\t\t\t\thighlight( dropdown_content, tok.regex);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\t// helper method for adding templates to dropdown\n\t\tvar add_template = (template:TomTemplateNames) => {\n\t\t\tlet content = self.render(template,{input:query});\n\t\t\tif( content ){\n\t\t\t\tshow_dropdown = true;\n\t\t\t\tdropdown_content.insertBefore(content, dropdown_content.firstChild);\n\t\t\t}\n\t\t\treturn content;\n\t\t};\n\n\n\t\t// add loading message\n\t\tif( self.loading ){\n\t\t\tadd_template('loading');\n\n\t\t// invalid query\n\t\t}else if( !self.settings.shouldLoad.call(self,query) ){\n\t\t\tadd_template('not_loading');\n\n\t\t// add no_results message\n\t\t}else if( results.items.length === 0 ){\n\t\t\tadd_template('no_results');\n\n\t\t}\n\n\n\n\t\t// add create option\n\t\thas_create_option = self.canCreate(query);\n\t\tif (has_create_option) {\n\t\t\tcreate = add_template('option_create');\n\t\t}\n\n\n\t\t// activate\n\t\tself.hasOptions = results.items.length > 0 || has_create_option;\n\t\tif( show_dropdown ){\n\n\t\t\tif (results.items.length > 0) {\n\n\t\t\t\tif( !active_option && self.settings.mode === 'single' && self.items[0] != undefined ){\n\t\t\t\t\tactive_option = self.getOption(self.items[0]);\n\t\t\t\t}\n\n\t\t\t\tif( !dropdown_content.contains(active_option)  ){\n\n\t\t\t\t\tlet active_index = 0;\n\t\t\t\t\tif( create && !self.settings.addPrecedence ){\n\t\t\t\t\t\tactive_index = 1;\n\t\t\t\t\t}\n\t\t\t\t\tactive_option = self.selectable()[active_index] as HTMLElement;\n\t\t\t\t}\n\n\t\t\t}else if( create ){\n\t\t\t\tactive_option = create;\n\t\t\t}\n\n\t\t\tif( triggerDropdown && !self.isOpen ){\n\t\t\t\tself.open();\n\t\t\t\tself.scrollToOption(active_option,'auto');\n\t\t\t}\n\t\t\tself.setActiveOption(active_option);\n\n\t\t}else{\n\t\t\tself.clearActiveOption();\n\t\t\tif( triggerDropdown && self.isOpen ){\n\t\t\t\tself.close(false); // if create_option=null, we want the dropdown to close but not reset the textbox value\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Return list of selectable options\n\t *\n\t */\n\tselectable():NodeList{\n\t\treturn this.dropdown_content.querySelectorAll('[data-selectable]');\n\t}\n\n\n\n\t/**\n\t * Adds an available option. If it already exists,\n\t * nothing will happen. Note: this does not refresh\n\t * the options list dropdown (use `refreshOptions`\n\t * for that).\n\t *\n\t * Usage:\n\t *\n\t *   this.addOption(data)\n\t *\n\t */\n\taddOption( data:TomOption, user_created = false ):false|string {\n\t\tconst self = this;\n\n\t\t// @deprecated 1.7.7\n\t\t// use addOptions( array, user_created ) for adding multiple options\n\t\tif( Array.isArray(data) ){\n\t\t\tself.addOptions( data, user_created);\n\t\t\treturn false;\n\t\t}\n\n\t\tconst key = hash_key(data[self.settings.valueField]);\n\t\tif( key === null || self.options.hasOwnProperty(key) ){\n\t\t\treturn false;\n\t\t}\n\n\t\tdata.$order\t\t\t= data.$order || ++self.order;\n\t\tdata.$id\t\t\t= self.inputId + '-opt-' + data.$order;\n\t\tself.options[key]\t= data;\n\t\tself.lastQuery\t\t= null;\n\n\t\tif( user_created ){\n\t\t\tself.userOptions[key] = user_created;\n\t\t\tself.trigger('option_add', key, data);\n\t\t}\n\n\t\treturn key;\n\t}\n\n\t/**\n\t * Add multiple options\n\t *\n\t */\n\taddOptions( data:TomOption[], user_created = false ):void{\n\t\titerate( data, (dat:TomOption) => {\n\t\t\tthis.addOption(dat, user_created);\n\t\t});\n\t}\n\n\t/**\n\t * @deprecated 1.7.7\n\t */\n\tregisterOption( data:TomOption ):false|string {\n\t\treturn this.addOption(data);\n\t}\n\n\t/**\n\t * Registers an option group to the pool of option groups.\n\t *\n\t * @return {boolean|string}\n\t */\n\tregisterOptionGroup(data:TomOption) {\n\t\tvar key = hash_key(data[this.settings.optgroupValueField]);\n\n\t\tif ( key === null ) return false;\n\n\t\tdata.$order = data.$order || ++this.order;\n\t\tthis.optgroups[key] = data;\n\t\treturn key;\n\t}\n\n\t/**\n\t * Registers a new optgroup for options\n\t * to be bucketed into.\n\t *\n\t */\n\taddOptionGroup(id:string, data:TomOption) {\n\t\tvar hashed_id;\n\t\tdata[this.settings.optgroupValueField] = id;\n\n\t\tif( hashed_id = this.registerOptionGroup(data) ){\n\t\t\tthis.trigger('optgroup_add', hashed_id, data);\n\t\t}\n\t}\n\n\t/**\n\t * Removes an existing option group.\n\t *\n\t */\n\tremoveOptionGroup(id:string) {\n\t\tif (this.optgroups.hasOwnProperty(id)) {\n\t\t\tdelete this.optgroups[id];\n\t\t\tthis.clearCache();\n\t\t\tthis.trigger('optgroup_remove', id);\n\t\t}\n\t}\n\n\t/**\n\t * Clears all existing option groups.\n\t */\n\tclearOptionGroups() {\n\t\tthis.optgroups = {};\n\t\tthis.clearCache();\n\t\tthis.trigger('optgroup_clear');\n\t}\n\n\t/**\n\t * Updates an option available for selection. If\n\t * it is visible in the selected items or options\n\t * dropdown, it will be re-rendered automatically.\n\t *\n\t */\n\tupdateOption(value:string, data:TomOption) {\n\t\tconst self = this;\n\t\tvar item_new;\n\t\tvar index_item;\n\n\t\tconst value_old\t\t= hash_key(value);\n\t\tconst value_new\t\t= hash_key(data[self.settings.valueField]);\n\n\t\t// sanity checks\n\t\tif( value_old === null ) return;\n\n\t\tconst data_old\t\t= self.options[value_old];\n\n\t\tif( data_old == undefined ) return;\n\t\tif( typeof value_new !== 'string' ) throw new Error('Value must be set in option data');\n\n\n\t\tconst option\t\t= self.getOption(value_old);\n\t\tconst item\t\t\t= self.getItem(value_old);\n\n\n\t\tdata.$order = data.$order || data_old.$order;\n\t\tdelete self.options[value_old];\n\n\t\t// invalidate render cache\n\t\t// don't remove existing node yet, we'll remove it after replacing it\n\t\tself.uncacheValue(value_new);\n\n\t\tself.options[value_new] = data;\n\n\t\t// update the option if it's in the dropdown\n\t\tif( option ){\n\t\t\tif( self.dropdown_content.contains(option) ){\n\n\t\t\t\tconst option_new\t= self._render('option', data);\n\t\t\t\treplaceNode(option, option_new);\n\n\t\t\t\tif( self.activeOption === option ){\n\t\t\t\t\tself.setActiveOption(option_new);\n\t\t\t\t}\n\t\t\t}\n\t\t\toption.remove();\n\t\t}\n\n\t\t// update the item if we have one\n\t\tif( item ){\n\t\t\tindex_item = self.items.indexOf(value_old);\n\t\t\tif (index_item !== -1) {\n\t\t\t\tself.items.splice(index_item, 1, value_new);\n\t\t\t}\n\n\t\t\titem_new\t= self._render('item', data);\n\n\t\t\tif( item.classList.contains('active') ) addClasses(item_new,'active');\n\n\t\t\treplaceNode( item, item_new);\n\t\t}\n\n\t\t// invalidate last query because we might have updated the sortField\n\t\tself.lastQuery = null;\n\t}\n\n\t/**\n\t * Removes a single option.\n\t *\n\t */\n\tremoveOption(value:string, silent?:boolean):void {\n\t\tconst self = this;\n\t\tvalue = get_hash(value);\n\n\t\tself.uncacheValue(value);\n\n\t\tdelete self.userOptions[value];\n\t\tdelete self.options[value];\n\t\tself.lastQuery = null;\n\t\tself.trigger('option_remove', value);\n\t\tself.removeItem(value, silent);\n\t}\n\n\t/**\n\t * Clears all options.\n\t */\n\tclearOptions(filter?:TomClearFilter ) {\n\n\t\tconst boundFilter = (filter || this.clearFilter).bind(this);\n\n\t\tthis.loadedSearches\t\t= {};\n\t\tthis.userOptions\t\t= {};\n\t\tthis.clearCache();\n\n\t\tconst selected:TomOptions\t= {};\n\t\titerate(this.options,(option:TomOption,key:string)=>{\n\t\t\tif( boundFilter(option,key as string) ){\n\t\t\t\tselected[key] = option;\n\t\t\t}\n\t\t});\n\n\t\tthis.options = this.sifter.items = selected;\n\t\tthis.lastQuery = null;\n\t\tthis.trigger('option_clear');\n\t}\n\n\t/**\n\t * Used by clearOptions() to decide whether or not an option should be removed\n\t * Return true to keep an option, false to remove\n\t *\n\t */\n\tclearFilter(option:TomOption,value:string){\n\t\tif( this.items.indexOf(value) >= 0 ){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Returns the dom element of the option\n\t * matching the given value.\n\t *\n\t */\n\tgetOption(value:undefined|null|boolean|string|number, create:boolean=false):null|HTMLElement {\n\n\t\tconst hashed = hash_key(value);\n\t\tif( hashed === null ) return null;\n\n\t\tconst option = this.options[hashed];\n\t\tif( option != undefined ){\n\n\t\t\tif( option.$div ){\n\t\t\t\treturn option.$div;\n\t\t\t}\n\n\t\t\tif( create ){\n\t\t\t\treturn this._render('option', option);\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n\n\t/**\n\t * Returns the dom element of the next or previous dom element of the same type\n\t * Note: adjacent options may not be adjacent DOM elements (optgroups)\n\t *\n\t */\n\tgetAdjacent( option:null|HTMLElement, direction:number, type:string = 'option' ) : HTMLElement|null{\n\t\tvar self = this, all;\n\n\t\tif( !option ){\n\t\t\treturn null;\n\t\t}\n\n\t\tif( type == 'item' ){\n\t\t\tall\t\t\t= self.controlChildren();\n\t\t}else{\n\t\t\tall\t\t\t= self.dropdown_content.querySelectorAll('[data-selectable]');\n\t\t}\n\n\t\tfor( let i = 0; i < all.length; i++ ){\n\t\t\tif( all[i] != option ){\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif( direction > 0 ){\n\t\t\t\treturn all[i+1] as HTMLElement;\n\t\t\t}\n\n\t\t\treturn all[i-1] as HTMLElement;\n\t\t}\n\t\treturn null;\n\t}\n\n\n\t/**\n\t * Returns the dom element of the item\n\t * matching the given value.\n\t *\n\t */\n\tgetItem(item:string|TomItem|null):null|TomItem {\n\n\t\tif( typeof item == 'object' ){\n\t\t\treturn item;\n\t\t}\n\n\t\tvar value = hash_key(item);\n\t\treturn value !== null\n\t\t\t? this.control.querySelector(`[data-value=\"${addSlashes(value)}\"]`)\n\t\t\t: null;\n\t}\n\n\t/**\n\t * \"Selects\" multiple items at once. Adds them to the list\n\t * at the current caret position.\n\t *\n\t */\n\taddItems( values:string|string[], silent?:boolean ):void{\n\t\tvar self = this;\n\n\t\tvar items = Array.isArray(values) ? values : [values];\n\t\titems = items.filter(x => self.items.indexOf(x) === -1);\n\t\tconst last_item = items[items.length - 1];\n\t\titems.forEach(item => {\n\t\t\tself.isPending = (item !== last_item);\n\t\t\tself.addItem(item, silent);\n\t\t});\n\t}\n\n\t/**\n\t * \"Selects\" an item. Adds it to the list\n\t * at the current caret position.\n\t *\n\t */\n\taddItem( value:string, silent?:boolean ):void{\n\t\tvar events = silent ? [] : ['change','dropdown_close'];\n\n\t\tdebounce_events(this, events, () => {\n\t\t\tvar item, wasFull;\n\t\t\tconst self = this;\n\t\t \tconst inputMode = self.settings.mode;\n\t\t\tconst hashed = hash_key(value);\n\n\t\t\tif( hashed && self.items.indexOf(hashed) !== -1 ){\n\n\t\t\t\tif( inputMode === 'single' ){\n\t\t\t\t\tself.close();\n\t\t\t\t}\n\n\t\t\t\tif( inputMode === 'single' || !self.settings.duplicates ){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (hashed === null || !self.options.hasOwnProperty(hashed)) return;\n\t\t\tif (inputMode === 'single') self.clear(silent);\n\t\t\tif (inputMode === 'multi' && self.isFull()) return;\n\n\t\t\titem = self._render('item', self.options[hashed]);\n\n\t\t\tif( self.control.contains(item) ){ // duplicates\n\t\t\t\titem = item.cloneNode(true) as HTMLElement;\n\t\t\t}\n\n\t\t\twasFull = self.isFull();\n\t\t\tself.items.splice(self.caretPos, 0, hashed);\n\t\t\tself.insertAtCaret(item);\n\n\t\t\tif (self.isSetup) {\n\n\t\t\t\t// update menu / remove the option (if this is not one item being added as part of series)\n\t\t\t\tif( !self.isPending && self.settings.hideSelected ){\n\t\t\t\t\tlet option = self.getOption(hashed);\n\t\t\t\t\tlet next = self.getAdjacent(option, 1);\n\t\t\t\t\tif( next ){\n\t\t\t\t\t\tself.setActiveOption(next);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// refreshOptions after setActiveOption(),\n\t\t\t\t// otherwise setActiveOption() will be called by refreshOptions() with the wrong value\n\t\t\t\tif( !self.isPending && !self.settings.closeAfterSelect ){\n\t\t\t\t\tself.refreshOptions(self.isFocused && inputMode !== 'single');\n\t\t\t\t}\n\n\t\t\t\t// hide the menu if the maximum number of items have been selected or no options are left\n\t\t\t\tif( self.settings.closeAfterSelect != false && self.isFull() ){\n\t\t\t\t\tself.close();\n\t\t\t\t} else if (!self.isPending) {\n\t\t\t\t\tself.positionDropdown();\n\t\t\t\t}\n\n\t\t\t\tself.trigger('item_add', hashed, item);\n\n\t\t\t\tif (!self.isPending) {\n\t\t\t\t\tself.updateOriginalInput({silent: silent});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!self.isPending || (!wasFull && self.isFull())) {\n\t\t\t\tself.inputState();\n\t\t\t\tself.refreshState();\n\t\t\t}\n\n\t\t});\n\t}\n\n\t/**\n\t * Removes the selected item matching\n\t * the provided value.\n\t *\n\t */\n\tremoveItem( item:string|TomItem|null=null, silent?:boolean ){\n\t\tconst self\t\t= this;\n\t\titem\t\t\t= self.getItem(item);\n\n\t\tif( !item ) return;\n\n\t\tvar i,idx;\n\t\tconst value\t= item.dataset.value;\n\t\ti = nodeIndex(item);\n\n\t\titem.remove();\n\t\tif( item.classList.contains('active') ){\n\t\t\tidx = self.activeItems.indexOf(item);\n\t\t\tself.activeItems.splice(idx, 1);\n\t\t\tremoveClasses(item,'active');\n\t\t}\n\n\t\tself.items.splice(i, 1);\n\t\tself.lastQuery = null;\n\t\tif (!self.settings.persist && self.userOptions.hasOwnProperty(value)) {\n\t\t\tself.removeOption(value, silent);\n\t\t}\n\n\t\tif (i < self.caretPos) {\n\t\t\tself.setCaret(self.caretPos - 1);\n\t\t}\n\n\t\tself.updateOriginalInput({silent: silent});\n\t\tself.refreshState();\n\t\tself.positionDropdown();\n\t\tself.trigger('item_remove', value, item);\n\n\t}\n\n\t/**\n\t * Invokes the `create` method provided in the\n\t * TomSelect options that should provide the data\n\t * for the new item, given the user input.\n\t *\n\t * Once this completes, it will be added\n\t * to the item list.\n\t *\n\t */\n\tcreateItem( input:null|string=null, callback:TomCreateCallback = ()=>{} ):boolean{\n\n\t\t// triggerDropdown parameter @deprecated 2.1.1\n\t\tif( arguments.length === 3 ){\n\t\t\tcallback = arguments[2];\n\t\t}\n\t\tif( typeof callback != 'function' ){\n\t\t\tcallback = () => {};\n\t\t}\n\n\t\tvar self  = this;\n\t\tvar caret = self.caretPos;\n\t\tvar output;\n\t\tinput = input || self.inputValue();\n\n\t\tif (!self.canCreate(input)) {\n\t\t\tcallback();\n\t\t\treturn false;\n\t\t}\n\n\t\tself.lock();\n\n\t\tvar created = false;\n\t\tvar create = (data?:boolean|TomOption) => {\n\t\t\tself.unlock();\n\n\t\t\tif (!data || typeof data !== 'object') return callback();\n\t\t\tvar value = hash_key(data[self.settings.valueField]);\n\t\t\tif( typeof value !== 'string' ){\n\t\t\t\treturn callback();\n\t\t\t}\n\n\t\t\tself.setTextboxValue();\n\t\t\tself.addOption(data,true);\n\t\t\tself.setCaret(caret);\n\t\t\tself.addItem(value);\n\t\t\tcallback(data);\n\t\t\tcreated = true;\n\t\t};\n\n\t\tif( typeof self.settings.create === 'function' ){\n\t\t\toutput = self.settings.create.call(this, input, create);\n\t\t}else{\n\t\t\toutput = {\n\t\t\t\t[self.settings.labelField]: input,\n\t\t\t\t[self.settings.valueField]: input,\n\t\t\t};\n\t\t}\n\n\t\tif( !created ){\n\t\t\tcreate(output);\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Re-renders the selected item lists.\n\t */\n\trefreshItems() {\n\t\tvar self = this;\n\t\tself.lastQuery = null;\n\n\t\tif (self.isSetup) {\n\t\t\tself.addItems(self.items);\n\t\t}\n\n\t\tself.updateOriginalInput();\n\t\tself.refreshState();\n\t}\n\n\t/**\n\t * Updates all state-dependent attributes\n\t * and CSS classes.\n\t */\n\trefreshState() {\n\t\tconst self     = this;\n\n\t\tself.refreshValidityState();\n\n\t\tconst isFull\t= self.isFull();\n\t\tconst isLocked\t= self.isLocked;\n\n\t\tself.wrapper.classList.toggle('rtl',self.rtl);\n\n\n\t\tconst wrap_classList = self.wrapper.classList;\n\n\t\twrap_classList.toggle('focus', self.isFocused)\n\t\twrap_classList.toggle('disabled', self.isDisabled)\n\t\twrap_classList.toggle('readonly', self.isReadOnly)\n\t\twrap_classList.toggle('required', self.isRequired)\n\t\twrap_classList.toggle('invalid', !self.isValid)\n\t\twrap_classList.toggle('locked', isLocked)\n\t\twrap_classList.toggle('full', isFull)\n\t\twrap_classList.toggle('input-active', self.isFocused && !self.isInputHidden)\n\t\twrap_classList.toggle('dropdown-active', self.isOpen)\n\t\twrap_classList.toggle('has-options', isEmptyObject(self.options) )\n\t\twrap_classList.toggle('has-items', self.items.length > 0);\n\n\t}\n\n\n\t/**\n\t * Update the `required` attribute of both input and control input.\n\t *\n\t * The `required` property needs to be activated on the control input\n\t * for the error to be displayed at the right place. `required` also\n\t * needs to be temporarily deactivated on the input since the input is\n\t * hidden and can't show errors.\n\t */\n\trefreshValidityState() {\n\t\tvar self = this;\n\n\t\tif( !self.input.validity ){\n\t\t\treturn;\n\t\t}\n\n\t\tself.isValid = self.input.validity.valid;\n\t\tself.isInvalid = !self.isValid;\n\t}\n\n\t/**\n\t * Determines whether or not more items can be added\n\t * to the control without exceeding the user-defined maximum.\n\t *\n\t * @returns {boolean}\n\t */\n\tisFull() {\n\t\treturn this.settings.maxItems !== null && this.items.length >= this.settings.maxItems;\n\t}\n\n\t/**\n\t * Refreshes the original <select> or <input>\n\t * element to reflect the current state.\n\t *\n\t */\n\tupdateOriginalInput( opts:TomArgObject = {} ){\n\t\tconst self = this;\n\t\tvar option, label;\n\n\t\tconst empty_option = self.input.querySelector('option[value=\"\"]') as HTMLOptionElement;\n\n\t\tif( self.is_select_tag ){\n\n\t\t\tconst selected:HTMLOptionElement[]\t\t= [];\n\t\t\tconst has_selected:number\t\t\t\t= self.input.querySelectorAll('option:checked').length;\n\n\t\t\tfunction AddSelected(option_el:HTMLOptionElement|null, value:string, label:string):HTMLOptionElement{\n\n\t\t\t\tif( !option_el ){\n\t\t\t\t\toption_el = getDom('<option value=\"' + escape_html(value) + '\">' + escape_html(label) + '</option>') as HTMLOptionElement;\n\t\t\t\t}\n\n\t\t\t\t// don't move empty option from top of list\n\t\t\t\t// fixes bug in firefox https://bugzilla.mozilla.org/show_bug.cgi?id=1725293\n\t\t\t\tif( option_el != empty_option ){\n\t\t\t\t\tself.input.append(option_el);\n\t\t\t\t}\n\n\t\t\t\tselected.push(option_el);\n\n\t\t\t\t// marking empty option as selected can break validation\n\t\t\t\t// fixes https://github.com/orchidjs/tom-select/issues/303\n\t\t\t\tif( option_el != empty_option || has_selected > 0 ){\n\t\t\t\t\toption_el.selected = true;\n\t\t\t\t}\n\n\t\t\t\treturn option_el;\n\t\t\t}\n\n\t\t\t// unselect all selected options\n\t\t\tself.input.querySelectorAll('option:checked').forEach((option_el:Element) => {\n\t\t\t\t(<HTMLOptionElement>option_el).selected = false;\n\t\t\t});\n\n\n\t\t\t// nothing selected?\n\t\t\tif( self.items.length == 0 && self.settings.mode == 'single' ){\n\n\t\t\t\tAddSelected(empty_option, \"\", \"\");\n\n\t\t\t// order selected <option> tags for values in self.items\n\t\t\t}else{\n\n\t\t\t\tself.items.forEach((value)=>{\n\t\t\t\t\toption\t\t\t= self.options[value]!;\n\t\t\t\t\tlabel\t\t\t= option[self.settings.labelField] || '';\n\n\t\t\t\t\tif( selected.includes(option.$option) ){\n\t\t\t\t\t\tconst reuse_opt = self.input.querySelector(`option[value=\"${addSlashes(value)}\"]:not(:checked)`) as HTMLOptionElement;\n\t\t\t\t\t\tAddSelected(reuse_opt, value, label);\n\t\t\t\t\t}else{\n\t\t\t\t\t\toption.$option\t= AddSelected(option.$option, value, label);\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t}\n\n\t\t} else {\n\t\t\tself.input.value = self.getValue() as string;\n\t\t}\n\n\t\tif (self.isSetup) {\n\t\t\tif (!opts.silent) {\n\t\t\t\tself.trigger('change', self.getValue() );\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t * Shows the autocomplete dropdown containing\n\t * the available options.\n\t */\n\topen() {\n\t\tvar self = this;\n\n\t\tif (self.isLocked || self.isOpen || (self.settings.mode === 'multi' && self.isFull())) return;\n\t\tself.isOpen = true;\n\t\tsetAttr(self.focus_node,{'aria-expanded': 'true'});\n\t\tself.refreshState();\n\t\tapplyCSS(self.dropdown,{visibility: 'hidden', display: 'block'});\n\t\tself.positionDropdown();\n\t\tapplyCSS(self.dropdown,{visibility: 'visible', display: 'block'});\n\t\tself.focus();\n\t\tself.trigger('dropdown_open', self.dropdown);\n\t}\n\n\t/**\n\t * Closes the autocomplete dropdown menu.\n\t */\n\tclose(setTextboxValue=true) {\n\t\tvar self = this;\n\t\tvar trigger = self.isOpen;\n\n\t\tif( setTextboxValue ){\n\n\t\t\t// before blur() to prevent form onchange event\n\t\t\tself.setTextboxValue();\n\n\t\t\tif (self.settings.mode === 'single' && self.items.length) {\n\t\t\t\tself.inputState();\n\t\t\t}\n\t\t}\n\n\t\tself.isOpen = false;\n\t\tsetAttr(self.focus_node,{'aria-expanded': 'false'});\n\t\tapplyCSS(self.dropdown,{display: 'none'});\n\t\tif( self.settings.hideSelected ){\n\t\t\tself.clearActiveOption();\n\t\t}\n\t\tself.refreshState();\n\n\t\tif (trigger) self.trigger('dropdown_close', self.dropdown);\n\t}\n\n\t/**\n\t * Calculates and applies the appropriate\n\t * position of the dropdown if dropdownParent = 'body'.\n\t * Otherwise, position is determined by css\n\t */\n\tpositionDropdown(){\n\n\t\tif( this.settings.dropdownParent !== 'body' ){\n\t\t\treturn;\n\t\t}\n\n\t\tvar context\t\t\t= this.control;\n\t\tvar rect\t\t\t= context.getBoundingClientRect();\n\t\tvar top\t\t\t\t= context.offsetHeight + rect.top  + window.scrollY;\n\t\tvar left\t\t\t= rect.left + window.scrollX;\n\n\n\t\tapplyCSS(this.dropdown,{\n\t\t\twidth : rect.width + 'px',\n\t\t\ttop   : top + 'px',\n\t\t\tleft  : left + 'px'\n\t\t});\n\n\t}\n\n\t/**\n\t * Resets / clears all selected items\n\t * from the control.\n\t *\n\t */\n\tclear(silent?:boolean) {\n\t\tvar self = this;\n\n\t\tif (!self.items.length) return;\n\n\t\tvar items = self.controlChildren();\n\t\titerate(items,(item:TomItem)=>{\n\t\t\tself.removeItem(item,true);\n\t\t});\n\n\t\tself.inputState();\n\t\tif( !silent ) self.updateOriginalInput();\n\t\tself.trigger('clear');\n\t}\n\n\t/**\n\t * A helper method for inserting an element\n\t * at the current caret position.\n\t *\n\t */\n\tinsertAtCaret(el:HTMLElement) {\n\t\tconst self\t\t= this;\n\t\tconst caret\t\t= self.caretPos;\n\t\tconst target\t= self.control;\n\n\t\ttarget.insertBefore(el, target.children[caret] || null);\n\t\tself.setCaret(caret + 1);\n\t}\n\n\t/**\n\t * Removes the current selected item(s).\n\t *\n\t */\n\tdeleteSelection(e:KeyboardEvent):boolean {\n\t\tvar direction, selection, caret, tail;\n\t\tvar self = this;\n\n\t\tdirection = (e && e.keyCode === constants.KEY_BACKSPACE) ? -1 : 1;\n\t\tselection = getSelection(self.control_input);\n\n\n\t\t// determine items that will be removed\n\t\tconst rm_items:TomItem[]\t= [];\n\n\t\tif (self.activeItems.length) {\n\n\t\t\ttail = getTail(self.activeItems, direction);\n\t\t\tcaret = nodeIndex(tail);\n\n\t\t\tif (direction > 0) { caret++; }\n\n\t\t\titerate(self.activeItems, (item:TomItem) => rm_items.push(item) );\n\n\t\t} else if ((self.isFocused || self.settings.mode === 'single') && self.items.length) {\n\t\t\tconst items = self.controlChildren();\n\t\t\tlet rm_item;\n\t\t\tif( direction < 0 && selection.start === 0 && selection.length === 0 ){\n\t\t\t\trm_item = items[self.caretPos - 1];\n\n\t\t\t}else if( direction > 0 && selection.start === self.inputValue().length ){\n\t\t\t\trm_item = items[self.caretPos];\n\t\t\t}\n\n\t\t\tif( rm_item !== undefined ){\n\t\t\t\trm_items.push( rm_item );\n\t\t\t}\n\t\t}\n\n\t\tif( !self.shouldDelete(rm_items,e) ){\n\t\t\treturn false;\n\t\t}\n\n\t\tpreventDefault(e,true);\n\n\t\t// perform removal\n\t\tif (typeof caret !== 'undefined') {\n\t\t\tself.setCaret(caret);\n\t\t}\n\n\t\twhile( rm_items.length ){\n\t\t\tself.removeItem(rm_items.pop());\n\t\t}\n\n\t\tself.inputState();\n\t\tself.positionDropdown();\n\t\tself.refreshOptions(false);\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Return true if the items should be deleted\n\t */\n\tshouldDelete(items:TomItem[],evt:MouseEvent|KeyboardEvent){\n\n\t\tconst values = items.map(item => item.dataset.value);\n\n\t\t// allow the callback to abort\n\t\tif( !values.length || (typeof this.settings.onDelete === 'function' && this.settings.onDelete(values,evt) === false) ){\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t}\n\n\t/**\n\t * Selects the previous / next item (depending on the `direction` argument).\n\t *\n\t * > 0 - right\n\t * < 0 - left\n\t *\n\t */\n\tadvanceSelection(direction:number, e?:MouseEvent|KeyboardEvent) {\n\t\tvar last_active, adjacent, self = this;\n\n\t\tif (self.rtl) direction *= -1;\n\t\tif( self.inputValue().length ) return;\n\n\n\t\t// add or remove to active items\n\t\tif( isKeyDown(constants.KEY_SHORTCUT,e) || isKeyDown('shiftKey',e) ){\n\n\t\t\tlast_active\t\t\t= self.getLastActive(direction);\n\t\t\tif( last_active ){\n\n\t\t\t\tif( !last_active.classList.contains('active') ){\n\t\t\t\t\tadjacent\t\t\t= last_active;\n\t\t\t\t}else{\n\t\t\t\t\tadjacent\t\t\t= self.getAdjacent(last_active,direction,'item');\n\t\t\t\t}\n\n\t\t\t// if no active item, get items adjacent to the control input\n\t\t\t}else if( direction > 0 ){\n\t\t\t\tadjacent\t\t\t= self.control_input.nextElementSibling;\n\t\t\t}else{\n\t\t\t\tadjacent\t\t\t= self.control_input.previousElementSibling;\n\t\t\t}\n\n\n\t\t\tif( adjacent ){\n\t\t\t\tif( adjacent.classList.contains('active') ){\n\t\t\t\t\tself.removeActiveItem(last_active);\n\t\t\t\t}\n\t\t\t\tself.setActiveItemClass(adjacent); // mark as last_active !! after removeActiveItem() on last_active\n\t\t\t}\n\n\t\t// move caret to the left or right\n\t\t}else{\n\t\t\tself.moveCaret(direction);\n\t\t}\n\t}\n\n\tmoveCaret(direction:number){}\n\n\t/**\n\t * Get the last active item\n\t *\n\t */\n\tgetLastActive(direction?:number){\n\n\t\tlet last_active = this.control.querySelector('.last-active');\n\t\tif( last_active ){\n\t\t\treturn last_active;\n\t\t}\n\n\n\t\tvar result = this.control.querySelectorAll('.active');\n\t\tif( result ){\n\t\t\treturn getTail(result,direction);\n\t\t}\n\t}\n\n\n\t/**\n\t * Moves the caret to the specified index.\n\t *\n\t * The input must be moved by leaving it in place and moving the\n\t * siblings, due to the fact that focus cannot be restored once lost\n\t * on mobile webkit devices\n\t *\n\t */\n\tsetCaret(new_pos:number) {\n\t\tthis.caretPos = this.items.length;\n\t}\n\n\t/**\n\t * Return list of item dom elements\n\t *\n\t */\n\tcontrolChildren():TomItem[]{\n\t\treturn Array.from( this.control.querySelectorAll('[data-ts-item]') ) as TomItem[];\n\t}\n\n\t/**\n\t * Disables user input on the control. Used while\n\t * items are being asynchronously created.\n\t */\n\tlock() {\n\t\tthis.setLocked(true);\n\t}\n\n\t/**\n\t * Re-enables user input on the control.\n\t */\n\tunlock() {\n\t\tthis.setLocked(false);\n\t}\n\n\t/**\n\t * Disable or enable user input on the control\n\t */\n\tsetLocked( lock:boolean = this.isReadOnly || this.isDisabled ){\n\t\tthis.isLocked = lock;\n\t\tthis.refreshState();\n\t}\n\n\t/**\n\t * Disables user input on the control completely.\n\t * While disabled, it cannot receive focus.\n\t */\n\tdisable() {\n\t\tthis.setDisabled(true);\n\t\tthis.close();\n\t}\n\n\t/**\n\t * Enables the control so that it can respond\n\t * to focus and user input.\n\t */\n\tenable() {\n\t\tthis.setDisabled(false);\n\t}\n\n\tsetDisabled(disabled:boolean){\n\t\tthis.focus_node.tabIndex\t\t= disabled ? -1 : this.tabIndex;\n\t\tthis.isDisabled\t\t\t\t\t= disabled;\n\t\tthis.input.disabled\t\t\t\t= disabled;\n\t\tthis.control_input.disabled\t\t= disabled;\n\t\tthis.setLocked();\n\t}\n\n\tsetReadOnly(isReadOnly:boolean){\n\t\tthis.isReadOnly\t\t\t\t\t= isReadOnly;\n\t\tthis.input.readOnly\t\t\t\t= isReadOnly;\n\t\tthis.control_input.readOnly\t\t= isReadOnly;\n\t\tthis.setLocked();\n\t}\n\n\t/**\n\t * Completely destroys the control and\n\t * unbinds all event listeners so that it can\n\t * be garbage collected.\n\t */\n\tdestroy() {\n\t\tvar self = this;\n\t\tvar revertSettings = self.revertSettings;\n\n\t\tself.trigger('destroy');\n\t\tself.off();\n\t\tself.wrapper.remove();\n\t\tself.dropdown.remove();\n\n\t\tself.input.innerHTML = revertSettings.innerHTML;\n\t\tself.input.tabIndex = revertSettings.tabIndex;\n\n\t\tremoveClasses(self.input,'tomselected','ts-hidden-accessible');\n\n\t\tself._destroy();\n\n\t\tdelete self.input.tomselect;\n\t}\n\n\t/**\n\t * A helper method for rendering \"item\" and\n\t * \"option\" templates, given the data.\n\t *\n\t */\n\trender( templateName:TomTemplateNames, data?:any ):null|HTMLElement{\n\t\tvar id, html;\n\t\tconst self = this;\n\n\t\tif( typeof this.settings.render[templateName] !== 'function' ){\n\t\t\treturn null;\n\t\t}\n\n\t\t// render markup\n\t\thtml = self.settings.render[templateName].call(this, data, escape_html);\n\n\t\tif( !html ){\n\t\t\treturn null;\n\t\t}\n\n\t\thtml = getDom( html );\n\n\t\t// add mandatory attributes\n\t\tif (templateName === 'option' || templateName === 'option_create') {\n\n\t\t\tif( data[self.settings.disabledField] ){\n\t\t\t\tsetAttr(html,{'aria-disabled':'true'});\n\t\t\t}else{\n\t\t\t\tsetAttr(html,{'data-selectable': ''});\n\t\t\t}\n\n\t\t}else if (templateName === 'optgroup') {\n\t\t\tid = data.group[self.settings.optgroupValueField];\n\t\t\tsetAttr(html,{'data-group': id});\n\t\t\tif(data.group[self.settings.disabledField]) {\n\t\t\t\tsetAttr(html,{'data-disabled': ''});\n\t\t\t}\n\t\t}\n\n\t\tif (templateName === 'option' || templateName === 'item') {\n\t\t\tconst value\t= get_hash(data[self.settings.valueField]);\n\t\t\tsetAttr(html,{'data-value': value });\n\n\n\t\t\t// make sure we have some classes if a template is overwritten\n\t\t\tif( templateName === 'item' ){\n\t\t\t\taddClasses(html,self.settings.itemClass);\n\t\t\t\tsetAttr(html,{'data-ts-item':''});\n\t\t\t}else{\n\t\t\t\taddClasses(html,self.settings.optionClass);\n\t\t\t\tsetAttr(html,{\n\t\t\t\t\trole:'option',\n\t\t\t\t\tid:data.$id\n\t\t\t\t});\n\n\t\t\t\t// update cache\n\t\t\t\tdata.$div = html;\n\t\t\t\tself.options[value] = data;\n\t\t\t}\n\n\n\t\t}\n\n\t\treturn html;\n\n\t}\n\n\n\t/**\n\t * Type guarded rendering\n\t *\n\t */\n\t_render( templateName:TomTemplateNames, data?:any ):HTMLElement{\n\t\tconst html = this.render(templateName, data);\n\n\t\tif( html == null ){\n\t\t\tthrow 'HTMLElement expected';\n\t\t}\n\t\treturn html;\n\t}\n\n\n\t/**\n\t * Clears the render cache for a template. If\n\t * no template is given, clears all render\n\t * caches.\n\t *\n\t */\n\tclearCache():void{\n\n\t\titerate(this.options, (option:TomOption)=>{\n\t\t\tif( option.$div ){\n\t\t\t\toption.$div.remove();\n\t\t\t\tdelete option.$div;\n\t\t\t}\n\t\t});\n\n\t}\n\n\t/**\n\t * Removes a value from item and option caches\n\t *\n\t */\n\tuncacheValue(value:string){\n\n\t\tconst option_el\t\t\t= this.getOption(value);\n\t\tif( option_el ) option_el.remove();\n\n\t}\n\n\t/**\n\t * Determines whether or not to display the\n\t * create item prompt, given a user input.\n\t *\n\t */\n\tcanCreate( input:string ):boolean {\n\t\treturn this.settings.create && (input.length > 0) && (this.settings.createFilter as TomCreateFilter ).call(this, input);\n\t}\n\n\n\t/**\n\t * Wraps this.`method` so that `new_fn` can be invoked 'before', 'after', or 'instead' of the original method\n\t *\n\t * this.hook('instead','onKeyDown',function( arg1, arg2 ...){\n\t *\n\t * });\n\t */\n\thook( when:string, method:string, new_fn:any ){\n\t\tvar self = this;\n\t\tvar orig_method = self[method];\n\n\n\t\tself[method] = function(){\n\t\t\tvar result, result_new;\n\n\t\t\tif( when === 'after' ){\n\t\t\t\tresult = orig_method.apply(self, arguments);\n\t\t\t}\n\n\t\t\tresult_new = new_fn.apply(self, arguments );\n\n\t\t\tif( when === 'instead' ){\n\t\t\t\treturn result_new;\n\t\t\t}\n\n\t\t\tif( when === 'before' ){\n\t\t\t\tresult = orig_method.apply(self, arguments);\n\t\t\t}\n\n\t\t\treturn result;\n\t\t};\n\n\t}\n\n};\n", "/**\n * Plugin: \"change_listener\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { addEvent } from '../../utils';\n\nexport default function(this:TomSelect) {\n\taddEvent(this.input,'change',()=>{\n\t\tthis.sync();\n\t});\n};\n", "/**\n * Plugin: \"checkbox_options\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { preventDefault, hash_key } from '../../utils';\nimport { getDom } from '../../vanilla';\nimport { CBOptions } from './types';\n\n\nexport default function(this:TomSelect, userOptions:CBOptions) {\n\tvar self = this;\n\tvar orig_onOptionSelect = self.onOptionSelect;\n\n\tself.settings.hideSelected = false;\n\n\tconst cbOptions : CBOptions = Object.assign({\n\t\t// so that the user may add different ones as well\n\t\tclassName             : \"tomselect-checkbox\",\n\n\t\t// the following default to the historic plugin's values\n\t\tcheckedClassNames     : undefined,\n\t\tuncheckedClassNames   : undefined,\n\t}, userOptions);\n\n\n\tvar UpdateChecked = function(checkbox:HTMLInputElement, toCheck : boolean) {\n\t\tif( toCheck ){\n\t\t\tcheckbox.checked = true;\n\t\t\tif (cbOptions.uncheckedClassNames) {\n\t\t\t\tcheckbox.classList.remove(...cbOptions.uncheckedClassNames);\n\t\t\t}\n\t\t\tif (cbOptions.checkedClassNames) {\n\t\t\t\tcheckbox.classList.add(...cbOptions.checkedClassNames);\n\t\t\t}\n\t\t}else{\n\t\t\tcheckbox.checked = false;\n\t\t\tif (cbOptions.checkedClassNames) {\n\t\t\t\tcheckbox.classList.remove(...cbOptions.checkedClassNames);\n\t\t\t}\n\t\t\tif (cbOptions.uncheckedClassNames) {\n\t\t\t\tcheckbox.classList.add(...cbOptions.uncheckedClassNames);\n\t\t\t}\n\t\t}\n\t}\n\n\t// update the checkbox for an option\n\tvar UpdateCheckbox = function(option:HTMLElement){\n\t\tsetTimeout(()=>{\n\t\t\tvar checkbox = option.querySelector('input.' + cbOptions.className);\n\t\t\tif( checkbox instanceof HTMLInputElement ){\n\t\t\t\tUpdateChecked(checkbox, option.classList.contains('selected'));\n\t\t\t}\n\t\t},1);\n\t};\n\n\t// add checkbox to option template\n\tself.hook('after','setupTemplates',() => {\n\n\t\tvar orig_render_option = self.settings.render.option;\n\n\t\tself.settings.render.option = (data, escape_html) => {\n\t\t\tvar rendered = getDom(orig_render_option.call(self, data, escape_html));\n\t\t\tvar checkbox = document.createElement('input');\n\t\t\tif (cbOptions.className) {\n\t\t\t\tcheckbox.classList.add(cbOptions.className);\n\t\t\t}\n\t\t\tcheckbox.addEventListener('click',function(evt){\n\t\t\t\tpreventDefault(evt);\n\t\t\t});\n\n\t\t\tcheckbox.type = 'checkbox';\n\t\t\tconst hashed = hash_key(data[self.settings.valueField]);\n\n\t\t\tUpdateChecked(checkbox, !!(hashed && self.items.indexOf(hashed) > -1) );\n\n\t\t\trendered.prepend(checkbox);\n\t\t\treturn rendered;\n\t\t};\n\t});\n\n\t// uncheck when item removed\n\tself.on('item_remove',(value:string) => {\n\t\tvar option = self.getOption(value);\n\n\t\tif( option ){ // if dropdown hasn't been opened yet, the option won't exist\n\t\t\toption.classList.remove('selected'); // selected class won't be removed yet\n\t\t\tUpdateCheckbox(option);\n\t\t}\n\t});\n\n\t// check when item added\n\tself.on('item_add',(value:string) => {\n\t\tvar option = self.getOption(value);\n\n\t\tif( option ){ // if dropdown hasn't been opened yet, the option won't exist\n\t\t\tUpdateCheckbox(option);\n\t\t}\n\t});\n\n\n\t// remove items when selected option is clicked\n\tself.hook('instead','onOptionSelect',( evt:KeyboardEvent, option:HTMLElement )=>{\n\n\t\tif( option.classList.contains('selected') ){\n\t\t\toption.classList.remove('selected')\n\t\t\tself.removeItem(option.dataset.value);\n\t\t\tself.refreshOptions();\n\t\t\tpreventDefault(evt,true);\n\t\t\treturn;\n        }\n\n\t\torig_onOptionSelect.call(self, evt, option);\n\n\t\tUpdateCheckbox(option);\n\t});\n\n};\n", "/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { getDom } from '../../vanilla';\nimport { CBOptions } from './types';\n\nexport default function(this:TomSelect, userOptions:CBOptions) {\n\tconst self = this;\n\n\tconst options = Object.assign({\n\t\tclassName: 'clear-button',\n\t\ttitle: 'Clear All',\n\t\thtml: (data:CBOptions) => {\n\t\t\treturn `<div class=\"${data.className}\" title=\"${data.title}\">&#10799;</div>`;\n\t\t}\n\t}, userOptions);\n\n\tself.on('initialize',()=>{\n\t\tvar button = getDom(options.html(options));\n\t\tbutton.addEventListener('click',(evt)=>{\n\n\t\t\tif( self.isLocked ) return;\n\n\t\t\tself.clear();\n\n\t\t\tif( self.settings.mode === 'single' && self.settings.allowEmptyOption ){\n\t\t\t\tself.addItem('');\n\t\t\t}\n\n\t\t\tevt.preventDefault();\n\t\t\tevt.stopPropagation();\n\t\t});\n\t\tself.control.appendChild(button);\n\t});\n\n};\n", "/**\n * Plugin: \"drag_drop\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { TomOption, TomItem } from '../../types/index';\nimport { escape_html, preventDefault, addEvent } from '../../utils';\nimport { getDom, setAttr } from '../../vanilla';\n\n\nconst insertAfter = (referenceNode:Element, newNode:Element) => {\n\treferenceNode.parentNode?.insertBefore(newNode, referenceNode.nextSibling);\n}\n\nconst insertBefore = (referenceNode:Element, newNode:Element) => {\n\treferenceNode.parentNode?.insertBefore(newNode, referenceNode);\n}\n\nconst isBefore = (referenceNode:Element|undefined|null, newNode:Element|undefined|null) =>{\n\t\n\tdo{\n\t\tnewNode = newNode?.previousElementSibling;\n\n\t\tif( referenceNode == newNode ){\n\t\t\treturn true;\n\t\t}\n\n\t}while( newNode && newNode.previousElementSibling );\n\n\treturn false;\n}\n\nexport default function(this:TomSelect) {\n\tvar self = this;\n\tif (self.settings.mode !== 'multi') return;\n\n\tvar orig_lock\t\t= self.lock;\n\tvar orig_unlock\t\t= self.unlock;\n\tlet sortable = true;\n\t\tlet drag_item:TomItem|undefined;\n\n\n\t/**\n\t * Add draggable attribute to item\n\t */\n\tself.hook('after','setupTemplates',() => {\n\n\t\tvar orig_render_item = self.settings.render.item;\n\n\t\tself.settings.render.item = (data:TomOption, escape:typeof escape_html) => {\n\t\t\tconst item = getDom(orig_render_item.call(self, data, escape)) as TomItem;\n\t\t\tsetAttr(item,{'draggable':'true'});\n\n\n\t\t\t// prevent doc_mousedown (see tom-select.ts)\n\t\t\tconst mousedown = (evt:Event) => {\n\t\t\t\tif( !sortable ) preventDefault(evt);\n\t\t\t\tevt.stopPropagation();\n\t\t\t}\n\n\t\t\tconst dragStart = (evt:Event) => {\n\t\t\t\tdrag_item = item;\n\t\t\t\t\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\titem.classList.add('ts-dragging');\n\t\t\t\t}, 0);\n\t\t\t\t\n\t\t\t}\n\n\t\t\tconst dragOver = (evt:Event) =>{\n\t\t\t\tevt.preventDefault();\n\t\t\t\titem.classList.add('ts-drag-over');\n\t\t\t\tmoveitem(item,drag_item);\n\t\t\t}\n\n\t\t\tconst dragLeave = () => {\n\t\t\t\titem.classList.remove('ts-drag-over');\n\t\t\t}\n\n\t\t\tconst moveitem = (targetitem:TomItem, dragitem:TomItem|undefined) => {\n\t\t\t\tif( dragitem === undefined ) return;\n\t\t\t\t\n\t\t\t\tif( isBefore(dragitem,item) ){\n\t\t\t\t\tinsertAfter(targetitem,dragitem);\n\t\t\t\t}else{\n\t\t\t\t\tinsertBefore(targetitem,dragitem);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst dragend = () => {\n\t\t\t\tdocument.querySelectorAll('.ts-drag-over').forEach(el=> el.classList.remove('ts-drag-over'));\n\t\t\t\tdrag_item?.classList.remove('ts-dragging');\n\t\t\t\tdrag_item = undefined;\n\n\t\t\t\tvar values:string[] = [];\n\t\t\t\tself.control.querySelectorAll(`[data-value]`).forEach((el:Element)=> {\n\t\t\t\t\tif( (<HTMLOptionElement>el).dataset.value ){\n\t\t\t\t\t\tlet value = (<HTMLOptionElement>el).dataset.value;\n\t\t\t\t\t\tif( value ){\n\t\t\t\t\t\t\tvalues.push(value);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tself.setValue(values);\n\t\t\t}\t\n\n\n\t\t\taddEvent(item,'mousedown', mousedown);\n\t\t\taddEvent(item,'dragstart', dragStart);\n\t\t\taddEvent(item,'dragenter', dragOver)\n\t\t\taddEvent(item,'dragover', dragOver);\n\t\t\taddEvent(item,'dragleave', dragLeave);\n\t\t\taddEvent(item,'dragend', dragend);\n\t\t\t\t\n\t\t\treturn item;\n\t\t}\t\n\t});\n\n\n\n\tself.hook('instead','lock',()=>{\n\t\tsortable = false;\n\t\treturn orig_lock.call(self);\n\t});\n\n\tself.hook('instead','unlock',()=>{\n\t\tsortable = true;\n\t\treturn orig_unlock.call(self);\n\t});\n\n};\n", "/**\n * Plugin: \"dropdown_header\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { getDom } from '../../vanilla';\nimport { preventDefault } from '../../utils';\nimport { DHOptions } from './types';\n\nexport default function(this:TomSelect, userOptions:DHOptions) {\n\tconst self = this;\n\n\tconst options = Object.assign({\n\t\ttitle         : 'Untitled',\n\t\theaderClass   : 'dropdown-header',\n\t\ttitleRowClass : 'dropdown-header-title',\n\t\tlabelClass    : 'dropdown-header-label',\n\t\tcloseClass    : 'dropdown-header-close',\n\n\t\thtml: (data:DHOptions) => {\n\t\t\treturn (\n\t\t\t\t'<div class=\"' + data.headerClass + '\">' +\n\t\t\t\t\t'<div class=\"' + data.titleRowClass + '\">' +\n\t\t\t\t\t\t'<span class=\"' + data.labelClass + '\">' + data.title + '</span>' +\n\t\t\t\t\t\t'<a class=\"' + data.closeClass + '\">&times;</a>' +\n\t\t\t\t\t'</div>' +\n\t\t\t\t'</div>'\n\t\t\t);\n\t\t}\n\t}, userOptions);\n\n\tself.on('initialize',()=>{\n\t\tvar header = getDom(options.html(options));\n\n\t\tvar close_link = header.querySelector('.'+options.closeClass);\n\t\tif( close_link ){\n\t\t\tclose_link.addEventListener('click',(evt)=>{\n\t\t\t\tpreventDefault(evt,true);\n\t\t\t\tself.close();\n\t\t\t});\n\t\t}\n\n\t\tself.dropdown.insertBefore(header, self.dropdown.firstChild);\n\t});\n\n};\n", "/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { nodeIndex, removeClasses } from '../../vanilla';\n\n\nexport default function(this:TomSelect) {\n\tvar self = this;\n\n\t/**\n\t * Moves the caret to the specified index.\n\t *\n\t * The input must be moved by leaving it in place and moving the\n\t * siblings, due to the fact that focus cannot be restored once lost\n\t * on mobile webkit devices\n\t *\n\t */\n\tself.hook('instead','setCaret',(new_pos:number) => {\n\n\t\tif( self.settings.mode === 'single' || !self.control.contains(self.control_input) ) {\n\t\t\tnew_pos = self.items.length;\n\t\t} else {\n\t\t\tnew_pos = Math.max(0, Math.min(self.items.length, new_pos));\n\n\t\t\tif( new_pos != self.caretPos && !self.isPending ){\n\n\t\t\t\tself.controlChildren().forEach((child,j) => {\n\t\t\t\t\tif( j < new_pos ){\n\t\t\t\t\t\tself.control_input.insertAdjacentElement('beforebegin', child );\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.control.appendChild( child );\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\n\t\tself.caretPos = new_pos;\n\t});\n\n\tself.hook('instead','moveCaret',(direction:number) => {\n\n\t\tif( !self.isFocused ) return;\n\n\t\t// move caret before or after selected items\n\t\tconst last_active\t\t= self.getLastActive(direction);\n\t\tif( last_active ){\n\t\t\tconst idx = nodeIndex(last_active);\n\t\t\tself.setCaret(direction > 0 ? idx + 1: idx);\n\t\t\tself.setActiveItem();\n\t\t\tremoveClasses(last_active as HTMLElement,'last-active');\n\n\t\t// move caret left or right of current position\n\t\t}else{\n\t\t\tself.setCaret(self.caretPos + direction);\n\n\t\t}\n\n\t});\n\n};\n", "/**\n * Plugin: \"dropdown_input\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport * as constants from '../../constants';\nimport { getDom, addClasses } from '../../vanilla';\nimport { addEvent, preventDefault } from '../../utils';\n\n\nexport default function(this:TomSelect) {\n\tconst self = this;\n\n\tself.settings.shouldOpen = true; // make sure the input is shown even if there are no options to display in the dropdown\n\n\tself.hook('before','setup',()=>{\n\t\tself.focus_node\t\t= self.control;\n\n\t\taddClasses( self.control_input, 'dropdown-input');\n\n\t \tconst div = getDom('<div class=\"dropdown-input-wrap\">');\n\t\tdiv.append(self.control_input);\n\t\tself.dropdown.insertBefore(div, self.dropdown.firstChild);\n\n\t\t// set a placeholder in the select control\n\t\tconst placeholder = getDom('<input class=\"items-placeholder\" tabindex=\"-1\" />') as HTMLInputElement;\n\t\tplaceholder.placeholder = self.settings.placeholder ||'';\n\t\tself.control.append(placeholder);\n\n\t});\n\n\n\tself.on('initialize',()=>{\n\n\t\t// set tabIndex on control to -1, otherwise [shift+tab] will put focus right back on control_input\n\t\tself.control_input.addEventListener('keydown',(evt:KeyboardEvent) =>{\n\t\t//addEvent(self.control_input,'keydown' as const,(evt:KeyboardEvent) =>{\n\t\t\tswitch( evt.keyCode ){\n\t\t\t\tcase constants.KEY_ESC:\n\t\t\t\t\tif (self.isOpen) {\n\t\t\t\t\t\tpreventDefault(evt,true);\n\t\t\t\t\t\tself.close();\n\t\t\t\t\t}\n\t\t\t\t\tself.clearActiveItems();\n\t\t\t\treturn;\n\t\t\t\tcase constants.KEY_TAB:\n\t\t\t\t\tself.focus_node.tabIndex = -1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\treturn self.onKeyDown.call(self,evt);\n\t\t});\n\n\t\tself.on('blur',()=>{\n\t\t\tself.focus_node.tabIndex = self.isDisabled ? -1 : self.tabIndex;\n\t\t});\n\n\n\t\t// give the control_input focus when the dropdown is open\n\t\tself.on('dropdown_open',() =>{\n\t\t\tself.control_input.focus();\n\t\t});\n\n\t\t// prevent onBlur from closing when focus is on the control_input\n\t\tconst orig_onBlur = self.onBlur;\n\t\tself.hook('instead','onBlur',(evt?:FocusEvent)=>{\n\t\t\tif( evt && evt.relatedTarget == self.control_input ) return;\n\t\t\treturn orig_onBlur.call(self);\n\t\t});\n\n\t\taddEvent(self.control_input,'blur', () => self.onBlur() );\n\n\t\t// return focus to control to allow further keyboard input\n\t\tself.hook('before','close',() =>{\n\n\t\t\tif( !self.isOpen ) return;\n\t\t\tself.focus_node.focus({preventScroll: true});\n\t\t});\n\n\t});\n\n};\n", "/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { addEvent } from '../../utils';\n\nexport default function(this:TomSelect) {\n\tvar self\t\t\t\t\t= this;\n\n\tself.on('initialize',()=>{\n\n\n\t\tvar test_input\t\t\t\t= document.createElement('span');\n\t\tvar control\t\t\t\t\t= self.control_input;\n\t\ttest_input.style.cssText\t= 'position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ';\n\n\t\tself.wrapper.appendChild(test_input);\n\n\n\t\tvar transfer_styles\t\t\t= [ 'letterSpacing', 'fontSize', 'fontFamily', 'fontWeight', 'textTransform' ];\n\n\t\tfor( const style_name of transfer_styles ){\n\t\t\t// @ts-ignore TS7015 https://stackoverflow.com/a/50506154/697576\n\t\t\ttest_input.style[style_name] = control.style[style_name];\n\t\t}\n\n\n\t\t/**\n\t\t * Set the control width\n\t\t *\n\t\t */\n\t\tvar resize = ()=>{\n\t\t\ttest_input.textContent\t= control.value;\n\t\t\tcontrol.style.width\t\t= test_input.clientWidth+'px';\n\t\t};\n\n\t\tresize();\n\t\tself.on('update item_add item_remove',resize);\n\t\taddEvent(control,'input', resize );\n\t\taddEvent(control,'keyup', resize );\n\t\taddEvent(control,'blur', resize );\n\t\taddEvent(control,'update', resize );\n\t});\n\n};\n", "/**\n * Plugin: \"input_autogrow\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\n\nexport default function(this:TomSelect) {\n\tvar self = this;\n\tvar orig_deleteSelection = self.deleteSelection;\n\n\tthis.hook('instead','deleteSelection',(evt:KeyboardEvent) => {\n\n\t\tif( self.activeItems.length ){\n\t\t\treturn orig_deleteSelection.call(self, evt);\n\t\t}\n\n\t\treturn false;\n\t});\n\n};\n", "/**\n * Plugin: \"no_active_items\" (Tom Select)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\n\nexport default function(this:TomSelect) {\n\tthis.hook('instead','setActiveItem',() => {});\n\tthis.hook('instead','selectAll',() => {});\n};\n", "/**\n * Plugin: \"optgroup_columns\" (Tom Select.js)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport * as constants from '../../constants';\nimport { parentMatch, nodeIndex } from '../../vanilla';\n\nexport default function(this:TomSelect) {\n\tvar self = this;\n\n\tvar orig_keydown = self.onKeyDown;\n\n\tself.hook('instead','onKeyDown',(evt:KeyboardEvent)=>{\n\t\tvar index, option, options, optgroup;\n\n\t\tif( !self.isOpen || !(evt.keyCode === constants.KEY_LEFT || evt.keyCode === constants.KEY_RIGHT)) {\n\t\t\treturn orig_keydown.call(self,evt);\n\t\t}\n\n\t\tself.ignoreHover\t= true;\n\t\toptgroup\t\t\t= parentMatch(self.activeOption,'[data-group]');\n\t\tindex\t\t\t\t= nodeIndex(self.activeOption,'[data-selectable]');\n\n\t\tif( !optgroup ){\n\t\t\treturn;\n\t\t}\n\n\t\tif( evt.keyCode === constants.KEY_LEFT ){\n\t\t\toptgroup = optgroup.previousSibling;\n\t\t} else {\n\t\t\toptgroup = optgroup.nextSibling;\n\t\t}\n\n\t\tif( !optgroup ){\n\t\t\treturn;\n\t\t}\n\n\t\toptions\t\t\t\t= (<HTMLOptGroupElement>optgroup).querySelectorAll('[data-selectable]');\n\t\toption\t\t\t\t= options[ Math.min(options.length - 1, index) ] as HTMLElement;\n\n\t\tif( option ){\n\t\t\tself.setActiveOption(option);\n\t\t}\n\n\t});\n\n};\n", "/**\n * Plugin: \"remove_button\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { getDom } from '../../vanilla';\nimport { escape_html, preventDefault, addEvent } from '../../utils';\nimport { TomOption, TomItem } from '../../types/index';\nimport { RBOptions } from './types';\n\nexport default function(this:TomSelect, userOptions:RBOptions) {\n\n\tconst options = Object.assign({\n\t\t\tlabel     : '&times;',\n\t\t\ttitle     : 'Remove',\n\t\t\tclassName : 'remove',\n\t\t\tappend    : true\n\t\t}, userOptions);\n\n\n\t//options.className = 'remove-single';\n\tvar self\t\t\t= this;\n\n\t// override the render method to add remove button to each item\n\tif( !options.append ){\n\t\treturn;\n\t}\n\n\tvar html = '<a href=\"javascript:void(0)\" class=\"' + options.className + '\" tabindex=\"-1\" title=\"' + escape_html(options.title) + '\">' + options.label + '</a>';\n\n\tself.hook('after','setupTemplates',() => {\n\n\t\tvar orig_render_item = self.settings.render.item;\n\n\t\tself.settings.render.item = (data:TomOption, escape:typeof escape_html) => {\n\n\t\t\tvar item = getDom(orig_render_item.call(self, data, escape)) as TomItem;\n\n\t\t\tvar close_button = getDom(html);\n\t\t\titem.appendChild(close_button);\n\n\t\t\taddEvent(close_button,'mousedown',(evt) => {\n\t\t\t\tpreventDefault(evt,true);\n\t\t\t});\n\n\t\t\taddEvent(close_button,'click',(evt) => {\n\n\t\t\t\tif( self.isLocked ) return;\n\n\t\t\t\t// propagating will trigger the dropdown to show for single mode\n\t\t\t\tpreventDefault(evt,true);\n\n\t\t\t\tif( self.isLocked ) return;\n\t\t\t\tif( !self.shouldDelete([item],evt as MouseEvent) ) return;\n\n\t\t\t\tself.removeItem(item);\n\t\t\t\tself.refreshOptions(false);\n\t\t\t\tself.inputState();\n\t\t\t});\n\n\t\t\treturn item;\n\t\t};\n\n\t});\n\n\n};\n", "/**\n * Plugin: \"restore_on_backspace\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\nimport TomSelect from '../../tom-select';\nimport { TomOption } from '../../types/index';\n\ntype TPluginOptions = {\n\ttext?:(option:TomOption)=>string,\n};\n\nexport default function(this:TomSelect, userOptions:TPluginOptions) {\n\tconst self = this;\n\n\tconst options = Object.assign({\n\t\ttext: (option:TomOption) => {\n\t\t\treturn option[self.settings.labelField];\n\t\t}\n\t},userOptions);\n\n\tself.on('item_remove',function(value:string){\n\t\tif( !self.isFocused ){\n\t\t\treturn;\n\t\t}\n\n\t\tif( self.control_input.value.trim() === '' ){\n\t\t\tvar option = self.options[value];\n\t\t\tif( option ){\n\t\t\t\tself.setTextboxValue(options.text.call(self, option));\n\t\t\t}\n\t\t}\n\t});\n\n};\n", "/**\n * Plugin: \"restore_on_backspace\" (Tom Select)\n * Copyright (c) contributors\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this\n * file except in compliance with the License. You may obtain a copy of the License at:\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF\n * ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n *\n */\n\nimport TomSelect from '../../tom-select';\nimport { TomOption } from '../../types/index';\nimport { addClasses } from '../../vanilla';\n\nexport default function(this:TomSelect) {\n\tconst self\t\t\t\t\t\t\t= this;\n\tconst orig_canLoad\t\t\t\t\t= self.canLoad;\n\tconst orig_clearActiveOption\t\t= self.clearActiveOption;\n\tconst orig_loadCallback\t\t\t\t= self.loadCallback;\n\n\tvar pagination:{[key:string]:any}\t= {};\n\tvar dropdown_content:HTMLElement;\n\tvar loading_more\t\t\t\t\t= false;\n\tvar load_more_opt:HTMLElement;\n\tvar default_values: string[]\t\t= [];\n\n\tif( !self.settings.shouldLoadMore ){\n\n\t\t// return true if additional results should be loaded\n\t\tself.settings.shouldLoadMore = ():boolean=>{\n\n\t\t\tconst scroll_percent = dropdown_content.clientHeight / (dropdown_content.scrollHeight - dropdown_content.scrollTop);\n\t\t\tif( scroll_percent > 0.9 ){\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif( self.activeOption ){\n\t\t\t\tvar selectable\t= self.selectable();\n\t\t\t\tvar index\t\t= Array.from(selectable).indexOf(self.activeOption);\n\t\t\t\tif( index >= (selectable.length-2) ){\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t}\n\n\n\tif( !self.settings.firstUrl ){\n\t\tthrow 'virtual_scroll plugin requires a firstUrl() method';\n\t}\n\n\n\t// in order for virtual scrolling to work,\n\t// options need to be ordered the same way they're returned from the remote data source\n\tself.settings.sortField\t\t\t= [{field:'$order'},{field:'$score'}];\n\n\n\t// can we load more results for given query?\n\tconst canLoadMore = (query:string):boolean => {\n\n\t\tif( typeof self.settings.maxOptions === 'number' && dropdown_content.children.length >= self.settings.maxOptions ){\n\t\t\treturn false;\n\t\t}\n\n\t\tif( (query in pagination) && pagination[query] ){\n\t\t\treturn true;\n\t\t}\n\n\t\treturn false;\n\t};\n\n\tconst clearFilter = (option:TomOption, value:string):boolean => {\n\t\tif( self.items.indexOf(value) >= 0 || default_values.indexOf(value) >= 0 ){\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t};\n\n\n\t// set the next url that will be\n\tself.setNextUrl = (value:string,next_url:any):void => {\n\t\tpagination[value] = next_url;\n\t};\n\n\t// getUrl() to be used in settings.load()\n\tself.getUrl = (query:string):any =>{\n\n\t\tif( query in pagination ){\n\t\t\tconst next_url = pagination[query];\n\t\t\tpagination[query] = false;\n\t\t\treturn next_url;\n\t\t}\n\n\t\t// if the user goes back to a previous query\n\t\t// we need to load the first page again\n\t\tself.clearPagination();\n\n\t\treturn self.settings.firstUrl.call(self,query);\n\t};\n\n\t// clear pagination\n\tself.clearPagination = ():void =>{\n\t\tpagination = {};\n\t};\n\n\t// don't clear the active option (and cause unwanted dropdown scroll)\n\t// while loading more results\n\tself.hook('instead','clearActiveOption',()=>{\n\n\t\tif( loading_more ){\n\t\t\treturn;\n\t\t}\n\n\t\treturn orig_clearActiveOption.call(self);\n\t});\n\n\t// override the canLoad method\n\tself.hook('instead','canLoad',(query:string)=>{\n\n\t\t// first time the query has been seen\n\t\tif( !(query in pagination) ){\n\t\t\treturn orig_canLoad.call(self,query);\n\t\t}\n\n\t\treturn canLoadMore(query);\n\t});\n\n\n\t// wrap the load\n\tself.hook('instead','loadCallback',( options:TomOption[], optgroups:TomOption[])=>{\n\n\t\tif( !loading_more ){\n\t\t\tself.clearOptions(clearFilter);\n\t\t}else if( load_more_opt ){\n\t\t\tconst first_option = options[0];\n\t\t\tif( first_option !== undefined ){\n\t\t\t\tload_more_opt.dataset.value\t\t= first_option[self.settings.valueField];\n\t\t\t}\n\t\t}\n\n\t\torig_loadCallback.call( self, options, optgroups);\n\n\t\tloading_more = false;\n\t});\n\n\n\t// add templates to dropdown\n\t//\tloading_more if we have another url in the queue\n\t//\tno_more_results if we don't have another url in the queue\n\tself.hook('after','refreshOptions',()=>{\n\n\t\tconst query\t\t= self.lastValue;\n\t\tvar option;\n\n\t\tif( canLoadMore(query) ){\n\n\t\t\toption = self.render('loading_more',{query:query});\n\t\t\tif( option ){\n\t\t\t\toption.setAttribute('data-selectable',''); // so that navigating dropdown with [down] keypresses can navigate to this node\n\t\t\t\tload_more_opt = option;\n\t\t\t}\n\n\t\t}else if( (query in pagination) && !dropdown_content.querySelector('.no-results') ){\n\t\t\toption = self.render('no_more_results',{query:query});\n\t\t}\n\n\t\tif( option ){\n\t\t\taddClasses(option,self.settings.optionClass);\n\t\t\tdropdown_content.append( option );\n\t\t}\n\n\t});\n\n\n\t// add scroll listener and default templates\n\tself.on('initialize',()=>{\n\t\tdefault_values = Object.keys(self.options);\n\t\tdropdown_content = self.dropdown_content;\n\n\t\t// default templates\n\t\tself.settings.render = Object.assign({}, {\n\t\t\tloading_more:() => {\n\t\t\t\treturn `<div class=\"loading-more-results\">Loading more results ... </div>`;\n\t\t\t},\n\t\t\tno_more_results:() =>{\n\t\t\t\treturn `<div class=\"no-more-results\">No more results</div>`;\n\t\t\t}\n\t\t},self.settings.render);\n\n\n\t\t// watch dropdown content scroll position\n\t\tdropdown_content.addEventListener('scroll',()=>{\n\n\t\t\tif( !self.settings.shouldLoadMore.call(self) ){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// !important: this will get checked again in load() but we still need to check here otherwise loading_more will be set to true\n\t\t\tif( !canLoadMore(self.lastValue) ){\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// don't call load() too much\n\t\t\tif( loading_more ) return;\n\n\n\t\t\tloading_more = true;\n\t\t\tself.load.call(self,self.lastValue);\n\t\t});\n\t});\n\n};\n", "import TomSelect from './tom-select';\n\nimport change_listener from './plugins/change_listener/plugin';\nimport checkbox_options from './plugins/checkbox_options/plugin';\nimport clear_button from './plugins/clear_button/plugin';\nimport drag_drop from './plugins/drag_drop/plugin';\nimport dropdown_header from './plugins/dropdown_header/plugin';\nimport caret_position from './plugins/caret_position/plugin';\nimport dropdown_input from './plugins/dropdown_input/plugin';\nimport input_autogrow from './plugins/input_autogrow/plugin';\nimport no_backspace_delete from './plugins/no_backspace_delete/plugin';\nimport no_active_items from './plugins/no_active_items/plugin';\nimport optgroup_columns from './plugins/optgroup_columns/plugin';\nimport remove_button from './plugins/remove_button/plugin';\nimport restore_on_backspace from './plugins/restore_on_backspace/plugin';\nimport virtual_scroll from './plugins/virtual_scroll/plugin';\n\nTomSelect.define('change_listener', change_listener);\nTomSelect.define('checkbox_options', checkbox_options);\nTomSelect.define('clear_button', clear_button);\nTomSelect.define('drag_drop', drag_drop);\nTomSelect.define('dropdown_header', dropdown_header);\nTomSelect.define('caret_position', caret_position);\nTomSelect.define('dropdown_input', dropdown_input);\nTomSelect.define('input_autogrow', input_autogrow);\nTomSelect.define('no_backspace_delete', no_backspace_delete);\nTomSelect.define('no_active_items', no_active_items);\nTomSelect.define('optgroup_columns', optgroup_columns);\nTomSelect.define('remove_button', remove_button);\nTomSelect.define('restore_on_backspace', restore_on_backspace);\nTomSelect.define('virtual_scroll', virtual_scroll);\n\nexport default TomSelect;\n", "export var pointEntree =  'http://localhost:20003/api';", "import { pointEntree } from './config.js';\r\n\r\nexport function load( url ) {\r\n    return fetch(`${pointEntree}${url}`)\r\n        .then(response => response.json())\r\n        .catch(error => console.error('Erreur lors du chargement de la ressource', error));\r\n}", "import {load} from './loader.js';\r\n\r\nasync function loadEntrees(){\r\n    return await load('/entrees');\r\n}\r\n\r\nexport {loadEntrees};", "import Handlebars from 'handlebars';\r\n\r\nconst source = document.getElementById('entreeTemplate').innerHTML;\r\nconst template = Handlebars.compile(source);\r\n\r\nfunction sortEntrees(entrees){\r\n    //On trie les entr\u00E9es dans l'ordre alphab\u00E9tique sur le nom ou le prenom si le nom est le meme\r\n    entrees.sort((a, b) => {\r\n        if(a.nom === b.nom){\r\n            return a.prenom.localeCompare(b.prenom);\r\n        }\r\n        return a.nom.localeCompare(b.nom);\r\n    });\r\n}\r\n\r\nexport function display_entree(entrees) {\r\n    sortEntrees(entrees.entrees);\r\n    document.getElementById('template').innerHTML = template(entrees);\r\n}", "import {loadEntrees} from \"./entreeLoader\";\r\n\r\nlet entrees;\r\n\r\nexport async function searchServices(recherche){\r\n    if (entrees === undefined)\r\n        entrees = await loadEntrees();\r\n\r\n    let result = {\r\n        \"type\": \"ressource\",\r\n        \"entrees\": []\r\n    }\r\n    for (let entree of entrees.entrees){\r\n        entree.services.forEach(service => {\r\n            if (service.libelle.toLowerCase().includes(recherche.toLowerCase())){\r\n                result.entrees.push(entree);\r\n            }\r\n        });\r\n    }\r\n    return result;\r\n}\r\n\r\nexport async function searchEntrees(recherche){\r\n    if (entrees === undefined)\r\n        entrees = await loadEntrees();\r\n\r\n    let result = {\r\n        \"type\": \"ressource\",\r\n        \"entrees\": []\r\n    }\r\n    for (let entree of entrees.entrees){\r\n        if (entree.nom.toLowerCase().includes(recherche.toLowerCase())){\r\n            result.entrees.push(entree);\r\n        }\r\n    }\r\n    return result;\r\n}", "import {loadEntrees} from './entreeLoader.js';\r\nimport {display_entree} from './entree_ui.js';\r\nimport {searchEntrees, searchServices} from './search.js';\r\nimport TomSelect from \"tom-select\";\r\nimport {loadServices} from \"./servicesLoader\";\r\n\r\n//1)\r\nasync function showEntrees(){\r\n    let entrees = await loadEntrees();\r\n    display_entree(entrees);\r\n}\r\n\r\n\r\n//2)\r\n\r\nasync function showSearchedEntreesByServices(recherche){\r\n    let entrees = await searchServices(recherche);\r\n    display_entree(entrees);\r\n}\r\n\r\nconst buttonListeEntrees = document.getElementById('listeEntrees');\r\nbuttonListeEntrees.addEventListener('click', showEntrees);\r\n\r\nasync function services(){\r\n    let services = await loadServices();\r\n    new TomSelect(\"#searchService\", {\r\n        options: services,\r\n        valueField: 'libelle',\r\n        labelField: 'libelle',\r\n        searchField: 'libelle',\r\n        create: false,\r\n        maxItems: 1,\r\n        persist: false,\r\n        onChange: async function(value){\r\n            showSearchedEntreesByServices(value);\r\n        }\r\n    });\r\n}\r\nservices();\r\n\r\n//3)\r\nasync function showSearchedEntreesByNom(recherche){\r\n    let entrees = await searchEntrees(recherche);\r\n    display_entree(entrees);\r\n}\r\n\r\nconst buttonSearch = document.getElementById('searchNom');\r\nbuttonSearch.addEventListener('input', function(){\r\n    showSearchedEntreesByNom(buttonSearch.value);\r\n});", "import {load} from './loader.js';\r\n\r\nasync function loadServices(){\r\n    return await load('/services');\r\n}\r\n\r\nexport {loadServices};"],
  "mappings": "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AC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CAAC,GAAE,CAAC,IAAG,CA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E,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,GAAE,IAAG,GAAE,IAAG,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,GAAE,IAAG,CAAC,GAAE,CAAC,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,GAAE,IAAG,GAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,IAAG,GAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,GAAE,IAAG,GAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,IAAG,GAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,GAAE,IAAG,GAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,KAAI,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,CAAC,GAAE,GAAG,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,GAAG,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,KAAI,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,KAAI,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,KAAI,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,KAAI,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,KAAI,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,IAAG,IAAG,IAAG,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,GAAE,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,GAAE,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,GAAE,IAAG,IAAG,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,KAAI,IAAG,KAAI,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,GAAE,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,GAAE,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,GAAE,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,GAAG,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAAE,EAAC,GAAE,EAAC,IAAG,CAAC,GAAE,EAA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",
  "names": ["isFunction", "options", "ret", "wrapper", "template", "ret", "context", "options", "Handlebars", "self", "lexer", "source", "compile", "source", "sourceFile", "source", "needle", "section", "source", "source", "source", "forEvents", "events", "callback", "split", "forEach", "event", "MicroEvent", "constructor", "_events", "on", "fct", "event_array", "push", "off", "n", "arguments", "length", "undefined", "splice", "indexOf", "trigger", "args", "self", "apply", "MicroPlugin", "Interface", "plugins", "names", "settings", "requested", "loaded", "define", "name", "fn", "initializePlugins", "key", "queue", "Array", "isArray", "plugin", "options", "hasOwnProperty", "shift", "require", "loadPlugin", "Error", "code_points", "unicode_map", "iterate", "get_field", "object", "getDom", "query", "jquery", "HTMLElement", "isHtmlString", "tpl", "document", "createElement", "innerHTML", "trim", "content", "firstChild", "querySelector", "arg", "escapeQuery", "replace", "triggerEvent", "dom_el", "event_name", "createEvent", "initEvent", "dispatchEvent", "applyCSS", "css", "Object", "assign", "style", "addClasses", "elmts", "classes", "norm_classes", "classesArray", "castAsArray", "map", "el", "cls", "classList", "add", "removeClasses", "remove", "_classes", "concat", "filter", "Boolean", "parentMatch", "target", "selector", "wrapper", "contains", "matches", "parentNode", "getTail", "list", "direction", "isEmptyObject", "obj", "keys", "nodeIndex", "amongst", "nodeName", "i", "previousElementSibling", "setAttr", "attrs", "val", "attr", "removeAttribute", "setAttribute", "replaceNode", "existing", "replacement", "replaceChild", "highlight", "element", "regex", "RegExp", "highlightText", "node", "match", "data", "spannode", "className", "middlebit", "splitText", "index", "middleclone", "cloneNode", "appendChild", "highlightChildren", "nodeType", "childNodes", "test", "tagName", "from", "highlightRecursive", "removeHighlight", "elements", "querySelectorAll", "prototype", "call", "parent", "normalize", "KEY_A", "KEY_RETURN", "KEY_ESC", "KEY_LEFT", "KEY_UP", "KEY_RIGHT", "KEY_DOWN", "KEY_BACKSPACE", "KEY_DELETE", "KEY_TAB", "IS_MAC", "navigator", "userAgent", "KEY_SHORTCUT", "optgroups", "delimiter", "splitOn", "persist", "diacritics", "create", "createOnBlur", "createFilter", "openOnFocus", "shouldOpen", "maxOptions", "maxItems", "hideSelected", "duplicates", "addPrecedence", "selectOnTab", "preload", "allowEmptyOption", "refreshThrottle", "loadThrottle", "loadingClass", "dataAttr", "optgroupField", "valueField", "labelField", "disabledField", "optgroupLabelField", "optgroupValueField", "lockOptgroupOrder", "sortField", "searchField", "searchConjunction", "mode", "wrapperClass", "controlClass", "dropdownClass", "dropdownContentClass", "itemClass", "optionClass", "dropdownParent", "controlInput", "copyClassesToDropdown", "placeholder", "hidePlaceholder", "shouldLoad", "render", "hash_key", "value", "get_hash", "escape_html", "str", "timeout", "setTimeout", "loadDebounce", "delay", "loading", "Math", "max", "clearTimeout", "loadedSearches", "debounce_events", "types", "type", "event_args", "getSelection", "input", "start", "selectionStart", "selectionEnd", "preventDefault", "evt", "stop", "stopPropagation", "addEvent", "addEventListener", "isKeyDown", "key_name", "count", "altKey", "ctrlKey", "shiftKey", "metaKey", "getId", "id", "existing_id", "getAttribute", "addSlashes", "append", "getSettings", "settings_user", "defaults", "attr_data", "field_label", "field_value", "field_disabled", "field_optgroup", "field_optgroup_label", "field_optgroup_value", "tag_name", "toLowerCase", "option", "textContent", "settings_element", "items", "init_select", "optionsMap", "group_count", "$order", "readData", "dataset", "json", "JSON", "parse", "addOption", "group", "arr", "option_data", "disabled", "$option", "selected", "addGroup", "optgroup", "optgroup_data", "children", "hasAttribute", "child", "init_textbox", "data_raw", "values", "opt", "instance_i", "TomSelect", "input_arg", "user_settings", "control_input", "dropdown", "control", "dropdown_content", "focus_node", "order", "tabIndex", "is_select_tag", "rtl", "inputId", "_destroy", "sifter", "isOpen", "isDisabled", "isReadOnly", "isRequired", "isInvalid", "isValid", "isLocked", "isFocused", "isInputHidden", "isSetup", "ignoreFocus", "ignoreHover", "hasOptions", "currentResults", "lastValue", "caretPos", "activeOption", "activeItems", "userOptions", "refreshTimeout", "dir", "tomselect", "computedStyle", "window", "getComputedStyle", "getPropertyValue", "required", "Sifter", "setupCallbacks", "setupTemplates", "_render", "inputMode", "setup", "passive_event", "passive", "listboxId", "role", "control_id", "label", "label_click", "focus", "bind", "for", "label_id", "width", "classes_plugins", "join", "multiple", "escape_regex", "load", "e", "target_match", "onOptionHover", "capture", "onOptionSelect", "onItemSelect", "onClick", "onKeyDown", "onKeyPress", "onInput", "onBlur", "onFocus", "onPaste", "doc_mousedown", "composedPath", "blur", "inputState", "win_scroll", "positionDropdown", "removeEventListener", "revertSettings", "insertAdjacentElement", "sync", "refreshState", "updateOriginalInput", "refreshItems", "close", "disable", "readOnly", "setReadOnly", "enable", "onChange", "setupOptions", "addOptions", "registerOptionGroup", "templates", "optgroup_header", "escape", "item", "option_create", "no_results", "not_loading", "callbacks", "get_settings", "setValue", "lastQuery", "clearActiveItems", "onMouseDown", "pastedText", "inputValue", "splitInput", "piece", "hash", "addItem", "createItem", "character", "String", "fromCharCode", "keyCode", "which", "constants", "selectAll", "open", "next", "getAdjacent", "setActiveOption", "prev", "canSelect", "activeElement", "advanceSelection", "deleteSelection", "_onInput", "refreshOptions", "wasFocused", "hasFocus", "deactivate", "setActiveItem", "setCaret", "parentElement", "closeAfterSelect", "canLoad", "loadCallback", "clearActiveOption", "setTextboxValue", "changed", "getValue", "silent", "clear", "addItems", "setMaxItems", "eventName", "begin", "end", "swap", "last", "getLastActive", "setActiveItemClass", "removeActiveItem", "last_active", "idx", "scroll", "scrollToOption", "behavior", "height_menu", "clientHeight", "scrollTop", "height_item", "offsetHeight", "y", "getBoundingClientRect", "top", "scrollBehavior", "controlChildren", "toggle", "offsetWidth", "getScoreFunction", "getSearchOptions", "sort", "field", "fields", "conjunction", "nesting", "search", "result", "calculateScore", "score", "hashed", "triggerDropdown", "j", "k", "html", "has_create_option", "active_group", "groups", "groups_order", "same_query", "results", "active_option", "show_dropdown", "closest", "min", "getGroupFragment", "group_order_i", "order_group", "fragment", "group_fragment", "createDocumentFragment", "opt_value", "opt_hash", "option_el", "getOption", "includes", "self_optgroup", "$id", "toString", "a", "b", "group_order", "group_heading", "group_options", "header", "group_html", "tokens", "tok", "add_template", "template", "insertBefore", "canCreate", "active_index", "selectable", "user_created", "dat", "registerOption", "addOptionGroup", "hashed_id", "removeOptionGroup", "clearCache", "clearOptionGroups", "updateOption", "item_new", "index_item", "value_old", "value_new", "data_old", "getItem", "uncacheValue", "option_new", "removeOption", "removeItem", "clearOptions", "boundFilter", "clearFilter", "$div", "all", "x", "last_item", "isPending", "wasFull", "isFull", "insertAtCaret", "caret", "output", "lock", "created", "unlock", "refreshValidityState", "wrap_classList", "validity", "valid", "opts", "empty_option", "AddSelected", "has_selected", "reuse_opt", "visibility", "display", "context", "rect", "scrollY", "left", "scrollX", "selection", "tail", "rm_items", "rm_item", "shouldDelete", "pop", "onDelete", "adjacent", "nextElementSibling", "moveCaret", "new_pos", "setLocked", "setDisabled", "destroy", "templateName", "hook", "when", "method", "new_fn", "orig_method", "result_new", "orig_onOptionSelect", "cbOptions", "checkedClassNames", "uncheckedClassNames", "UpdateChecked", "checkbox", "toCheck", "checked", "UpdateCheckbox", "HTMLInputElement", "orig_render_option", "rendered", "prepend", "title", "button", "insertAfter", "referenceNode", "newNode", "_referenceNode$parent", "nextSibling", "_referenceNode$parent2", "isBefore", "_newNode", "orig_lock", "orig_unlock", "sortable", "drag_item", "orig_render_item", "mousedown", "dragStart", "dragOver", "moveitem", "dragLeave", "targetitem", "dragitem", "dragend", "_drag_item", "headerClass", "titleRowClass", "labelClass", "closeClass", "close_link", "div", "orig_onBlur", "relatedTarget", "preventScroll", "test_input", "cssText", "transfer_styles", "style_name", "resize", "clientWidth", "orig_deleteSelection", "orig_keydown", "previousSibling", "close_button", "text", "orig_canLoad", "orig_clearActiveOption", "orig_loadCallback", "pagination", "loading_more", "load_more_opt", "default_values", "shouldLoadMore", "scroll_percent", "scrollHeight", "firstUrl", "canLoadMore", "setNextUrl", "next_url", "getUrl", "clearPagination", "first_option", "no_more_results", "change_listener", "checkbox_options", "clear_button", "drag_drop", "dropdown_header", "caret_position", "dropdown_input", "input_autogrow", "no_backspace_delete", "no_active_items", "optgroup_columns", "remove_button", "restore_on_backspace", "virtual_scroll", "Handlebars", "entrees", "entrees", "services", "TomSelect"]
}
